ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"Bootloader.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	Bootloader_Checksum
  20              		.section	.bootloader,"a",%progbits
  21              		.type	Bootloader_Checksum, %object
  22              		.size	Bootloader_Checksum, 1
  23              	Bootloader_Checksum:
  24 0000 00       		.space	1
  25              		.global	Bootloader_SizeBytes
  26 0001 000000   		.align	2
  27              		.type	Bootloader_SizeBytes, %object
  28              		.size	Bootloader_SizeBytes, 4
  29              	Bootloader_SizeBytes:
  30 0004 FFFFFFFF 		.word	-1
  31              		.global	Bootloader_ChecksumAccess
  32              		.data
  33              		.align	2
  34              		.type	Bootloader_ChecksumAccess, %object
  35              		.size	Bootloader_ChecksumAccess, 4
  36              	Bootloader_ChecksumAccess:
  37 0000 00000000 		.word	Bootloader_Checksum
  38              		.global	Bootloader_SizeBytesAccess
  39              		.align	2
  40              		.type	Bootloader_SizeBytesAccess, %object
  41              		.size	Bootloader_SizeBytesAccess, 4
  42              	Bootloader_SizeBytesAccess:
  43 0004 00000000 		.word	Bootloader_SizeBytes
  44              		.bss
  45              		.align	2
  46              	Bootloader_callback:
  47 0000 00000000 		.space	4
  48              		.section	.text.Bootloader_CalcPacketChecksum,"ax",%progbits
  49              		.align	2
  50              		.thumb
  51              		.thumb_func
  52              		.type	Bootloader_CalcPacketChecksum, %function
  53              	Bootloader_CalcPacketChecksum:
  54              	.LFB63:
  55              		.file 1 "Generated_Source\\PSoC5\\Bootloader.c"
   1:Generated_Source\PSoC5/Bootloader.c **** /****************************************************************************//**
   2:Generated_Source\PSoC5/Bootloader.c **** * \file Bootloader.c
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 2


   3:Generated_Source\PSoC5/Bootloader.c **** * \version 1.60
   4:Generated_Source\PSoC5/Bootloader.c **** *
   5:Generated_Source\PSoC5/Bootloader.c **** * \brief
   6:Generated_Source\PSoC5/Bootloader.c **** *   Provides an API for the Bootloader component. The API includes functions
   7:Generated_Source\PSoC5/Bootloader.c **** *   for starting bootloading operations, validating the application and
   8:Generated_Source\PSoC5/Bootloader.c **** *   jumping to the application.
   9:Generated_Source\PSoC5/Bootloader.c **** *
  10:Generated_Source\PSoC5/Bootloader.c **** ********************************************************************************
  11:Generated_Source\PSoC5/Bootloader.c **** * \copyright
  12:Generated_Source\PSoC5/Bootloader.c **** * Copyright 2008-2018, Cypress Semiconductor Corporation.  All rights reserved.
  13:Generated_Source\PSoC5/Bootloader.c **** * You may use this file only in accordance with the license, terms, conditions,
  14:Generated_Source\PSoC5/Bootloader.c **** * disclaimers, and limitations in the end user license agreement accompanying
  15:Generated_Source\PSoC5/Bootloader.c **** * the software package with which this file was provided.
  16:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
  17:Generated_Source\PSoC5/Bootloader.c **** 
  18:Generated_Source\PSoC5/Bootloader.c **** #include "Bootloader_PVT.h"
  19:Generated_Source\PSoC5/Bootloader.c **** 
  20:Generated_Source\PSoC5/Bootloader.c **** 
  21:Generated_Source\PSoC5/Bootloader.c **** 
  22:Generated_Source\PSoC5/Bootloader.c **** #include "project.h"
  23:Generated_Source\PSoC5/Bootloader.c **** #include <string.h>
  24:Generated_Source\PSoC5/Bootloader.c **** 
  25:Generated_Source\PSoC5/Bootloader.c **** #if (CY_BOOT_VERSION < CY_BOOT_5_0)
  26:Generated_Source\PSoC5/Bootloader.c **** #error Component Bootloader_v1_60 requires cy_boot v5.00 or later
  27:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CY_BOOT_VERSION >= CY_BOOT_5_0) */
  28:Generated_Source\PSoC5/Bootloader.c **** 
  29:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
  30:Generated_Source\PSoC5/Bootloader.c **** * The Checksum and SizeBytes are forcefully set in code. We then post process
  31:Generated_Source\PSoC5/Bootloader.c **** * the hex file from the linker and inject their values. When the hex file
  32:Generated_Source\PSoC5/Bootloader.c **** * is loaded into the device, these two variables should have valid values.
  33:Generated_Source\PSoC5/Bootloader.c **** * Because the compiler can do optimization to remove the constant
  34:Generated_Source\PSoC5/Bootloader.c **** * accesses, these should not be accessed directly. Instead, the variables
  35:Generated_Source\PSoC5/Bootloader.c **** * CyBtldr_ChecksumAccess & CyBtldr_SizeBytesAccess should be used to get the
  36:Generated_Source\PSoC5/Bootloader.c **** * proper values at the runtime.
  37:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
  38:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
  39:Generated_Source\PSoC5/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__)
  40:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((section (".bootloader"), used))
  41:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
  42:Generated_Source\PSoC5/Bootloader.c ****     #pragma location=".bootloader"
  43:Generated_Source\PSoC5/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) */
  44:Generated_Source\PSoC5/Bootloader.c **** 
  45:Generated_Source\PSoC5/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__) || defined (__C51__)
  46:Generated_Source\PSoC5/Bootloader.c ****            const uint8  CYCODE Bootloader_Checksum = 0u;
  47:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
  48:Generated_Source\PSoC5/Bootloader.c ****     __root const uint8  CYCODE Bootloader_Checksum = 0u;
  49:Generated_Source\PSoC5/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) || defined (__C51__) */
  50:Generated_Source\PSoC5/Bootloader.c **** const uint8  CYCODE *Bootloader_ChecksumAccess  = (const uint8  CYCODE *)(&Bootloader_Checksum);
  51:Generated_Source\PSoC5/Bootloader.c **** 
  52:Generated_Source\PSoC5/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__)
  53:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((section (".bootloader"), used))
  54:Generated_Source\PSoC5/Bootloader.c ****     const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
  55:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
  56:Generated_Source\PSoC5/Bootloader.c ****     #pragma location=".bootloader"
  57:Generated_Source\PSoC5/Bootloader.c ****     __root const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
  58:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__C51__)
  59:Generated_Source\PSoC5/Bootloader.c ****     const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 3


  60:Generated_Source\PSoC5/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) */
  61:Generated_Source\PSoC5/Bootloader.c **** 
  62:Generated_Source\PSoC5/Bootloader.c **** const uint32 CYCODE *Bootloader_SizeBytesAccess = (const uint32 CYCODE *)(&Bootloader_SizeBytes);
  63:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
  64:Generated_Source\PSoC5/Bootloader.c **** 
  65:Generated_Source\PSoC5/Bootloader.c **** /**
  66:Generated_Source\PSoC5/Bootloader.c ****  \defgroup variables_group Variables
  67:Generated_Source\PSoC5/Bootloader.c ****  @{
  68:Generated_Source\PSoC5/Bootloader.c **** */
  69:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
  70:Generated_Source\PSoC5/Bootloader.c **** /**
  71:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to indicate that in-application 
  72:Generated_Source\PSoC5/Bootloader.c ****  *  bootloading initialization is done. The initialization itself is performed in the
  73:Generated_Source\PSoC5/Bootloader.c ****  *  Bootloader_Initialize() function. Once the initialization is done,
  74:Generated_Source\PSoC5/Bootloader.c ****  *  the variable is set and this prevents the functionality from reinitialization.
  75:Generated_Source\PSoC5/Bootloader.c ****  */
  76:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_initVar = Bootloader_BOOTLOADING_NOT_INITIALIZED;
  77:Generated_Source\PSoC5/Bootloader.c **** 
  78:Generated_Source\PSoC5/Bootloader.c **** /**
  79:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to keep the current application number. It applies
  80:Generated_Source\PSoC5/Bootloader.c ****  *  only to in-application bootloading.
  81:Generated_Source\PSoC5/Bootloader.c ****  */
  82:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_runningApp = Bootloader_RUNNING_APPLICATION_UNKNOWN;
  83:Generated_Source\PSoC5/Bootloader.c **** 
  84:Generated_Source\PSoC5/Bootloader.c **** /**
  85:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to indicate that 'Enter bootloader' command has
  86:Generated_Source\PSoC5/Bootloader.c ****  *  been received. It applies only to in-application bootloading.
  87:Generated_Source\PSoC5/Bootloader.c ****  */
  88:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_isBootloading = Bootloader_BOOTLOADING_COMPLETED;
  89:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/
  90:Generated_Source\PSoC5/Bootloader.c **** 
  91:Generated_Source\PSoC5/Bootloader.c **** #if ((0u != Bootloader_DUAL_APP_BOOTLOADER)  || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOT
  92:Generated_Source\PSoC5/Bootloader.c **** /**
  93:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to keep the active application number. It applies
  94:Generated_Source\PSoC5/Bootloader.c ****  *  to Classic Dual-app Bootloader and in-application bootloading.
  95:Generated_Source\PSoC5/Bootloader.c ****  */
  96:Generated_Source\PSoC5/Bootloader.c **** volatile uint8 Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_NONE;
  97:Generated_Source\PSoC5/Bootloader.c **** #else /*SINGLE-APP BOOTLOADER*/
  98:Generated_Source\PSoC5/Bootloader.c ****     #define Bootloader_activeApp      (Bootloader_MD_BTLDB_ACTIVE_0)
  99:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
 100:Generated_Source\PSoC5/Bootloader.c **** 
 101:Generated_Source\PSoC5/Bootloader.c **** 
 102:Generated_Source\PSoC5/Bootloader.c **** #if (0u != Bootloader_SECURITY_KEY_AVAIL) 
 103:Generated_Source\PSoC5/Bootloader.c **** /**
 104:Generated_Source\PSoC5/Bootloader.c ****  *  This variable holds the security key for additional safety during communication.
 105:Generated_Source\PSoC5/Bootloader.c ****  */
 106:Generated_Source\PSoC5/Bootloader.c **** static const uint8 CYCODE Bootloader_securityKey[Bootloader_SECURITY_KEY_LENGTH] = {0x11u, 0x22u, 0
 107:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_SECURITY_KEY_AVAIL)*/
 108:Generated_Source\PSoC5/Bootloader.c **** 
 109:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) && (!CY_PSOC3))
 110:Generated_Source\PSoC5/Bootloader.c **** /**
 111:Generated_Source\PSoC5/Bootloader.c ****  *  This variable holds the pointer on the user's callback-function that implements the custom 
 112:Generated_Source\PSoC5/Bootloader.c ****  *  bootloader command processing.
 113:Generated_Source\PSoC5/Bootloader.c ****  */
 114:Generated_Source\PSoC5/Bootloader.c **** static Bootloader_callback_type Bootloader_callback = NULL;
 115:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) && (!CY_PSOC3)*/
 116:Generated_Source\PSoC5/Bootloader.c **** /** @}*/
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 4


 117:Generated_Source\PSoC5/Bootloader.c ****  
 118:Generated_Source\PSoC5/Bootloader.c **** /***************************************
 119:Generated_Source\PSoC5/Bootloader.c **** *     Function Prototypes
 120:Generated_Source\PSoC5/Bootloader.c **** ***************************************/
 121:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 122:Generated_Source\PSoC5/Bootloader.c ****     static void  Bootloader_LaunchApplication(void) CYSMALL \
 123:Generated_Source\PSoC5/Bootloader.c ****                     ; 
 124:Generated_Source\PSoC5/Bootloader.c **** #if(!CY_PSOC3)
 125:Generated_Source\PSoC5/Bootloader.c ****     /* Implementation for PSoC 3 resides in Bootloader_psoc3.a51 file.  */
 126:Generated_Source\PSoC5/Bootloader.c ****     static void     Bootloader_LaunchBootloadable(uint32 appAddr);
 127:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (!CY_PSOC3) */
 128:Generated_Source\PSoC5/Bootloader.c **** #endif /* CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER */ 
 129:Generated_Source\PSoC5/Bootloader.c **** 
 130:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
 131:Generated_Source\PSoC5/Bootloader.c ****     static cystatus Bootloader_WritePacket(uint8 status, uint8 buffer[], uint16 size) CYSMALL \
 132:Generated_Source\PSoC5/Bootloader.c ****                                     ;
 133:Generated_Source\PSoC5/Bootloader.c **** 
 134:Generated_Source\PSoC5/Bootloader.c ****     static uint16   Bootloader_CalcPacketChecksum(const uint8 buffer[], uint16 size) CYSMALL \
 135:Generated_Source\PSoC5/Bootloader.c ****                                     ;
 136:Generated_Source\PSoC5/Bootloader.c ****                                     
 137:Generated_Source\PSoC5/Bootloader.c ****     #if (0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
 138:Generated_Source\PSoC5/Bootloader.c ****     static uint8 Bootloader_VerifyRow(uint32 flashStart, const uint8 ramStart[], uint16 size) \
 139:Generated_Source\PSoC5/Bootloader.c ****                 CYSMALL ;                                
 140:Generated_Source\PSoC5/Bootloader.c ****     #endif /*(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)*/            
 141:Generated_Source\PSoC5/Bootloader.c **** 
 142:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)                                    
 143:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_HostLink(uint8 timeOut) CYLARGE ;
 144:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */                            
 145:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)*/
 146:Generated_Source\PSoC5/Bootloader.c ****                                     
 147:Generated_Source\PSoC5/Bootloader.c **** #if (((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)) \
 148:Generated_Source\PSoC5/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
 149:Generated_Source\PSoC5/Bootloader.c ****     static uint8 Bootloader_CheckImage(uint8 appNumber, uint8 arrayNumber, uint16 row, uint16 rowNu
 150:Generated_Source\PSoC5/Bootloader.c ****                                     ;                                    
 151:Generated_Source\PSoC5/Bootloader.c **** #endif /*(((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER))
 152:Generated_Source\PSoC5/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
 153:Generated_Source\PSoC5/Bootloader.c **** 
 154:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || (0u != Bootloader_DUAL_APP_BOOTL
 155:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_SetActiveAppInMetadata(uint8 activeApp) CYSMALL \
 156:Generated_Source\PSoC5/Bootloader.c ****                 ;
 157:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || (0u != Bootloader_DUAL_APP_
 158:Generated_Source\PSoC5/Bootloader.c **** 
 159:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 160:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 161:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))
 162:Generated_Source\PSoC5/Bootloader.c ****     static uint8 Bootloader_GetActiveAppFromMetadata(void) CYSMALL \
 163:Generated_Source\PSoC5/Bootloader.c ****                 ;                     
 164:Generated_Source\PSoC5/Bootloader.c **** #endif /*((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 165:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 166:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) */
 167:Generated_Source\PSoC5/Bootloader.c ****           
 168:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)
 169:Generated_Source\PSoC5/Bootloader.c **** #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)) 
 170:Generated_Source\PSoC5/Bootloader.c ****     static cystatus Bootloader_CopyRow(uint16 srcRowNum, uint16 dstRowNum) \
 171:Generated_Source\PSoC5/Bootloader.c ****                  CYSMALL ;
 172:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_Copier(void) CYSMALL ;
 173:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 5


 174:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 175:Generated_Source\PSoC5/Bootloader.c ****                        
 176:Generated_Source\PSoC5/Bootloader.c **** 
 177:Generated_Source\PSoC5/Bootloader.c **** /**
 178:Generated_Source\PSoC5/Bootloader.c ****  \defgroup functions_group Functions
 179:Generated_Source\PSoC5/Bootloader.c ****  @{
 180:Generated_Source\PSoC5/Bootloader.c **** */
 181:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 182:Generated_Source\PSoC5/Bootloader.c ****                                   (0u != Bootloader_DUAL_APP_BOOTLOADER))                          
 183:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 184:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_SetActiveAppInMetadata
 185:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 186:Generated_Source\PSoC5/Bootloader.c **** * \internal
 187:Generated_Source\PSoC5/Bootloader.c **** *
 188:Generated_Source\PSoC5/Bootloader.c **** * \brief
 189:Generated_Source\PSoC5/Bootloader.c **** *    This function sets the active application in metadata.
 190:Generated_Source\PSoC5/Bootloader.c **** *    The other application is set inactive. 
 191:Generated_Source\PSoC5/Bootloader.c **** *
 192:Generated_Source\PSoC5/Bootloader.c **** * \param activeApp
 193:Generated_Source\PSoC5/Bootloader.c **** *   The active application number (0 or 1). If the active application number is
 194:Generated_Source\PSoC5/Bootloader.c **** *   greater than 1, then nothing is done.  
 195:Generated_Source\PSoC5/Bootloader.c **** *
 196:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
 197:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 198:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_SetActiveAppInMetadata(uint8 activeApp) CYSMALL \
 199:Generated_Source\PSoC5/Bootloader.c ****                      
 200:Generated_Source\PSoC5/Bootloader.c **** {
 201:Generated_Source\PSoC5/Bootloader.c ****     if (Bootloader_MD_BTLDB_ACTIVE_NONE > activeApp)
 202:Generated_Source\PSoC5/Bootloader.c ****     {
 203:Generated_Source\PSoC5/Bootloader.c ****         uint8 CYDATA idx;    
 204:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)      
 205:Generated_Source\PSoC5/Bootloader.c ****         if (CYRET_SUCCESS != CySetTemp())
 206:Generated_Source\PSoC5/Bootloader.c ****         {
 207:Generated_Source\PSoC5/Bootloader.c ****             CyHalt(0x00u);
 208:Generated_Source\PSoC5/Bootloader.c ****         }
 209:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC4) */    
 210:Generated_Source\PSoC5/Bootloader.c ****         for(idx = 0u; idx < Bootloader_MAX_NUM_OF_BTLDB; idx++)
 211:Generated_Source\PSoC5/Bootloader.c ****         {
 212:Generated_Source\PSoC5/Bootloader.c ****             (void)Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_ACTIVE_OFFSET(idx),
 213:Generated_Source\PSoC5/Bootloader.c ****                                                 (uint8)(idx == activeApp));
 214:Generated_Source\PSoC5/Bootloader.c ****         }
 215:Generated_Source\PSoC5/Bootloader.c ****     }    
 216:Generated_Source\PSoC5/Bootloader.c **** }
 217:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || 
 218:Generated_Source\PSoC5/Bootloader.c ****                            (0u != Bootloader_DUAL_APP_BOOTLOADER) */ 
 219:Generated_Source\PSoC5/Bootloader.c **** 
 220:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 221:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 222:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))                   
 223:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 224:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetActiveAppFromMetadata
 225:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 226:Generated_Source\PSoC5/Bootloader.c **** * \internal
 227:Generated_Source\PSoC5/Bootloader.c **** *
 228:Generated_Source\PSoC5/Bootloader.c **** * \brief
 229:Generated_Source\PSoC5/Bootloader.c **** *    This function performs reading of both metadata sections to
 230:Generated_Source\PSoC5/Bootloader.c **** *    identify an active application. If none application is set active, 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 6


 231:Generated_Source\PSoC5/Bootloader.c **** *    then Bootloader_MD_BTLDB_ACTIVE_NONE (0x02) is returned.
 232:Generated_Source\PSoC5/Bootloader.c **** *
 233:Generated_Source\PSoC5/Bootloader.c **** * \return
 234:Generated_Source\PSoC5/Bootloader.c **** *   The number of active applications. In the case of error:
 235:Generated_Source\PSoC5/Bootloader.c **** *   -  Bootloader_MD_BTLDB_ACTIVE_NONE (0x02) - neither application is initialized;
 236:Generated_Source\PSoC5/Bootloader.c **** *   -  Bootloader_BOTH_ACTIVE (0x03) - both applications are set active;
 237:Generated_Source\PSoC5/Bootloader.c **** *
 238:Generated_Source\PSoC5/Bootloader.c **** * \endinternal 
 239:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 240:Generated_Source\PSoC5/Bootloader.c **** static  uint8 Bootloader_GetActiveAppFromMetadata(void) CYSMALL \
 241:Generated_Source\PSoC5/Bootloader.c ****        
 242:Generated_Source\PSoC5/Bootloader.c **** {
 243:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA result;
 244:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA app0 = (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 
 245:Generated_Source\PSoC5/Bootloader.c ****                                                      Bootloader_MD_BTLDB_ACTIVE_0);
 246:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA app1 = (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 
 247:Generated_Source\PSoC5/Bootloader.c ****                                                      Bootloader_MD_BTLDB_ACTIVE_1);        
 248:Generated_Source\PSoC5/Bootloader.c **** 
 249:Generated_Source\PSoC5/Bootloader.c ****     if (0u != app0)                                                     
 250:Generated_Source\PSoC5/Bootloader.c ****     {
 251:Generated_Source\PSoC5/Bootloader.c ****         if (0u == app1)
 252:Generated_Source\PSoC5/Bootloader.c ****         {
 253:Generated_Source\PSoC5/Bootloader.c ****             /* app0 is active */
 254:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_0;
 255:Generated_Source\PSoC5/Bootloader.c ****         }
 256:Generated_Source\PSoC5/Bootloader.c ****         else 
 257:Generated_Source\PSoC5/Bootloader.c ****         {
 258:Generated_Source\PSoC5/Bootloader.c ****             /* Both are active */
 259:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_BOTH_ACTIVE;
 260:Generated_Source\PSoC5/Bootloader.c ****         }
 261:Generated_Source\PSoC5/Bootloader.c ****     }
 262:Generated_Source\PSoC5/Bootloader.c ****     else /* (0u == app0) */
 263:Generated_Source\PSoC5/Bootloader.c ****     {
 264:Generated_Source\PSoC5/Bootloader.c ****         if (0u != app1)
 265:Generated_Source\PSoC5/Bootloader.c ****         {
 266:Generated_Source\PSoC5/Bootloader.c ****             /* app1 is active */
 267:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_1;
 268:Generated_Source\PSoC5/Bootloader.c ****         }
 269:Generated_Source\PSoC5/Bootloader.c ****         else
 270:Generated_Source\PSoC5/Bootloader.c ****         {
 271:Generated_Source\PSoC5/Bootloader.c ****             /* Neither app is active. */
 272:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_NONE;
 273:Generated_Source\PSoC5/Bootloader.c ****         }          
 274:Generated_Source\PSoC5/Bootloader.c ****     }
 275:Generated_Source\PSoC5/Bootloader.c **** 
 276:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 277:Generated_Source\PSoC5/Bootloader.c **** }
 278:Generated_Source\PSoC5/Bootloader.c **** #endif /*((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 279:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 280:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) */
 281:Generated_Source\PSoC5/Bootloader.c ****         
 282:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 283:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 284:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Initialize
 285:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 286:Generated_Source\PSoC5/Bootloader.c **** * 
 287:Generated_Source\PSoC5/Bootloader.c **** * \brief 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 7


 288:Generated_Source\PSoC5/Bootloader.c **** *   Used for in-app bootloading. This function updates the global variable 
 289:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_runningApp with a running application number.
 290:Generated_Source\PSoC5/Bootloader.c **** *
 291:Generated_Source\PSoC5/Bootloader.c **** *   If the running application number is valid (0 or 1), this function also 
 292:Generated_Source\PSoC5/Bootloader.c **** *   sets the global variable Bootloader_initVar that is used to determine 
 293:Generated_Source\PSoC5/Bootloader.c **** *   if the component can process bootloader commands or not.
 294:Generated_Source\PSoC5/Bootloader.c **** *   This function should be called once in the application project after a startup.
 295:Generated_Source\PSoC5/Bootloader.c **** *
 296:Generated_Source\PSoC5/Bootloader.c **** * \return
 297:Generated_Source\PSoC5/Bootloader.c **** *   Global variables: 
 298:Generated_Source\PSoC5/Bootloader.c **** *     - Bootloader_runningApp
 299:Generated_Source\PSoC5/Bootloader.c **** *     - Bootloader_activeApp
 300:Generated_Source\PSoC5/Bootloader.c **** *     - Bootloader_initVar
 301:Generated_Source\PSoC5/Bootloader.c **** *
 302:Generated_Source\PSoC5/Bootloader.c **** * \details 
 303:Generated_Source\PSoC5/Bootloader.c **** *   This API should be called first to be able to capture the active application 
 304:Generated_Source\PSoC5/Bootloader.c **** *   number that is actually the running application number.
 305:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 306:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_Initialize(void) CYSMALL \
 307:Generated_Source\PSoC5/Bootloader.c ****                                
 308:Generated_Source\PSoC5/Bootloader.c **** {
 309:Generated_Source\PSoC5/Bootloader.c ****     if (Bootloader_BOOTLOADING_NOT_INITIALIZED ==Bootloader_initVar)
 310:Generated_Source\PSoC5/Bootloader.c ****     {
 311:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_activeApp = Bootloader_GetActiveAppFromMetadata();
 312:Generated_Source\PSoC5/Bootloader.c ****         
 313:Generated_Source\PSoC5/Bootloader.c ****         /* Updating with number of active application */    
 314:Generated_Source\PSoC5/Bootloader.c ****         if ((Bootloader_MD_BTLDB_ACTIVE_NONE != Bootloader_activeApp) &&
 315:Generated_Source\PSoC5/Bootloader.c ****             (Bootloader_BOTH_ACTIVE != Bootloader_activeApp))
 316:Generated_Source\PSoC5/Bootloader.c ****         {
 317:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_runningApp = Bootloader_activeApp;
 318:Generated_Source\PSoC5/Bootloader.c ****             
 319:Generated_Source\PSoC5/Bootloader.c ****             /* Bootloader commands are to be processed */
 320:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_initVar = Bootloader_BOOTLADING_INITIALIZED;
 321:Generated_Source\PSoC5/Bootloader.c ****         }
 322:Generated_Source\PSoC5/Bootloader.c ****         else 
 323:Generated_Source\PSoC5/Bootloader.c ****         {
 324:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_runningApp = Bootloader_RUNNING_APPLICATION_UNKNOWN;
 325:Generated_Source\PSoC5/Bootloader.c ****         }
 326:Generated_Source\PSoC5/Bootloader.c ****     }
 327:Generated_Source\PSoC5/Bootloader.c **** }
 328:Generated_Source\PSoC5/Bootloader.c **** 
 329:Generated_Source\PSoC5/Bootloader.c **** /*****************************************************************************
 330:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetRunningAppStatus
 331:Generated_Source\PSoC5/Bootloader.c **** **************************************************************************//**
 332:Generated_Source\PSoC5/Bootloader.c **** *
 333:Generated_Source\PSoC5/Bootloader.c **** * \brief 
 334:Generated_Source\PSoC5/Bootloader.c **** *   Used for dual-app or in-app bootloader. Returns the value of the global 
 335:Generated_Source\PSoC5/Bootloader.c **** *   variable Bootloader_runningApp. This function should be called only after the 
 336:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_Initialize() has been called once.
 337:Generated_Source\PSoC5/Bootloader.c **** *
 338:Generated_Source\PSoC5/Bootloader.c **** * \return 
 339:Generated_Source\PSoC5/Bootloader.c **** *   The application number that is currently being executed. Values are 0 or 1; 
 340:Generated_Source\PSoC5/Bootloader.c **** *     other values indicate "not defined".
 341:Generated_Source\PSoC5/Bootloader.c **** *
 342:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 343:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_GetRunningAppStatus(void) CYSMALL \
 344:Generated_Source\PSoC5/Bootloader.c ****             
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 8


 345:Generated_Source\PSoC5/Bootloader.c **** {  
 346:Generated_Source\PSoC5/Bootloader.c ****     return (Bootloader_runningApp);
 347:Generated_Source\PSoC5/Bootloader.c **** }
 348:Generated_Source\PSoC5/Bootloader.c **** 
 349:Generated_Source\PSoC5/Bootloader.c **** 
 350:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 351:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetActiveAppStatus
 352:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 353:Generated_Source\PSoC5/Bootloader.c **** *
 354:Generated_Source\PSoC5/Bootloader.c **** * \brief 
 355:Generated_Source\PSoC5/Bootloader.c **** *   Used for dual-app or in-app bootloader. Returns the value of the global 
 356:Generated_Source\PSoC5/Bootloader.c **** *   variable Bootloader_activeApp. This function should be called only after the 
 357:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_Initialize() has been called once.
 358:Generated_Source\PSoC5/Bootloader.c **** *
 359:Generated_Source\PSoC5/Bootloader.c **** * \return 
 360:Generated_Source\PSoC5/Bootloader.c **** *   The desired application to be executed. Values are 0 or 1; other values 
 361:Generated_Source\PSoC5/Bootloader.c **** *     indicate "not defined".
 362:Generated_Source\PSoC5/Bootloader.c **** *
 363:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 364:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_GetActiveAppStatus(void) CYSMALL \
 365:Generated_Source\PSoC5/Bootloader.c ****       
 366:Generated_Source\PSoC5/Bootloader.c **** {  
 367:Generated_Source\PSoC5/Bootloader.c ****     /* Read active application number from metadata */
 368:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_activeApp = Bootloader_GetActiveAppFromMetadata();
 369:Generated_Source\PSoC5/Bootloader.c ****     
 370:Generated_Source\PSoC5/Bootloader.c ****     return (Bootloader_activeApp);
 371:Generated_Source\PSoC5/Bootloader.c **** }
 372:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
 373:Generated_Source\PSoC5/Bootloader.c **** 
 374:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
 375:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 376:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_CalcPacketChecksum
 377:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 378:Generated_Source\PSoC5/Bootloader.c **** *  \internal
 379:Generated_Source\PSoC5/Bootloader.c **** *
 380:Generated_Source\PSoC5/Bootloader.c **** *  \brief
 381:Generated_Source\PSoC5/Bootloader.c **** *     This computes a 16-bit checksum for the provided number of bytes contained
 382:Generated_Source\PSoC5/Bootloader.c **** *     in the provided buffer.
 383:Generated_Source\PSoC5/Bootloader.c **** *
 384:Generated_Source\PSoC5/Bootloader.c **** *  \param buffer
 385:Generated_Source\PSoC5/Bootloader.c **** *     The buffer containing the data to compute the checksum.
 386:Generated_Source\PSoC5/Bootloader.c **** *  \param size
 387:Generated_Source\PSoC5/Bootloader.c **** *     The number of bytes in the buffer to compute the checksum.
 388:Generated_Source\PSoC5/Bootloader.c **** *
 389:Generated_Source\PSoC5/Bootloader.c **** *  \return 
 390:Generated_Source\PSoC5/Bootloader.c **** *     A 16-bit checksum for the provided data.
 391:Generated_Source\PSoC5/Bootloader.c **** *
 392:Generated_Source\PSoC5/Bootloader.c **** *  \endinternal
 393:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 394:Generated_Source\PSoC5/Bootloader.c **** static uint16 Bootloader_CalcPacketChecksum(const uint8 buffer[], uint16 size) \
 395:Generated_Source\PSoC5/Bootloader.c ****                     CYSMALL 
 396:Generated_Source\PSoC5/Bootloader.c **** {
  56              		.loc 1 396 0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 16
  59              		@ frame_needed = 1, uses_anonymous_args = 0
  60              		@ link register save eliminated.
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 9


  61 0000 80B4     		push	{r7}
  62              		.cfi_def_cfa_offset 4
  63              		.cfi_offset 7, -4
  64 0002 85B0     		sub	sp, sp, #20
  65              		.cfi_def_cfa_offset 24
  66 0004 00AF     		add	r7, sp, #0
  67              		.cfi_def_cfa_register 7
  68 0006 7860     		str	r0, [r7, #4]
  69 0008 0B46     		mov	r3, r1
  70 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 397:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_PACKET_CHECKSUM_CRC)
 398:Generated_Source\PSoC5/Bootloader.c **** 
 399:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA crc = Bootloader_CRC_CCITT_INITIAL_VALUE;
 400:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA tmp;
 401:Generated_Source\PSoC5/Bootloader.c ****         uint8  CYDATA i;
 402:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA tmpIndex = size;
 403:Generated_Source\PSoC5/Bootloader.c **** 
 404:Generated_Source\PSoC5/Bootloader.c ****         if(0u == size)
 405:Generated_Source\PSoC5/Bootloader.c ****         {
 406:Generated_Source\PSoC5/Bootloader.c ****             crc = ~crc;
 407:Generated_Source\PSoC5/Bootloader.c ****         }
 408:Generated_Source\PSoC5/Bootloader.c ****         else
 409:Generated_Source\PSoC5/Bootloader.c ****         {
 410:Generated_Source\PSoC5/Bootloader.c ****             do
 411:Generated_Source\PSoC5/Bootloader.c ****             {
 412:Generated_Source\PSoC5/Bootloader.c ****                 tmp = buffer[tmpIndex - size];
 413:Generated_Source\PSoC5/Bootloader.c **** 
 414:Generated_Source\PSoC5/Bootloader.c ****                 for (i = 0u; i < 8u; i++)
 415:Generated_Source\PSoC5/Bootloader.c ****                 {
 416:Generated_Source\PSoC5/Bootloader.c ****                     if (0u != ((crc & 0x0001u) ^ (tmp & 0x0001u)))
 417:Generated_Source\PSoC5/Bootloader.c ****                     {
 418:Generated_Source\PSoC5/Bootloader.c ****                         crc = (crc >> 1u) ^ Bootloader_CRC_CCITT_POLYNOMIAL;
 419:Generated_Source\PSoC5/Bootloader.c ****                     }
 420:Generated_Source\PSoC5/Bootloader.c ****                     else
 421:Generated_Source\PSoC5/Bootloader.c ****                     {
 422:Generated_Source\PSoC5/Bootloader.c ****                         crc >>= 1u;
 423:Generated_Source\PSoC5/Bootloader.c ****                     }
 424:Generated_Source\PSoC5/Bootloader.c **** 
 425:Generated_Source\PSoC5/Bootloader.c ****                     tmp >>= 1u;
 426:Generated_Source\PSoC5/Bootloader.c ****                 }
 427:Generated_Source\PSoC5/Bootloader.c **** 
 428:Generated_Source\PSoC5/Bootloader.c ****                 size--;
 429:Generated_Source\PSoC5/Bootloader.c ****             }
 430:Generated_Source\PSoC5/Bootloader.c ****             while(0u != size);
 431:Generated_Source\PSoC5/Bootloader.c **** 
 432:Generated_Source\PSoC5/Bootloader.c ****             crc = ~crc;
 433:Generated_Source\PSoC5/Bootloader.c ****             tmp = crc;
 434:Generated_Source\PSoC5/Bootloader.c ****             crc = ( uint16 )(crc << 8u) | (tmp >> 8u);
 435:Generated_Source\PSoC5/Bootloader.c ****         }
 436:Generated_Source\PSoC5/Bootloader.c **** 
 437:Generated_Source\PSoC5/Bootloader.c ****         return(crc);
 438:Generated_Source\PSoC5/Bootloader.c **** 
 439:Generated_Source\PSoC5/Bootloader.c ****     #else
 440:Generated_Source\PSoC5/Bootloader.c **** 
 441:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA sum = 0u;
  71              		.loc 1 441 0
  72 000c 0023     		movs	r3, #0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 10


  73 000e FB81     		strh	r3, [r7, #14]	@ movhi
 442:Generated_Source\PSoC5/Bootloader.c **** 
 443:Generated_Source\PSoC5/Bootloader.c ****         while (size > 0u)
  74              		.loc 1 443 0
  75 0010 0BE0     		b	.L2
  76              	.L3:
 444:Generated_Source\PSoC5/Bootloader.c ****         {
 445:Generated_Source\PSoC5/Bootloader.c ****             sum += buffer[size - 1u];
  77              		.loc 1 445 0
  78 0012 7B88     		ldrh	r3, [r7, #2]
  79 0014 013B     		subs	r3, r3, #1
  80 0016 7A68     		ldr	r2, [r7, #4]
  81 0018 1344     		add	r3, r3, r2
  82 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  83 001c 9AB2     		uxth	r2, r3
  84 001e FB89     		ldrh	r3, [r7, #14]	@ movhi
  85 0020 1344     		add	r3, r3, r2
  86 0022 FB81     		strh	r3, [r7, #14]	@ movhi
 446:Generated_Source\PSoC5/Bootloader.c ****             size--;
  87              		.loc 1 446 0
  88 0024 7B88     		ldrh	r3, [r7, #2]
  89 0026 013B     		subs	r3, r3, #1
  90 0028 7B80     		strh	r3, [r7, #2]	@ movhi
  91              	.L2:
 443:Generated_Source\PSoC5/Bootloader.c ****         {
  92              		.loc 1 443 0
  93 002a 7B88     		ldrh	r3, [r7, #2]
  94 002c 002B     		cmp	r3, #0
  95 002e F0D1     		bne	.L3
 447:Generated_Source\PSoC5/Bootloader.c ****         }
 448:Generated_Source\PSoC5/Bootloader.c **** 
 449:Generated_Source\PSoC5/Bootloader.c ****         return(( uint16 )1u + ( uint16 )(~sum));
  96              		.loc 1 449 0
  97 0030 FB89     		ldrh	r3, [r7, #14]	@ movhi
  98 0032 5B42     		negs	r3, r3
  99 0034 9BB2     		uxth	r3, r3
 450:Generated_Source\PSoC5/Bootloader.c **** 
 451:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (0u != Bootloader_PACKET_CHECKSUM_CRC) */
 452:Generated_Source\PSoC5/Bootloader.c **** }
 100              		.loc 1 452 0
 101 0036 1846     		mov	r0, r3
 102 0038 1437     		adds	r7, r7, #20
 103              		.cfi_def_cfa_offset 4
 104 003a BD46     		mov	sp, r7
 105              		.cfi_def_cfa_register 13
 106              		@ sp needed
 107 003c 80BC     		pop	{r7}
 108              		.cfi_restore 7
 109              		.cfi_def_cfa_offset 0
 110 003e 7047     		bx	lr
 111              		.cfi_endproc
 112              	.LFE63:
 113              		.size	Bootloader_CalcPacketChecksum, .-Bootloader_CalcPacketChecksum
 114              		.section	.text.Bootloader_InitCallback,"ax",%progbits
 115              		.align	2
 116              		.global	Bootloader_InitCallback
 117              		.thumb
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 11


 118              		.thumb_func
 119              		.type	Bootloader_InitCallback, %function
 120              	Bootloader_InitCallback:
 121              	.LFB64:
 453:Generated_Source\PSoC5/Bootloader.c **** 
 454:Generated_Source\PSoC5/Bootloader.c **** #if (!CY_PSOC3)
 455:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 456:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_InitCallback
 457:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 458:Generated_Source\PSoC5/Bootloader.c **** *
 459:Generated_Source\PSoC5/Bootloader.c **** * \brief
 460:Generated_Source\PSoC5/Bootloader.c **** *  This function initializes the callback functionality.
 461:Generated_Source\PSoC5/Bootloader.c **** *  
 462:Generated_Source\PSoC5/Bootloader.c **** * \param userCallback
 463:Generated_Source\PSoC5/Bootloader.c **** *  The user's callback function.
 464:Generated_Source\PSoC5/Bootloader.c **** *
 465:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 466:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_InitCallback(Bootloader_callback_type userCallback) \
 467:Generated_Source\PSoC5/Bootloader.c ****            CYSMALL 
 468:Generated_Source\PSoC5/Bootloader.c **** {
 122              		.loc 1 468 0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 8
 125              		@ frame_needed = 1, uses_anonymous_args = 0
 126              		@ link register save eliminated.
 127 0000 80B4     		push	{r7}
 128              		.cfi_def_cfa_offset 4
 129              		.cfi_offset 7, -4
 130 0002 83B0     		sub	sp, sp, #12
 131              		.cfi_def_cfa_offset 16
 132 0004 00AF     		add	r7, sp, #0
 133              		.cfi_def_cfa_register 7
 134 0006 7860     		str	r0, [r7, #4]
 469:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_callback = userCallback;
 135              		.loc 1 469 0
 136 0008 034A     		ldr	r2, .L6
 137 000a 7B68     		ldr	r3, [r7, #4]
 138 000c 1360     		str	r3, [r2]
 470:Generated_Source\PSoC5/Bootloader.c **** }
 139              		.loc 1 470 0
 140 000e 00BF     		nop
 141 0010 0C37     		adds	r7, r7, #12
 142              		.cfi_def_cfa_offset 4
 143 0012 BD46     		mov	sp, r7
 144              		.cfi_def_cfa_register 13
 145              		@ sp needed
 146 0014 80BC     		pop	{r7}
 147              		.cfi_restore 7
 148              		.cfi_def_cfa_offset 0
 149 0016 7047     		bx	lr
 150              	.L7:
 151              		.align	2
 152              	.L6:
 153 0018 00000000 		.word	Bootloader_callback
 154              		.cfi_endproc
 155              	.LFE64:
 156              		.size	Bootloader_InitCallback, .-Bootloader_InitCallback
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 12


 157              		.section	.text.Bootloader_Calc8BitSum,"ax",%progbits
 158              		.align	2
 159              		.global	Bootloader_Calc8BitSum
 160              		.thumb
 161              		.thumb_func
 162              		.type	Bootloader_Calc8BitSum, %function
 163              	Bootloader_Calc8BitSum:
 164              	.LFB65:
 471:Generated_Source\PSoC5/Bootloader.c **** #endif /* (!CY_PSOC3) */
 472:Generated_Source\PSoC5/Bootloader.c **** 
 473:Generated_Source\PSoC5/Bootloader.c **** 
 474:Generated_Source\PSoC5/Bootloader.c **** #if (0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
 475:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 476:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_VerifyRow
 477:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 478:Generated_Source\PSoC5/Bootloader.c **** *  \internal
 479:Generated_Source\PSoC5/Bootloader.c **** * 
 480:Generated_Source\PSoC5/Bootloader.c **** *  \brief
 481:Generated_Source\PSoC5/Bootloader.c **** *   This API performs a byte to byte verifying of the flash row against the data 
 482:Generated_Source\PSoC5/Bootloader.c **** *   in the input buffer. 
 483:Generated_Source\PSoC5/Bootloader.c **** *
 484:Generated_Source\PSoC5/Bootloader.c **** *  \param flashStart 
 485:Generated_Source\PSoC5/Bootloader.c **** *        The start address of a row in flash.
 486:Generated_Source\PSoC5/Bootloader.c **** *  \param ramStart 
 487:Generated_Source\PSoC5/Bootloader.c **** *        The start address of corresponding data to compare in the RAM buffer.
 488:Generated_Source\PSoC5/Bootloader.c **** *  \param size 
 489:Generated_Source\PSoC5/Bootloader.c **** *        The data length (common for both arrays).
 490:Generated_Source\PSoC5/Bootloader.c **** *
 491:Generated_Source\PSoC5/Bootloader.c **** *  \return
 492:Generated_Source\PSoC5/Bootloader.c **** *   CYRET_SUCCESS - If all data matches.
 493:Generated_Source\PSoC5/Bootloader.c **** *  \n Bootloader_ERR_VERIFY - If there is any mismatch.
 494:Generated_Source\PSoC5/Bootloader.c **** *
 495:Generated_Source\PSoC5/Bootloader.c **** * \endinternal 
 496:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 497:Generated_Source\PSoC5/Bootloader.c **** static uint8 Bootloader_VerifyRow(uint32 flashStart, const uint8 ramStart[], uint16 size) \
 498:Generated_Source\PSoC5/Bootloader.c ****                 CYSMALL 
 499:Generated_Source\PSoC5/Bootloader.c **** {
 500:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA result = CYRET_SUCCESS;
 501:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA idx;
 502:Generated_Source\PSoC5/Bootloader.c **** 
 503:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0u; idx < size; idx++)
 504:Generated_Source\PSoC5/Bootloader.c ****     {
 505:Generated_Source\PSoC5/Bootloader.c ****         if (CY_GET_XTND_REG8((uint8 CYFAR *)(flashStart + idx)) != ramStart[idx])
 506:Generated_Source\PSoC5/Bootloader.c ****         {
 507:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_ERR_VERIFY;
 508:Generated_Source\PSoC5/Bootloader.c ****             break;
 509:Generated_Source\PSoC5/Bootloader.c ****         }    
 510:Generated_Source\PSoC5/Bootloader.c ****     }
 511:Generated_Source\PSoC5/Bootloader.c **** 
 512:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 513:Generated_Source\PSoC5/Bootloader.c **** }
 514:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)*/
 515:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER*/
 516:Generated_Source\PSoC5/Bootloader.c **** 
 517:Generated_Source\PSoC5/Bootloader.c **** 
 518:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 519:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Calc8BitSum
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 13


 520:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 521:Generated_Source\PSoC5/Bootloader.c **** *
 522:Generated_Source\PSoC5/Bootloader.c **** * \brief
 523:Generated_Source\PSoC5/Bootloader.c **** *  This computes an 8-bit sum for the provided number of bytes contained in
 524:Generated_Source\PSoC5/Bootloader.c **** *  flash (if baseAddr equals CY_FLASH_BASE) or EEPROM (if baseAddr equals
 525:Generated_Source\PSoC5/Bootloader.c **** *  CY_EEPROM_BASE).
 526:Generated_Source\PSoC5/Bootloader.c **** *
 527:Generated_Source\PSoC5/Bootloader.c **** * \param baseAddr
 528:Generated_Source\PSoC5/Bootloader.c **** *   CY_FLASH_BASE
 529:Generated_Source\PSoC5/Bootloader.c **** *   CY_EEPROM_BASE - applicable only for PSoC 3 / PSoC 5LP devices.
 530:Generated_Source\PSoC5/Bootloader.c **** *
 531:Generated_Source\PSoC5/Bootloader.c **** * \param start
 532:Generated_Source\PSoC5/Bootloader.c **** *     The starting address to start summing data.
 533:Generated_Source\PSoC5/Bootloader.c **** * \param size
 534:Generated_Source\PSoC5/Bootloader.c **** *     The number of bytes to read and compute the sum.
 535:Generated_Source\PSoC5/Bootloader.c **** *
 536:Generated_Source\PSoC5/Bootloader.c **** * \return
 537:Generated_Source\PSoC5/Bootloader.c **** *   An 8-bit sum for the provided data.
 538:Generated_Source\PSoC5/Bootloader.c **** *
 539:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 540:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_Calc8BitSum(uint32 baseAddr, uint32 start, uint32 size) \
 541:Generated_Source\PSoC5/Bootloader.c ****                 CYSMALL 
 542:Generated_Source\PSoC5/Bootloader.c **** {
 165              		.loc 1 542 0
 166              		.cfi_startproc
 167              		@ args = 0, pretend = 0, frame = 24
 168              		@ frame_needed = 1, uses_anonymous_args = 0
 169 0000 80B5     		push	{r7, lr}
 170              		.cfi_def_cfa_offset 8
 171              		.cfi_offset 7, -8
 172              		.cfi_offset 14, -4
 173 0002 86B0     		sub	sp, sp, #24
 174              		.cfi_def_cfa_offset 32
 175 0004 00AF     		add	r7, sp, #0
 176              		.cfi_def_cfa_register 7
 177 0006 F860     		str	r0, [r7, #12]
 178 0008 B960     		str	r1, [r7, #8]
 179 000a 7A60     		str	r2, [r7, #4]
 543:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA sum = 0u;
 180              		.loc 1 543 0
 181 000c 0023     		movs	r3, #0
 182 000e FB75     		strb	r3, [r7, #23]
 544:Generated_Source\PSoC5/Bootloader.c **** 
 545:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
 546:Generated_Source\PSoC5/Bootloader.c ****         CYASSERT((baseAddr == CY_EEPROM_BASE) || (baseAddr == CY_FLASH_BASE));
 183              		.loc 1 546 0
 184 0010 FB68     		ldr	r3, [r7, #12]
 185 0012 0F4A     		ldr	r2, .L13
 186 0014 9342     		cmp	r3, r2
 187 0016 13D0     		beq	.L10
 188              		.loc 1 546 0 is_stmt 0 discriminator 1
 189 0018 FB68     		ldr	r3, [r7, #12]
 190 001a 002B     		cmp	r3, #0
 191 001c 10D0     		beq	.L10
 192              		.loc 1 546 0 discriminator 2
 193 001e 0020     		movs	r0, #0
 194 0020 FFF7FEFF 		bl	CyHalt
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 14


 547:Generated_Source\PSoC5/Bootloader.c ****     #else
 548:Generated_Source\PSoC5/Bootloader.c ****         CYASSERT(baseAddr == CY_FLASH_BASE);
 549:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC4) */
 550:Generated_Source\PSoC5/Bootloader.c **** 
 551:Generated_Source\PSoC5/Bootloader.c ****     while (size > 0u)
 195              		.loc 1 551 0 is_stmt 1 discriminator 2
 196 0024 0CE0     		b	.L10
 197              	.L11:
 552:Generated_Source\PSoC5/Bootloader.c ****     {
 553:Generated_Source\PSoC5/Bootloader.c ****         size--;
 198              		.loc 1 553 0
 199 0026 7B68     		ldr	r3, [r7, #4]
 200 0028 013B     		subs	r3, r3, #1
 201 002a 7B60     		str	r3, [r7, #4]
 554:Generated_Source\PSoC5/Bootloader.c ****         sum += CY_GET_XTND_REG8((uint8 CYFAR *)(baseAddr + start + size));
 202              		.loc 1 554 0
 203 002c FA68     		ldr	r2, [r7, #12]
 204 002e BB68     		ldr	r3, [r7, #8]
 205 0030 1A44     		add	r2, r2, r3
 206 0032 7B68     		ldr	r3, [r7, #4]
 207 0034 1344     		add	r3, r3, r2
 208 0036 1B78     		ldrb	r3, [r3]
 209 0038 DAB2     		uxtb	r2, r3
 210 003a FB7D     		ldrb	r3, [r7, #23]
 211 003c 1344     		add	r3, r3, r2
 212 003e FB75     		strb	r3, [r7, #23]
 213              	.L10:
 551:Generated_Source\PSoC5/Bootloader.c ****     {
 214              		.loc 1 551 0
 215 0040 7B68     		ldr	r3, [r7, #4]
 216 0042 002B     		cmp	r3, #0
 217 0044 EFD1     		bne	.L11
 555:Generated_Source\PSoC5/Bootloader.c ****     }
 556:Generated_Source\PSoC5/Bootloader.c **** 
 557:Generated_Source\PSoC5/Bootloader.c ****     return(sum);
 218              		.loc 1 557 0
 219 0046 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 558:Generated_Source\PSoC5/Bootloader.c **** }
 220              		.loc 1 558 0
 221 0048 1846     		mov	r0, r3
 222 004a 1837     		adds	r7, r7, #24
 223              		.cfi_def_cfa_offset 8
 224 004c BD46     		mov	sp, r7
 225              		.cfi_def_cfa_register 13
 226              		@ sp needed
 227 004e 80BD     		pop	{r7, pc}
 228              	.L14:
 229              		.align	2
 230              	.L13:
 231 0050 00800040 		.word	1073774592
 232              		.cfi_endproc
 233              	.LFE65:
 234              		.size	Bootloader_Calc8BitSum, .-Bootloader_Calc8BitSum
 235              		.section	.text.Bootloader_Start,"ax",%progbits
 236              		.align	2
 237              		.global	Bootloader_Start
 238              		.thumb
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 15


 239              		.thumb_func
 240              		.type	Bootloader_Start, %function
 241              	Bootloader_Start:
 242              	.LFB66:
 559:Generated_Source\PSoC5/Bootloader.c **** 
 560:Generated_Source\PSoC5/Bootloader.c **** 
 561:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)
 562:Generated_Source\PSoC5/Bootloader.c **** #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)) 
 563:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 564:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_CopyRow
 565:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 566:Generated_Source\PSoC5/Bootloader.c **** * \internal
 567:Generated_Source\PSoC5/Bootloader.c **** *
 568:Generated_Source\PSoC5/Bootloader.c **** * \brief
 569:Generated_Source\PSoC5/Bootloader.c **** *   This function performs copying of a specified row to specified 
 570:Generated_Source\PSoC5/Bootloader.c **** *     location.
 571:Generated_Source\PSoC5/Bootloader.c **** *
 572:Generated_Source\PSoC5/Bootloader.c **** * \param
 573:Generated_Source\PSoC5/Bootloader.c **** *   srcRowNum - The number of a row to copy from.
 574:Generated_Source\PSoC5/Bootloader.c **** * \param             
 575:Generated_Source\PSoC5/Bootloader.c **** *   dstRowNum - The number of a row to be copied to.
 576:Generated_Source\PSoC5/Bootloader.c **** *
 577:Generated_Source\PSoC5/Bootloader.c **** * \return
 578:Generated_Source\PSoC5/Bootloader.c **** *   \n CYRET_SUCCESS - If everything went right. 
 579:Generated_Source\PSoC5/Bootloader.c **** *   \n Otherwise, produce an error code indicating a problem.  
 580:Generated_Source\PSoC5/Bootloader.c **** * 
 581:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
 582:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 583:Generated_Source\PSoC5/Bootloader.c **** static cystatus Bootloader_CopyRow(uint16 srcRowNum, uint16 dstRowNum) \
 584:Generated_Source\PSoC5/Bootloader.c ****                  CYSMALL 
 585:Generated_Source\PSoC5/Bootloader.c **** {
 586:Generated_Source\PSoC5/Bootloader.c ****     /*Buffer for row copy procedure*/
 587:Generated_Source\PSoC5/Bootloader.c ****     uint8  rowBuffer[CYDEV_FLS_ROW_SIZE];
 588:Generated_Source\PSoC5/Bootloader.c ****     cystatus result = CYRET_SUCCESS;
 589:Generated_Source\PSoC5/Bootloader.c **** 
 590:Generated_Source\PSoC5/Bootloader.c ****     uint32 srcBaseAddr = CYDEV_FLASH_BASE + srcRowNum * CYDEV_FLS_ROW_SIZE;
 591:Generated_Source\PSoC5/Bootloader.c ****     uint16 idx;
 592:Generated_Source\PSoC5/Bootloader.c **** 
 593:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 594:Generated_Source\PSoC5/Bootloader.c ****     {
 595:Generated_Source\PSoC5/Bootloader.c ****         rowBuffer[idx] = Bootloader_GET_CODE_BYTE(srcBaseAddr + idx);
 596:Generated_Source\PSoC5/Bootloader.c ****     }
 597:Generated_Source\PSoC5/Bootloader.c ****     
 598:Generated_Source\PSoC5/Bootloader.c ****     result = CySysFlashWriteRow((uint16) dstRowNum, rowBuffer);
 599:Generated_Source\PSoC5/Bootloader.c ****     
 600:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 601:Generated_Source\PSoC5/Bootloader.c **** }
 602:Generated_Source\PSoC5/Bootloader.c **** 
 603:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 604:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Copier
 605:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 606:Generated_Source\PSoC5/Bootloader.c **** *  \internal
 607:Generated_Source\PSoC5/Bootloader.c **** *  
 608:Generated_Source\PSoC5/Bootloader.c **** *  \brief
 609:Generated_Source\PSoC5/Bootloader.c **** *    This option is specific for Launcher-Combination architecture only and to 
 610:Generated_Source\PSoC5/Bootloader.c **** *    the case when there is a large communication component like BLE. To save 
 611:Generated_Source\PSoC5/Bootloader.c **** *    flash space for the user application, such a large communication component 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 16


 612:Generated_Source\PSoC5/Bootloader.c **** *    is present only in the first application (Stack application) and is "shared" 
 613:Generated_Source\PSoC5/Bootloader.c **** *    with the second application (the user's application actually) by "Code 
 614:Generated_Source\PSoC5/Bootloader.c **** *    sharing feature" (See code sharing and BLE Upgradable Stack example project). 
 615:Generated_Source\PSoC5/Bootloader.c **** *
 616:Generated_Source\PSoC5/Bootloader.c **** * \n If this option is enabled and the "need-to-copy" flag is set in the second 
 617:Generated_Source\PSoC5/Bootloader.c **** *    application's metadata, Copier performs copying of a previously saved Stack 
 618:Generated_Source\PSoC5/Bootloader.c **** *    application image from a "temporary location" to the app#1 flash 
 619:Generated_Source\PSoC5/Bootloader.c **** *    space (over the current app#1).
 620:Generated_Source\PSoC5/Bootloader.c **** *   
 621:Generated_Source\PSoC5/Bootloader.c **** * \n Before performing the copying operation the new Stack application image 
 622:Generated_Source\PSoC5/Bootloader.c **** *    should be received and stored at the temporary location by the current 
 623:Generated_Source\PSoC5/Bootloader.c **** *    Stack application. The "need-to-copy" flag should be set in app#2 metadata 
 624:Generated_Source\PSoC5/Bootloader.c **** *    indicating that copying operation is required.
 625:Generated_Source\PSoC5/Bootloader.c **** *
 626:Generated_Source\PSoC5/Bootloader.c **** * \n The temporary location is half of the flash space that left after Launcher 
 627:Generated_Source\PSoC5/Bootloader.c **** *    and 2 metadata rows. This implies that Stack application should fit in 
 628:Generated_Source\PSoC5/Bootloader.c **** *    that half of the flash space. 
 629:Generated_Source\PSoC5/Bootloader.c **** *
 630:Generated_Source\PSoC5/Bootloader.c **** * \n The destination for the copy operation is obtained as the first row after 
 631:Generated_Source\PSoC5/Bootloader.c **** *    Launcher (from app#1 metadata). 
 632:Generated_Source\PSoC5/Bootloader.c **** *
 633:Generated_Source\PSoC5/Bootloader.c **** * \n The source of copy operation is the first row of temporary location that 
 634:Generated_Source\PSoC5/Bootloader.c **** *    is calculated by the following formula: 
 635:Generated_Source\PSoC5/Bootloader.c **** * \n     srcRow = (((CY_FLASH_NUMBER_ROWS - dstRow - metaRows) / 2) + dstRow);
 636:Generated_Source\PSoC5/Bootloader.c **** * \n     where:
 637:Generated_Source\PSoC5/Bootloader.c **** *          - dstRow - the destination's first row (mentioned above);
 638:Generated_Source\PSoC5/Bootloader.c **** *          - CY_FLASH_NUMBER_ROWS - number of all flash rows; 
 639:Generated_Source\PSoC5/Bootloader.c **** *          - metaRows - 2 metadata rows;   
 640:Generated_Source\PSoC5/Bootloader.c **** *
 641:Generated_Source\PSoC5/Bootloader.c **** * \n Copying itself means row-by-row copying of the stored application's image.
 642:Generated_Source\PSoC5/Bootloader.c **** *    If it fails to copy some row, there is a defined number of attempts 
 643:Generated_Source\PSoC5/Bootloader.c **** *    (Bootloader_MAX_ATTEMPTS) to try again. In case of no success, 
 644:Generated_Source\PSoC5/Bootloader.c **** *    a user callback function Launcher_CopierCallback() is called. 
 645:Generated_Source\PSoC5/Bootloader.c **** *    If it is not defined, then the device is going to be halted.
 646:Generated_Source\PSoC5/Bootloader.c **** * 
 647:Generated_Source\PSoC5/Bootloader.c **** * \n After performing the application image copying, in case of success 
 648:Generated_Source\PSoC5/Bootloader.c **** *    the app#2 metadata is copied in the stead of app#1 metadata and then
 649:Generated_Source\PSoC5/Bootloader.c **** *    app#2 metadata is cleared.
 650:Generated_Source\PSoC5/Bootloader.c **** *
 651:Generated_Source\PSoC5/Bootloader.c **** * \n A "need-to-copy" flag is cleared just after performing the app#1 image
 652:Generated_Source\PSoC5/Bootloader.c **** *    copying from the temporary location to avoid another consecutive 
 653:Generated_Source\PSoC5/Bootloader.c **** *    copying operation.
 654:Generated_Source\PSoC5/Bootloader.c **** *   
 655:Generated_Source\PSoC5/Bootloader.c **** * \endinternal 
 656:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 657:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_Copier(void) CYSMALL \
 658:Generated_Source\PSoC5/Bootloader.c ****            
 659:Generated_Source\PSoC5/Bootloader.c **** {
 660:Generated_Source\PSoC5/Bootloader.c ****     uint16 idx = 0u;
 661:Generated_Source\PSoC5/Bootloader.c **** 
 662:Generated_Source\PSoC5/Bootloader.c ****     /* Number of attempts to perform copying again */
 663:Generated_Source\PSoC5/Bootloader.c ****     uint8 copierAttempts;
 664:Generated_Source\PSoC5/Bootloader.c ****     
 665:Generated_Source\PSoC5/Bootloader.c ****     /* "need-to-copy" flag from second application metadata */
 666:Generated_Source\PSoC5/Bootloader.c ****     uint8 copyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, Bootloader_MD_BTLDB_ACT
 667:Generated_Source\PSoC5/Bootloader.c **** 
 668:Generated_Source\PSoC5/Bootloader.c ****     /* Buffer to temporary hold metadata before flashing */
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 17


 669:Generated_Source\PSoC5/Bootloader.c ****     uint8 metaBuf[CYDEV_FLS_ROW_SIZE];
 670:Generated_Source\PSoC5/Bootloader.c **** 
 671:Generated_Source\PSoC5/Bootloader.c ****     /* Launcher's last row number */
 672:Generated_Source\PSoC5/Bootloader.c ****     uint16 launcherLastRow = Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW, Bootloader_MD_BT
 673:Generated_Source\PSoC5/Bootloader.c **** 
 674:Generated_Source\PSoC5/Bootloader.c ****     /* Calculating destination's start row number (first row of app#1) */
 675:Generated_Source\PSoC5/Bootloader.c ****     uint16 dstRow = launcherLastRow + 1u;
 676:Generated_Source\PSoC5/Bootloader.c ****     
 677:Generated_Source\PSoC5/Bootloader.c ****     /* Calculating the source's/temporary location's start row number */
 678:Generated_Source\PSoC5/Bootloader.c ****     uint16 srcRow = ((((CY_FLASH_NUMBER_ROWS - dstRow - 2u) + 1u) >> 1u) + dstRow); 
 679:Generated_Source\PSoC5/Bootloader.c ****     
 680:Generated_Source\PSoC5/Bootloader.c ****     /* Taking length from app#2's metadata*/
 681:Generated_Source\PSoC5/Bootloader.c ****     uint32 srcLength = Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, Bootloader_MD_BTLDB_ACTI
 682:Generated_Source\PSoC5/Bootloader.c **** 
 683:Generated_Source\PSoC5/Bootloader.c ****     /* Copy operation status initialization */
 684:Generated_Source\PSoC5/Bootloader.c ****     cystatus copyStatus = CYRET_SUCCESS;
 685:Generated_Source\PSoC5/Bootloader.c ****     
 686:Generated_Source\PSoC5/Bootloader.c ****     /* Calculating number of rows for copying */
 687:Generated_Source\PSoC5/Bootloader.c ****     uint16 numberOfRows = srcLength / CYDEV_FLS_ROW_SIZE;
 688:Generated_Source\PSoC5/Bootloader.c ****     
 689:Generated_Source\PSoC5/Bootloader.c ****     if (0u != (srcLength % CYDEV_FLS_ROW_SIZE))
 690:Generated_Source\PSoC5/Bootloader.c ****     {
 691:Generated_Source\PSoC5/Bootloader.c ****         numberOfRows++;
 692:Generated_Source\PSoC5/Bootloader.c ****     }
 693:Generated_Source\PSoC5/Bootloader.c ****         
 694:Generated_Source\PSoC5/Bootloader.c ****     /*************************************************************************
 695:Generated_Source\PSoC5/Bootloader.c ****     * Copying the number of rows from source (temporary location) to destination.
 696:Generated_Source\PSoC5/Bootloader.c ****     * If the operation is unsuccessful, there will be a few more attempts to
 697:Generated_Source\PSoC5/Bootloader.c ****     * perform the copying operation (a number is defined by Bootloader_MAX_ATTEMPTS)
 698:Generated_Source\PSoC5/Bootloader.c ****     ***************************************************************************/
 699:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0; idx < numberOfRows; idx++)
 700:Generated_Source\PSoC5/Bootloader.c ****     {
 701:Generated_Source\PSoC5/Bootloader.c ****         copierAttempts = Bootloader_MAX_ATTEMPTS;
 702:Generated_Source\PSoC5/Bootloader.c ****         
 703:Generated_Source\PSoC5/Bootloader.c ****         do 
 704:Generated_Source\PSoC5/Bootloader.c ****         {
 705:Generated_Source\PSoC5/Bootloader.c ****             /* Copying row */
 706:Generated_Source\PSoC5/Bootloader.c ****             copyStatus = Bootloader_CopyRow(srcRow + idx, dstRow + idx);
 707:Generated_Source\PSoC5/Bootloader.c ****             
 708:Generated_Source\PSoC5/Bootloader.c ****             /* Decrementing counter of attempts to repeat copying operation */
 709:Generated_Source\PSoC5/Bootloader.c ****             copierAttempts--;       
 710:Generated_Source\PSoC5/Bootloader.c ****         } while ((CYRET_SUCCESS != copyStatus) && (0u != copierAttempts));
 711:Generated_Source\PSoC5/Bootloader.c **** 
 712:Generated_Source\PSoC5/Bootloader.c ****         
 713:Generated_Source\PSoC5/Bootloader.c ****         /*************************************************************************
 714:Generated_Source\PSoC5/Bootloader.c ****         * If a problem occurs, when a row can't be copied, "CopyFlag" should be
 715:Generated_Source\PSoC5/Bootloader.c ****         * cleared to prevent the recurrent copying that might follow the software reset.        
 716:Generated_Source\PSoC5/Bootloader.c ****         ***************************************************************************/
 717:Generated_Source\PSoC5/Bootloader.c ****         if (CYRET_SUCCESS != copyStatus)
 718:Generated_Source\PSoC5/Bootloader.c ****         {
 719:Generated_Source\PSoC5/Bootloader.c ****             /* Clear copy flag in metadata#1 */
 720:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SetFlashByte(Bootloader_MD_BTLDB_COPY_FLAG_OFFSET(Bootloader_MD_BTLDB_ACTIVE
 721:Generated_Source\PSoC5/Bootloader.c ****                                          (copyFlag & (~Bootloader_NEED_TO_COPY_SET_BIT)));
 722:Generated_Source\PSoC5/Bootloader.c ****                 
 723:Generated_Source\PSoC5/Bootloader.c ****             /* Callback macro definition */
 724:Generated_Source\PSoC5/Bootloader.c ****             #if (0u != LAUNCHER_COPIER_CALLBACK)
 725:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_CopierCallback();
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 18


 726:Generated_Source\PSoC5/Bootloader.c ****             #endif /* 0u != LAUNCHER_COPIER_CALLBACK */ 
 727:Generated_Source\PSoC5/Bootloader.c ****             
 728:Generated_Source\PSoC5/Bootloader.c ****             /*************************************************************************
 729:Generated_Source\PSoC5/Bootloader.c ****             * If the copying operation was unsuccessful after certain number of attempts
 730:Generated_Source\PSoC5/Bootloader.c ****             * and Bootloader_CopierCallback() is either undefined or returns, then the
 731:Generated_Source\PSoC5/Bootloader.c ****             * device should be halted.
 732:Generated_Source\PSoC5/Bootloader.c ****             *************************************************************************/
 733:Generated_Source\PSoC5/Bootloader.c ****             CyHalt(0x00u);
 734:Generated_Source\PSoC5/Bootloader.c ****         }
 735:Generated_Source\PSoC5/Bootloader.c ****     }    
 736:Generated_Source\PSoC5/Bootloader.c ****     
 737:Generated_Source\PSoC5/Bootloader.c ****     /* Copy metadata app#2 -> app#1*/
 738:Generated_Source\PSoC5/Bootloader.c ****     if (CYRET_SUCCESS == copyStatus)
 739:Generated_Source\PSoC5/Bootloader.c ****     {
 740:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************
 741:Generated_Source\PSoC5/Bootloader.c ****         *                               Metadata#1 update             
 742:Generated_Source\PSoC5/Bootloader.c ****         ******************************************************************************/
 743:Generated_Source\PSoC5/Bootloader.c ****         /* Getting start address of metadata #2 */
 744:Generated_Source\PSoC5/Bootloader.c ****         uint32 metaStartAddr = Bootloader_MD_BASE_ADDR(Bootloader_MD_BTLDB_ACTIVE_1) + 
 745:Generated_Source\PSoC5/Bootloader.c ****                                Bootloader_MD_SIZEOF - CYDEV_FLS_ROW_SIZE; 
 746:Generated_Source\PSoC5/Bootloader.c ****         
 747:Generated_Source\PSoC5/Bootloader.c ****         /* Read all data from metadata #2 */
 748:Generated_Source\PSoC5/Bootloader.c ****         for (idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 749:Generated_Source\PSoC5/Bootloader.c ****         {
 750:Generated_Source\PSoC5/Bootloader.c ****             metaBuf[idx] = Bootloader_GET_CODE_BYTE(metaStartAddr + idx);
 751:Generated_Source\PSoC5/Bootloader.c ****         }
 752:Generated_Source\PSoC5/Bootloader.c ****         
 753:Generated_Source\PSoC5/Bootloader.c ****         /* Setting 'Copier available' flag (copyFlag field) in buffer to be stored in metadata#1 */
 754:Generated_Source\PSoC5/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_COPY_FLAG_BYTE_OFFSET] = Bootload
 755:Generated_Source\PSoC5/Bootloader.c **** 
 756:Generated_Source\PSoC5/Bootloader.c ****         /* Set active app#1 */
 757:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 758:Generated_Source\PSoC5/Bootloader.c ****         
 759:Generated_Source\PSoC5/Bootloader.c ****         /* Setting app#1 as active application in buffer to be stored in metadata#1 */
 760:Generated_Source\PSoC5/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_ACTIVE_APP_BYTE_OFFSET] = 0x01u; 
 761:Generated_Source\PSoC5/Bootloader.c **** 
 762:Generated_Source\PSoC5/Bootloader.c ****         /* Setting app#1 as valid for 'Fast validation' to be stored in metadata#1 */
 763:Generated_Source\PSoC5/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_FAST_VALID_BYTE_OFFSET] = 0x01u; 
 764:Generated_Source\PSoC5/Bootloader.c **** 
 765:Generated_Source\PSoC5/Bootloader.c ****         /* Update metadata#1 in flash */
 766:Generated_Source\PSoC5/Bootloader.c ****         copyStatus = CySysFlashWriteRow((uint16) (CY_FLASH_NUMBER_ROWS - 1u), metaBuf);  
 767:Generated_Source\PSoC5/Bootloader.c **** 
 768:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************
 769:Generated_Source\PSoC5/Bootloader.c ****         *                               Metadata#2 update  
 770:Generated_Source\PSoC5/Bootloader.c ****         * Clear the whole buffer for metadata#2, which will make it invalid. 
 771:Generated_Source\PSoC5/Bootloader.c ****         * The 'Need-to-copy' flag will be cleared and app#2 will be set as non-active. 
 772:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
 773:Generated_Source\PSoC5/Bootloader.c ****         (void) memset(&metaBuf, 0x00u, sizeof(metaBuf));
 774:Generated_Source\PSoC5/Bootloader.c ****         
 775:Generated_Source\PSoC5/Bootloader.c ****         /* Updating metadata#2 in flash */
 776:Generated_Source\PSoC5/Bootloader.c ****         copyStatus |= CySysFlashWriteRow((uint16) (CY_FLASH_NUMBER_ROWS - 2u), metaBuf);          
 777:Generated_Source\PSoC5/Bootloader.c ****     }
 778:Generated_Source\PSoC5/Bootloader.c ****     
 779:Generated_Source\PSoC5/Bootloader.c ****     if (CYRET_SUCCESS == copyStatus)
 780:Generated_Source\PSoC5/Bootloader.c ****     {
 781:Generated_Source\PSoC5/Bootloader.c ****         /* Schedule*/
 782:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 19


 783:Generated_Source\PSoC5/Bootloader.c **** 
 784:Generated_Source\PSoC5/Bootloader.c ****         /* Software reset */
 785:Generated_Source\PSoC5/Bootloader.c ****         CySoftwareReset();
 786:Generated_Source\PSoC5/Bootloader.c ****     }
 787:Generated_Source\PSoC5/Bootloader.c ****     else
 788:Generated_Source\PSoC5/Bootloader.c ****     {
 789:Generated_Source\PSoC5/Bootloader.c ****         /* Halt device */
 790:Generated_Source\PSoC5/Bootloader.c ****         CyHalt(0x00u);
 791:Generated_Source\PSoC5/Bootloader.c ****     }
 792:Generated_Source\PSoC5/Bootloader.c **** }
 793:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
 794:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 795:Generated_Source\PSoC5/Bootloader.c **** 
 796:Generated_Source\PSoC5/Bootloader.c **** 
 797:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 798:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Start
 799:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 800:Generated_Source\PSoC5/Bootloader.c **** * \brief
 801:Generated_Source\PSoC5/Bootloader.c **** *  This function is called to execute the following algorithm:
 802:Generated_Source\PSoC5/Bootloader.c **** *
 803:Generated_Source\PSoC5/Bootloader.c **** * -    Validate the Bootloadable application for the Classic Single-app Bootloader or 
 804:Generated_Source\PSoC5/Bootloader.c **** *   both Bootloadable/Combination applications for the Classic Dual-app Bootloader/
 805:Generated_Source\PSoC5/Bootloader.c **** *   Launch-only Bootloader (Launcher for short) respectively.
 806:Generated_Source\PSoC5/Bootloader.c **** *  
 807:Generated_Source\PSoC5/Bootloader.c **** * -    For the Classic Single-app Bootloader: if the Bootloadable application is valid, 
 808:Generated_Source\PSoC5/Bootloader.c **** *   then the flow switches to it after a software reset. Otherwise it stays in 
 809:Generated_Source\PSoC5/Bootloader.c **** *   the Bootloader, waiting for a command(s) from the host.
 810:Generated_Source\PSoC5/Bootloader.c **** * 
 811:Generated_Source\PSoC5/Bootloader.c **** * -    For the Classic Dual-app Bootloader: the flow acts according to the switching table 
 812:Generated_Source\PSoC5/Bootloader.c **** *  (see in the code below) and enabled/disabled options (for instance, auto-switching).
 813:Generated_Source\PSoC5/Bootloader.c **** *   NOTE If the valid Bootloadable application is identified, then the control is passed 
 814:Generated_Source\PSoC5/Bootloader.c **** *   to it after a software reset. Otherwise it stays in the Classic Dual-app Bootloader 
 815:Generated_Source\PSoC5/Bootloader.c **** *   waiting for a command(s) from the host.
 816:Generated_Source\PSoC5/Bootloader.c **** * 
 817:Generated_Source\PSoC5/Bootloader.c **** * -    For the Launcher: the flow acts according to the switching table (see below) and 
 818:Generated_Source\PSoC5/Bootloader.c **** *   enabled/disabled options. NOTE If the valid Combination application is identified, then 
 819:Generated_Source\PSoC5/Bootloader.c **** *   the control is passed to it after a software reset. Otherwise it stays in the Launcher 
 820:Generated_Source\PSoC5/Bootloader.c **** *   forever.
 821:Generated_Source\PSoC5/Bootloader.c **** * 
 822:Generated_Source\PSoC5/Bootloader.c **** * -    Validate the Bootloader/Launcher application(s) (design-time configurable, Bootloader 
 823:Generated_Source\PSoC5/Bootloader.c **** *   application validation option of the component customizer).
 824:Generated_Source\PSoC5/Bootloader.c **** * 
 825:Generated_Source\PSoC5/Bootloader.c **** * -    Run a communication subroutine (design-time configurable, the Wait for command 
 826:Generated_Source\PSoC5/Bootloader.c **** *   option of the component customizer). NOTE This is NOT applicable for the Launcher.
 827:Generated_Source\PSoC5/Bootloader.c **** *
 828:Generated_Source\PSoC5/Bootloader.c **** * -    Schedule the Bootloadable and reset the device.
 829:Generated_Source\PSoC5/Bootloader.c **** *
 830:Generated_Source\PSoC5/Bootloader.c **** *  \ref page_switching_logic
 831:Generated_Source\PSoC5/Bootloader.c **** *
 832:Generated_Source\PSoC5/Bootloader.c **** * \return
 833:Generated_Source\PSoC5/Bootloader.c **** *  This method will never return. It will either load a new application and
 834:Generated_Source\PSoC5/Bootloader.c **** *  reset the device or jump directly to the existing application. The CPU is
 835:Generated_Source\PSoC5/Bootloader.c **** *  halted, if the validation fails when the "Bootloader application validation" 
 836:Generated_Source\PSoC5/Bootloader.c **** *  option is enabled.
 837:Generated_Source\PSoC5/Bootloader.c **** *  PSoC 3/PSoC 5: The CPU is halted if flash initialization fails.
 838:Generated_Source\PSoC5/Bootloader.c **** *
 839:Generated_Source\PSoC5/Bootloader.c **** * \details
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 20


 840:Generated_Source\PSoC5/Bootloader.c **** *  If the "Bootloader application validation" option is enabled and this method
 841:Generated_Source\PSoC5/Bootloader.c **** *  determines that the Bootloader application itself is corrupt, this method
 842:Generated_Source\PSoC5/Bootloader.c **** *  will not return, instead it will simply hang the application.   
 843:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 844:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_Start(void) CYSMALL 
 845:Generated_Source\PSoC5/Bootloader.c **** {
 243              		.loc 1 845 0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 8
 246              		@ frame_needed = 1, uses_anonymous_args = 0
 247 0000 80B5     		push	{r7, lr}
 248              		.cfi_def_cfa_offset 8
 249              		.cfi_offset 7, -8
 250              		.cfi_offset 14, -4
 251 0002 82B0     		sub	sp, sp, #8
 252              		.cfi_def_cfa_offset 16
 253 0004 00AF     		add	r7, sp, #0
 254              		.cfi_def_cfa_register 7
 846:Generated_Source\PSoC5/Bootloader.c **** 
 847:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 848:Generated_Source\PSoC5/Bootloader.c **** 
 849:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_DUAL_APP_BOOTLOADER)
 850:Generated_Source\PSoC5/Bootloader.c ****         cystatus app0Status = CYRET_BAD_DATA;
 851:Generated_Source\PSoC5/Bootloader.c ****         cystatus app1Status = CYRET_BAD_DATA;  
 852:Generated_Source\PSoC5/Bootloader.c ****     #endif /*0u != Bootloader_DUAL_APP_BOOTLOADER*/
 853:Generated_Source\PSoC5/Bootloader.c ****     
 854:Generated_Source\PSoC5/Bootloader.c ****     cystatus validApp  = CYRET_BAD_DATA;
 255              		.loc 1 854 0
 256 0006 0623     		movs	r3, #6
 257 0008 7B60     		str	r3, [r7, #4]
 855:Generated_Source\PSoC5/Bootloader.c **** 
 856:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_BOOTLOADER_APP_VALIDATION)
 857:Generated_Source\PSoC5/Bootloader.c ****         uint8 CYDATA calcedChecksum;
 858:Generated_Source\PSoC5/Bootloader.c ****     #endif    /* (0u != Bootloader_BOOTLOADER_APP_VALIDATION) */
 859:Generated_Source\PSoC5/Bootloader.c **** 
 860:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
 861:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
 862:Generated_Source\PSoC5/Bootloader.c ****             /* Initialize flash subsystem for non-PSoC 4 devices */
 863:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS != CySetTemp())
 864:Generated_Source\PSoC5/Bootloader.c ****             {
 865:Generated_Source\PSoC5/Bootloader.c ****                 CyHalt(0x00u);
 866:Generated_Source\PSoC5/Bootloader.c ****             }
 867:Generated_Source\PSoC5/Bootloader.c **** 
 868:Generated_Source\PSoC5/Bootloader.c ****             #if !defined(CY_BOOT_VERSION)
 869:Generated_Source\PSoC5/Bootloader.c ****                 /* Not required with cy_boot 4.20 */
 870:Generated_Source\PSoC5/Bootloader.c ****                 if (CYRET_SUCCESS != CySetFlashEEBuffer(Bootloader_flashBuffer))
 871:Generated_Source\PSoC5/Bootloader.c ****                 {
 872:Generated_Source\PSoC5/Bootloader.c ****                     CyHalt(0x00u);
 873:Generated_Source\PSoC5/Bootloader.c ****                 }
 874:Generated_Source\PSoC5/Bootloader.c **** 
 875:Generated_Source\PSoC5/Bootloader.c ****                 uint8 CYXDATA Bootloader_flashBuffer[Bootloader_FROW_SIZE];
 876:Generated_Source\PSoC5/Bootloader.c ****             #endif /* !defined(CY_BOOT_VERSION) */
 877:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
 878:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC4) */
 879:Generated_Source\PSoC5/Bootloader.c **** 
 880:Generated_Source\PSoC5/Bootloader.c ****     #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) 
 881:Generated_Source\PSoC5/Bootloader.c ****     #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4))
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 21


 882:Generated_Source\PSoC5/Bootloader.c ****         /* Checking "need-to-copy" flag in metadata#1. If it is set, then copy operation is require
 883:Generated_Source\PSoC5/Bootloader.c ****         uint8 needToCopyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, 
 884:Generated_Source\PSoC5/Bootloader.c ****                                                         Bootloader_MD_BTLDB_ACTIVE_1);             
 885:Generated_Source\PSoC5/Bootloader.c ****         
 886:Generated_Source\PSoC5/Bootloader.c ****         /* Checking "Need to copy" flag in metadata#1 */
 887:Generated_Source\PSoC5/Bootloader.c ****         if (0u != (needToCopyFlag & Bootloader_NEED_TO_COPY_MASK))
 888:Generated_Source\PSoC5/Bootloader.c ****         {
 889:Generated_Source\PSoC5/Bootloader.c ****             /* Note that this function never returns */
 890:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_Copier();
 891:Generated_Source\PSoC5/Bootloader.c ****         }
 892:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) */
 893:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
 894:Generated_Source\PSoC5/Bootloader.c ****         
 895:Generated_Source\PSoC5/Bootloader.c ****     /* Identify active Bootloadable/Combination application */
 896:Generated_Source\PSoC5/Bootloader.c ****     #if (0u != Bootloader_DUAL_APP_BOOTLOADER)
 897:Generated_Source\PSoC5/Bootloader.c ****         app0Status = Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_0);
 898:Generated_Source\PSoC5/Bootloader.c ****         app1Status = Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_1);  
 899:Generated_Source\PSoC5/Bootloader.c **** 
 900:Generated_Source\PSoC5/Bootloader.c ****         /* Assumes no active Bootloadable application. Bootloader is active. */
 901:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_NONE;
 902:Generated_Source\PSoC5/Bootloader.c **** 
 903:Generated_Source\PSoC5/Bootloader.c ****         /* Bootloadable app#1 is active */
 904:Generated_Source\PSoC5/Bootloader.c ****         if(Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, Bootloader_MD_BTLDB_ACTIVE_0) == \
 905:Generated_Source\PSoC5/Bootloader.c ****                                                                            Bootloader_MD_BTLDB_IS_A
 906:Generated_Source\PSoC5/Bootloader.c ****         {
 907:Generated_Source\PSoC5/Bootloader.c ****             /**************************************************************************************
 908:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 909:Generated_Source\PSoC5/Bootloader.c ****             * |      |      app#1     |      app#2     |        Classic Dual-app       |     Launch
 910:Generated_Source\PSoC5/Bootloader.c ****             * | Case |---------------------------------|          Bootloader           |           
 911:Generated_Source\PSoC5/Bootloader.c ****             * |      | Active | Valid | Active | Valid |                               |           
 912:Generated_Source\PSoC5/Bootloader.c ****             * |------------------------------------------------------------------------------------
 913:Generated_Source\PSoC5/Bootloader.c ****             * |  9   |    1   |   0   |   0    |   0   | Bootloader                    | Launcher  
 914:Generated_Source\PSoC5/Bootloader.c ****             * |  10  |    1   |   0   |   0    |   1   | app#2, except if auto-app     | app#2     
 915:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | switching is disabled, then   |           
 916:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | stay in Bootloader            |           
 917:Generated_Source\PSoC5/Bootloader.c ****             * |  11  |    1   |   0   |   1    |   0   | Bootloader                    | Launcher  
 918:Generated_Source\PSoC5/Bootloader.c ****             * |  12  |    1   |   0   |   1    |   1   | app#2                         | app#2     
 919:Generated_Source\PSoC5/Bootloader.c ****             * |  13  |    1   |   1   |   0    |   0   | app#1                         | app#1     
 920:Generated_Source\PSoC5/Bootloader.c ****             * |  14  |    1   |   1   |   0    |   1   | app#1                         | app#1     
 921:Generated_Source\PSoC5/Bootloader.c ****             * |  15  |    1   |   1   |   1    |   0   | app#1                         | app#1     
 922:Generated_Source\PSoC5/Bootloader.c ****             * |  16  |    1   |   1   |   1    |   1   | app#1                         | app#1     
 923:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 924:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************************
 925:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS == app0Status)
 926:Generated_Source\PSoC5/Bootloader.c ****             {
 927:Generated_Source\PSoC5/Bootloader.c ****                 /* Cases # 13,  14, 15, and 16 */
 928:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 929:Generated_Source\PSoC5/Bootloader.c ****                 validApp = CYRET_SUCCESS;
 930:Generated_Source\PSoC5/Bootloader.c ****             }
 931:Generated_Source\PSoC5/Bootloader.c ****             else /*Bootloadable app#1 is not valid*/
 932:Generated_Source\PSoC5/Bootloader.c ****             {
 933:Generated_Source\PSoC5/Bootloader.c ****                 #if (((1u == Bootloader_AUTO_SWITCHING_AVAIL) &&  \
 934:Generated_Source\PSoC5/Bootloader.c ****                       (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) || \
 935:Generated_Source\PSoC5/Bootloader.c ****                       (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) 
 936:Generated_Source\PSoC5/Bootloader.c ****                 if (CYRET_SUCCESS == app1Status )
 937:Generated_Source\PSoC5/Bootloader.c ****                 {
 938:Generated_Source\PSoC5/Bootloader.c ****                     /* Cases # 10 and 12 */
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 22


 939:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
 940:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
 941:Generated_Source\PSoC5/Bootloader.c ****                 }
 942:Generated_Source\PSoC5/Bootloader.c ****                 #endif /*((1u == Bootloader_AUTO_SWITCHING_AVAIL) && 
 943:Generated_Source\PSoC5/Bootloader.c ****                           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) || 
 944:Generated_Source\PSoC5/Bootloader.c ****                           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 945:Generated_Source\PSoC5/Bootloader.c ****             }
 946:Generated_Source\PSoC5/Bootloader.c ****         }
 947:Generated_Source\PSoC5/Bootloader.c **** 
 948:Generated_Source\PSoC5/Bootloader.c ****         /*  Active Bootloadable application is not identified */
 949:Generated_Source\PSoC5/Bootloader.c ****         if(Bootloader_activeApp == Bootloader_MD_BTLDB_ACTIVE_NONE)
 950:Generated_Source\PSoC5/Bootloader.c ****         {
 951:Generated_Source\PSoC5/Bootloader.c ****             /**************************************************************************************
 952:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 953:Generated_Source\PSoC5/Bootloader.c ****             * |      |       app#1    |       app#2    |        Classic Dual-app       |     Launch
 954:Generated_Source\PSoC5/Bootloader.c ****             * | Case |---------------------------------|          Bootloader           |           
 955:Generated_Source\PSoC5/Bootloader.c ****             * |      | Active | Valid | Active | Valid |                               |           
 956:Generated_Source\PSoC5/Bootloader.c ****             * |------|-----------------------------------------------------------------------------
 957:Generated_Source\PSoC5/Bootloader.c ****             * |  1   |    0   |   0   |   0    |   0   | Bootloader                    | Launcher  
 958:Generated_Source\PSoC5/Bootloader.c ****             * |  2   |    0   |   0   |   0    |   1   | Bootloader                    | app#2     
 959:Generated_Source\PSoC5/Bootloader.c ****             * |  3   |    0   |   0   |   1    |   0   | Bootloader                    | Launcher  
 960:Generated_Source\PSoC5/Bootloader.c ****             * |  4   |    0   |   0   |   1    |   1   | app#2                         | app#2     
 961:Generated_Source\PSoC5/Bootloader.c ****             * |  5   |    0   |   1   |   0    |   0   | Bootloader                    | app#1     
 962:Generated_Source\PSoC5/Bootloader.c ****             * |  6   |    0   |   1   |   0    |   1   | Bootloader                    | app#1     
 963:Generated_Source\PSoC5/Bootloader.c ****             * |  7   |    0   |   1   |   1    |   0   | app#1, except if auto-app     | app#1     
 964:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | switching is disabled, then   |           
 965:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | stay in Bootloader            |           
 966:Generated_Source\PSoC5/Bootloader.c ****             * |  8   |    0   |   1   |   1    |   1   | app#2                         | app#2     
 967:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 968:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************************
 969:Generated_Source\PSoC5/Bootloader.c ****             if (Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 1u) ==
 970:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_MD_BTLDB_IS_ACTIVE)
 971:Generated_Source\PSoC5/Bootloader.c ****             {
 972:Generated_Source\PSoC5/Bootloader.c ****                 /* Cases # 3, 4, 7, and 8 */
 973:Generated_Source\PSoC5/Bootloader.c ****                 if (CYRET_SUCCESS == app1Status)
 974:Generated_Source\PSoC5/Bootloader.c ****                 {
 975:Generated_Source\PSoC5/Bootloader.c ****                     /* Cases # 4 and 8 */
 976:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
 977:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
 978:Generated_Source\PSoC5/Bootloader.c ****                 }
 979:Generated_Source\PSoC5/Bootloader.c ****                 else
 980:Generated_Source\PSoC5/Bootloader.c ****                 {
 981:Generated_Source\PSoC5/Bootloader.c ****                  #if (((1u == Bootloader_AUTO_SWITCHING_AVAIL) && \
 982:Generated_Source\PSoC5/Bootloader.c ****                        (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) \
 983:Generated_Source\PSoC5/Bootloader.c ****                     || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) 
 984:Generated_Source\PSoC5/Bootloader.c ****                     if (CYRET_SUCCESS == app0Status)
 985:Generated_Source\PSoC5/Bootloader.c ****                     {
 986:Generated_Source\PSoC5/Bootloader.c ****                         /* Cases # 7 */
 987:Generated_Source\PSoC5/Bootloader.c ****                         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 988:Generated_Source\PSoC5/Bootloader.c ****                         validApp = CYRET_SUCCESS;
 989:Generated_Source\PSoC5/Bootloader.c ****                     }
 990:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*(((1u == Bootloader_AUTO_SWITCHING_AVAIL) && \
 991:Generated_Source\PSoC5/Bootloader.c ****                                (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) \
 992:Generated_Source\PSoC5/Bootloader.c ****                             || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))*/
 993:Generated_Source\PSoC5/Bootloader.c ****                 }
 994:Generated_Source\PSoC5/Bootloader.c ****             }
 995:Generated_Source\PSoC5/Bootloader.c ****         }
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 23


 996:Generated_Source\PSoC5/Bootloader.c ****         
 997:Generated_Source\PSoC5/Bootloader.c ****         #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) 
 998:Generated_Source\PSoC5/Bootloader.c ****             /*None of applications is active*/
 999:Generated_Source\PSoC5/Bootloader.c ****             if (Bootloader_MD_BTLDB_ACTIVE_NONE ==Bootloader_activeApp)
1000:Generated_Source\PSoC5/Bootloader.c ****             {
1001:Generated_Source\PSoC5/Bootloader.c ****                 /*case#5, case#6: pass control to Bootloadable app#1*/
1002:Generated_Source\PSoC5/Bootloader.c ****                 if(CYRET_SUCCESS == app0Status)
1003:Generated_Source\PSoC5/Bootloader.c ****                 {
1004:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
1005:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
1006:Generated_Source\PSoC5/Bootloader.c ****                 }
1007:Generated_Source\PSoC5/Bootloader.c ****                 /*case#2: pass control to Bootloadable app#2*/
1008:Generated_Source\PSoC5/Bootloader.c ****                 else if (CYRET_SUCCESS == app1Status)
1009:Generated_Source\PSoC5/Bootloader.c ****                 {
1010:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
1011:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
1012:Generated_Source\PSoC5/Bootloader.c ****                 }
1013:Generated_Source\PSoC5/Bootloader.c ****                 else
1014:Generated_Source\PSoC5/Bootloader.c ****                 {
1015:Generated_Source\PSoC5/Bootloader.c ****                     /* case#1, case#3, case#9, case#11: very bad situation, no valid application */
1016:Generated_Source\PSoC5/Bootloader.c ****                     /* Do nothing, stay in Bootloader/Launcher */
1017:Generated_Source\PSoC5/Bootloader.c ****                 }
1018:Generated_Source\PSoC5/Bootloader.c ****             }
1019:Generated_Source\PSoC5/Bootloader.c **** 
1020:Generated_Source\PSoC5/Bootloader.c **** 
1021:Generated_Source\PSoC5/Bootloader.c ****              /*********************************************************************************
1022:Generated_Source\PSoC5/Bootloader.c ****             * The next logic is an invalidation of the non-active application in the metadata
1023:Generated_Source\PSoC5/Bootloader.c ****             * section, because there could be a situation due to some error, when both  
1024:Generated_Source\PSoC5/Bootloader.c ****             * applications are set active (cases #12,15,16). Only one application can be active.
1025:Generated_Source\PSoC5/Bootloader.c ****             * This logic also stores the active application number in the metadata section.        
1026:Generated_Source\PSoC5/Bootloader.c ****             *********************************************************************************/
1027:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS == validApp)
1028:Generated_Source\PSoC5/Bootloader.c ****             {
1029:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_SetActiveAppInMetadata(Bootloader_activeApp);      
1030:Generated_Source\PSoC5/Bootloader.c ****             }
1031:Generated_Source\PSoC5/Bootloader.c ****         #endif /* CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER */
1032:Generated_Source\PSoC5/Bootloader.c ****     #else /*SINGLE_APP BOOTLOADER*/
1033:Generated_Source\PSoC5/Bootloader.c ****         if (CYRET_SUCCESS == Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_0))
 258              		.loc 1 1033 0
 259 000a 0020     		movs	r0, #0
 260 000c FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 261 0010 0346     		mov	r3, r0
 262 0012 002B     		cmp	r3, #0
 263 0014 01D1     		bne	.L16
1034:Generated_Source\PSoC5/Bootloader.c ****         {
1035:Generated_Source\PSoC5/Bootloader.c ****             validApp = CYRET_SUCCESS;
 264              		.loc 1 1035 0
 265 0016 0023     		movs	r3, #0
 266 0018 7B60     		str	r3, [r7, #4]
 267              	.L16:
1036:Generated_Source\PSoC5/Bootloader.c ****         }
1037:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
1038:Generated_Source\PSoC5/Bootloader.c **** 
1039:Generated_Source\PSoC5/Bootloader.c ****     
1040:Generated_Source\PSoC5/Bootloader.c ****     /***********************************************************************
1041:Generated_Source\PSoC5/Bootloader.c ****     * Bootloader Application Validation
1042:Generated_Source\PSoC5/Bootloader.c ****     *
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 24


1043:Generated_Source\PSoC5/Bootloader.c ****     * Halt the device if:
1044:Generated_Source\PSoC5/Bootloader.c ****     *  - A calculated checksum does not match the one stored in the metadata
1045:Generated_Source\PSoC5/Bootloader.c ****     *     section.
1046:Generated_Source\PSoC5/Bootloader.c ****     *  - There is an invalid pointer to the place where the Bootloader
1047:Generated_Source\PSoC5/Bootloader.c ****     *    application ends.
1048:Generated_Source\PSoC5/Bootloader.c ****     *  - The flash subsystem was not initialized correctly.
1049:Generated_Source\PSoC5/Bootloader.c ****     ***********************************************************************/
1050:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_BOOTLOADER_APP_VALIDATION)
1051:Generated_Source\PSoC5/Bootloader.c **** 
1052:Generated_Source\PSoC5/Bootloader.c ****         /* Calculate Bootloader application checksum */
1053:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum = Bootloader_Calc8BitSum(CY_FLASH_BASE,
 268              		.loc 1 1053 0
 269 001a 1D4B     		ldr	r3, .L21
 270 001c 1B68     		ldr	r3, [r3]
 271 001e 1B68     		ldr	r3, [r3]
 272 0020 1A46     		mov	r2, r3
 273 0022 0021     		movs	r1, #0
 274 0024 0020     		movs	r0, #0
 275 0026 FFF7FEFF 		bl	Bootloader_Calc8BitSum
 276 002a 0346     		mov	r3, r0
 277 002c FB70     		strb	r3, [r7, #3]
1054:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_MD_BTLDR_ADDR_PTR,
1055:Generated_Source\PSoC5/Bootloader.c ****                 *Bootloader_SizeBytesAccess - Bootloader_MD_BTLDR_ADDR_PTR);
1056:Generated_Source\PSoC5/Bootloader.c **** 
1057:Generated_Source\PSoC5/Bootloader.c ****         /* We included checksum, so remove it */
1058:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum -= *Bootloader_ChecksumAccess;
 278              		.loc 1 1058 0
 279 002e 194B     		ldr	r3, .L21+4
 280 0030 1B68     		ldr	r3, [r3]
 281 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 282 0034 FA78     		ldrb	r2, [r7, #3]
 283 0036 D31A     		subs	r3, r2, r3
 284 0038 FB70     		strb	r3, [r7, #3]
1059:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum = ( uint8 )1u + ( uint8 )(~calcedChecksum);
 285              		.loc 1 1059 0
 286 003a FB78     		ldrb	r3, [r7, #3]
 287 003c 5B42     		negs	r3, r3
 288 003e FB70     		strb	r3, [r7, #3]
1060:Generated_Source\PSoC5/Bootloader.c **** 
1061:Generated_Source\PSoC5/Bootloader.c ****         /* Checksum and pointer to Bootloader verification */
1062:Generated_Source\PSoC5/Bootloader.c ****         if((calcedChecksum != *Bootloader_ChecksumAccess) ||
 289              		.loc 1 1062 0
 290 0040 144B     		ldr	r3, .L21+4
 291 0042 1B68     		ldr	r3, [r3]
 292 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 293 0046 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 294 0048 9A42     		cmp	r2, r3
 295 004a 04D1     		bne	.L17
1063:Generated_Source\PSoC5/Bootloader.c ****            (0u == *Bootloader_SizeBytesAccess))
 296              		.loc 1 1063 0 discriminator 1
 297 004c 104B     		ldr	r3, .L21
 298 004e 1B68     		ldr	r3, [r3]
 299 0050 1B68     		ldr	r3, [r3]
1062:Generated_Source\PSoC5/Bootloader.c ****            (0u == *Bootloader_SizeBytesAccess))
 300              		.loc 1 1062 0 discriminator 1
 301 0052 002B     		cmp	r3, #0
 302 0054 02D1     		bne	.L18
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 25


 303              	.L17:
1064:Generated_Source\PSoC5/Bootloader.c ****         {
1065:Generated_Source\PSoC5/Bootloader.c ****             /***********************************************************************
1066:Generated_Source\PSoC5/Bootloader.c ****             * If the Bootloader/Launcher application calculated checksum does not match
1067:Generated_Source\PSoC5/Bootloader.c ****             * the checksum stored in special Bootloader_Checksum constant 
1068:Generated_Source\PSoC5/Bootloader.c ****             * (accessed through Bootloader_ChecksumAccess) constant or its size 
1069:Generated_Source\PSoC5/Bootloader.c ****             * stored in Bootloader_SizeBytes constant (accessed through
1070:Generated_Source\PSoC5/Bootloader.c ****             * Bootloader_SizeBytesAccess) then CPU is halted, all software 
1071:Generated_Source\PSoC5/Bootloader.c ****             * processing stops. 
1072:Generated_Source\PSoC5/Bootloader.c ****             ***********************************************************************/
1073:Generated_Source\PSoC5/Bootloader.c ****             CyHalt(0x00u);
 304              		.loc 1 1073 0
 305 0056 0020     		movs	r0, #0
 306 0058 FFF7FEFF 		bl	CyHalt
 307              	.L18:
1074:Generated_Source\PSoC5/Bootloader.c ****         }
1075:Generated_Source\PSoC5/Bootloader.c **** 
1076:Generated_Source\PSoC5/Bootloader.c ****     #endif /* 0u != Bootloader_BOOTLOADER_APP_VALIDATION */
1077:Generated_Source\PSoC5/Bootloader.c **** #endif /* CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/ 
1078:Generated_Source\PSoC5/Bootloader.c **** 
1079:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)    
1080:Generated_Source\PSoC5/Bootloader.c ****     /***********************************************************************
1081:Generated_Source\PSoC5/Bootloader.c ****     * If the active Bootloadable application is invalid or scheduled - do the following:
1082:Generated_Source\PSoC5/Bootloader.c ****     *  - schedule the Bootloader application to be run after a software reset;
1083:Generated_Source\PSoC5/Bootloader.c ****     *  - go to the communication subroutine. The HostLink() will wait for
1084:Generated_Source\PSoC5/Bootloader.c ****     *    commands forever.
1085:Generated_Source\PSoC5/Bootloader.c ****     ***********************************************************************/
1086:Generated_Source\PSoC5/Bootloader.c ****     if ((Bootloader_GET_RUN_TYPE == Bootloader_SCHEDULE_BTLDR) 
 308              		.loc 1 1086 0
 309 005c 0E4B     		ldr	r3, .L21+8
 310 005e 1B78     		ldrb	r3, [r3]
 311 0060 DBB2     		uxtb	r3, r3
 312 0062 03F0C003 		and	r3, r3, #192
 313 0066 402B     		cmp	r3, #64
 314 0068 02D0     		beq	.L19
1087:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)        
1088:Generated_Source\PSoC5/Bootloader.c ****         || (CYRET_SUCCESS != validApp)
 315              		.loc 1 1088 0
 316 006a 7B68     		ldr	r3, [r7, #4]
 317 006c 002B     		cmp	r3, #0
 318 006e 05D0     		beq	.L20
 319              	.L19:
1089:Generated_Source\PSoC5/Bootloader.c **** #endif        
1090:Generated_Source\PSoC5/Bootloader.c ****         )
1091:Generated_Source\PSoC5/Bootloader.c ****     {
1092:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 320              		.loc 1 1092 0
 321 0070 094B     		ldr	r3, .L21+8
 322 0072 0022     		movs	r2, #0
 323 0074 1A70     		strb	r2, [r3]
1093:Generated_Source\PSoC5/Bootloader.c **** 
1094:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_HostLink(Bootloader_WAIT_FOR_COMMAND_FOREVER);
 324              		.loc 1 1094 0
 325 0076 0020     		movs	r0, #0
 326 0078 FFF7FEFF 		bl	Bootloader_HostLink
 327              	.L20:
1095:Generated_Source\PSoC5/Bootloader.c ****     }
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 26


1096:Generated_Source\PSoC5/Bootloader.c **** 
1097:Generated_Source\PSoC5/Bootloader.c ****     /* Go to communication subroutine. Will wait for commands for specified time */
1098:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_WAIT_FOR_COMMAND)
1099:Generated_Source\PSoC5/Bootloader.c **** 
1100:Generated_Source\PSoC5/Bootloader.c ****         /* Timeout is in 100s of milliseconds */
1101:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_HostLink(Bootloader_WAIT_FOR_COMMAND_TIME);
 328              		.loc 1 1101 0
 329 007c C820     		movs	r0, #200
 330 007e FFF7FEFF 		bl	Bootloader_HostLink
1102:Generated_Source\PSoC5/Bootloader.c **** 
1103:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_WAIT_FOR_COMMAND) */
1104:Generated_Source\PSoC5/Bootloader.c **** #else /* Launcher */
1105:Generated_Source\PSoC5/Bootloader.c ****     /* If none Bootloadable application is valid */
1106:Generated_Source\PSoC5/Bootloader.c ****     if (CYRET_SUCCESS != validApp)
1107:Generated_Source\PSoC5/Bootloader.c ****     {   
1108:Generated_Source\PSoC5/Bootloader.c ****         CyHalt(0x00u);
1109:Generated_Source\PSoC5/Bootloader.c ****     }         
1110:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER*/    
1111:Generated_Source\PSoC5/Bootloader.c **** 
1112:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)             
1113:Generated_Source\PSoC5/Bootloader.c ****     /* Schedule Bootloadable application and perform software reset */
1114:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_LaunchApplication();
 331              		.loc 1 1114 0
 332 0082 FFF7FEFF 		bl	Bootloader_LaunchApplication
1115:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
1116:Generated_Source\PSoC5/Bootloader.c **** }
 333              		.loc 1 1116 0
 334 0086 00BF     		nop
 335 0088 0837     		adds	r7, r7, #8
 336              		.cfi_def_cfa_offset 8
 337 008a BD46     		mov	sp, r7
 338              		.cfi_def_cfa_register 13
 339              		@ sp needed
 340 008c 80BD     		pop	{r7, pc}
 341              	.L22:
 342 008e 00BF     		.align	2
 343              	.L21:
 344 0090 00000000 		.word	Bootloader_SizeBytesAccess
 345 0094 00000000 		.word	Bootloader_ChecksumAccess
 346 0098 FA460040 		.word	1073759994
 347              		.cfi_endproc
 348              	.LFE66:
 349              		.size	Bootloader_Start, .-Bootloader_Start
 350              		.section	.text.Bootloader_LaunchApplication,"ax",%progbits
 351              		.align	2
 352              		.thumb
 353              		.thumb_func
 354              		.type	Bootloader_LaunchApplication, %function
 355              	Bootloader_LaunchApplication:
 356              	.LFB67:
1117:Generated_Source\PSoC5/Bootloader.c **** 
1118:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1119:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1120:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_LaunchApplication
1121:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1122:Generated_Source\PSoC5/Bootloader.c **** * \internal
1123:Generated_Source\PSoC5/Bootloader.c **** *
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 27


1124:Generated_Source\PSoC5/Bootloader.c **** * \brief
1125:Generated_Source\PSoC5/Bootloader.c **** *  Schedules the Bootloadable application and resets the device.
1126:Generated_Source\PSoC5/Bootloader.c **** *
1127:Generated_Source\PSoC5/Bootloader.c **** * \return
1128:Generated_Source\PSoC5/Bootloader.c **** *  This method will never return.
1129:Generated_Source\PSoC5/Bootloader.c **** *
1130:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
1131:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1132:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_LaunchApplication(void) CYSMALL \
1133:Generated_Source\PSoC5/Bootloader.c ****                     
1134:Generated_Source\PSoC5/Bootloader.c **** {
 357              		.loc 1 1134 0
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 0
 360              		@ frame_needed = 1, uses_anonymous_args = 0
 361 0000 80B5     		push	{r7, lr}
 362              		.cfi_def_cfa_offset 8
 363              		.cfi_offset 7, -8
 364              		.cfi_offset 14, -4
 365 0002 00AF     		add	r7, sp, #0
 366              		.cfi_def_cfa_register 7
1135:Generated_Source\PSoC5/Bootloader.c ****     /* Schedule Bootloadable to start after a reset */
1136:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 367              		.loc 1 1136 0
 368 0004 034B     		ldr	r3, .L24
 369 0006 8022     		movs	r2, #128
 370 0008 1A70     		strb	r2, [r3]
1137:Generated_Source\PSoC5/Bootloader.c **** 
1138:Generated_Source\PSoC5/Bootloader.c ****     CySoftwareReset();
 371              		.loc 1 1138 0
 372 000a FFF7FEFF 		bl	CySoftwareReset
1139:Generated_Source\PSoC5/Bootloader.c **** }
 373              		.loc 1 1139 0
 374 000e 00BF     		nop
 375 0010 80BD     		pop	{r7, pc}
 376              	.L25:
 377 0012 00BF     		.align	2
 378              	.L24:
 379 0014 FA460040 		.word	1073759994
 380              		.cfi_endproc
 381              	.LFE67:
 382              		.size	Bootloader_LaunchApplication, .-Bootloader_LaunchApplication
 383              		.section	.text.Bootloader_Exit,"ax",%progbits
 384              		.align	2
 385              		.global	Bootloader_Exit
 386              		.thumb
 387              		.thumb_func
 388              		.type	Bootloader_Exit, %function
 389              	Bootloader_Exit:
 390              	.LFB68:
1140:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1141:Generated_Source\PSoC5/Bootloader.c **** 
1142:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1143:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Exit
1144:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1145:Generated_Source\PSoC5/Bootloader.c **** *
1146:Generated_Source\PSoC5/Bootloader.c **** *\brief
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 28


1147:Generated_Source\PSoC5/Bootloader.c **** *  Schedules the specified application and performs a software reset to launch
1148:Generated_Source\PSoC5/Bootloader.c **** *  a specified application.
1149:Generated_Source\PSoC5/Bootloader.c **** *
1150:Generated_Source\PSoC5/Bootloader.c **** *  If the specified application is not valid, the Bootloader (the result of the
1151:Generated_Source\PSoC5/Bootloader.c **** *  ValidateBootloadable() function execution returns other than CYRET_SUCCESS,
1152:Generated_Source\PSoC5/Bootloader.c **** *  the Bootloader application is launched.
1153:Generated_Source\PSoC5/Bootloader.c **** *
1154:Generated_Source\PSoC5/Bootloader.c **** * \param appId 
1155:Generated_Source\PSoC5/Bootloader.c **** *   The application to be started:
1156:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDR - The Bootloader application will be started on
1157:Generated_Source\PSoC5/Bootloader.c **** *                                     a software reset.
1158:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB;
1159:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB_1 - Bootloadable application # 1 will be
1160:Generated_Source\PSoC5/Bootloader.c **** *                                     started on a software reset.
1161:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB_2 - Bootloadable application # 2 will be
1162:Generated_Source\PSoC5/Bootloader.c **** *                                     started on a software reset. Available only
1163:Generated_Source\PSoC5/Bootloader.c **** *                                     if the "Dual-application" option is enabled in
1164:Generated_Source\PSoC5/Bootloader.c **** *                                     the component customizer.
1165:Generated_Source\PSoC5/Bootloader.c **** * \return
1166:Generated_Source\PSoC5/Bootloader.c **** *  This function never returns.
1167:Generated_Source\PSoC5/Bootloader.c **** *
1168:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1169:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_Exit(uint8 appId) CYSMALL 
1170:Generated_Source\PSoC5/Bootloader.c **** {
 391              		.loc 1 1170 0
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 16
 394              		@ frame_needed = 1, uses_anonymous_args = 0
 395 0000 80B5     		push	{r7, lr}
 396              		.cfi_def_cfa_offset 8
 397              		.cfi_offset 7, -8
 398              		.cfi_offset 14, -4
 399 0002 84B0     		sub	sp, sp, #16
 400              		.cfi_def_cfa_offset 24
 401 0004 00AF     		add	r7, sp, #0
 402              		.cfi_def_cfa_register 7
 403 0006 0346     		mov	r3, r0
 404 0008 FB71     		strb	r3, [r7, #7]
1171:Generated_Source\PSoC5/Bootloader.c ****     if(Bootloader_EXIT_TO_BTLDR == appId)
 405              		.loc 1 1171 0
 406 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 407 000c 022B     		cmp	r3, #2
 408 000e 03D1     		bne	.L27
1172:Generated_Source\PSoC5/Bootloader.c ****     {
1173:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 409              		.loc 1 1173 0
 410 0010 1A4B     		ldr	r3, .L32
 411 0012 0022     		movs	r2, #0
 412 0014 1A70     		strb	r2, [r3]
 413 0016 2AE0     		b	.L28
 414              	.L27:
1174:Generated_Source\PSoC5/Bootloader.c ****     }
1175:Generated_Source\PSoC5/Bootloader.c ****     else
1176:Generated_Source\PSoC5/Bootloader.c ****     {
1177:Generated_Source\PSoC5/Bootloader.c ****         if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(appId))
 415              		.loc 1 1177 0
 416 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 29


 417 001a 1846     		mov	r0, r3
 418 001c FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 419 0020 0346     		mov	r3, r0
 420 0022 002B     		cmp	r3, #0
 421 0024 20D1     		bne	.L29
 422              	.LBB2:
1178:Generated_Source\PSoC5/Bootloader.c ****         {
1179:Generated_Source\PSoC5/Bootloader.c ****             /* Set active application in metadata */
1180:Generated_Source\PSoC5/Bootloader.c ****             uint8 CYDATA idx;
1181:Generated_Source\PSoC5/Bootloader.c ****             for(idx = 0u; idx < Bootloader_MAX_NUM_OF_BTLDB; idx++)
 423              		.loc 1 1181 0
 424 0026 0023     		movs	r3, #0
 425 0028 FB73     		strb	r3, [r7, #15]
 426 002a 16E0     		b	.L30
 427              	.L31:
1182:Generated_Source\PSoC5/Bootloader.c ****             {
1183:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_ACTIVE_OFFSET(idx),
 428              		.loc 1 1183 0 discriminator 3
 429 002c FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 430 002e 1346     		mov	r3, r2
 431 0030 1B06     		lsls	r3, r3, #24
 432 0032 9B1A     		subs	r3, r3, r2
 433 0034 1B02     		lsls	r3, r3, #8
 434 0036 03F57F33 		add	r3, r3, #261120
 435 003a 03F57473 		add	r3, r3, #976
 436 003e F97B     		ldrb	r1, [r7, #15]	@ zero_extendqisi2
 437 0040 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 438 0042 9142     		cmp	r1, r2
 439 0044 0CBF     		ite	eq
 440 0046 0122     		moveq	r2, #1
 441 0048 0022     		movne	r2, #0
 442 004a D2B2     		uxtb	r2, r2
 443 004c 1146     		mov	r1, r2
 444 004e 1846     		mov	r0, r3
 445 0050 FFF7FEFF 		bl	Bootloader_SetFlashByte
1181:Generated_Source\PSoC5/Bootloader.c ****             {
 446              		.loc 1 1181 0 discriminator 3
 447 0054 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 448 0056 0133     		adds	r3, r3, #1
 449 0058 FB73     		strb	r3, [r7, #15]
 450              	.L30:
1181:Generated_Source\PSoC5/Bootloader.c ****             {
 451              		.loc 1 1181 0 is_stmt 0 discriminator 1
 452 005a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 453 005c 002B     		cmp	r3, #0
 454 005e E5D0     		beq	.L31
1184:Generated_Source\PSoC5/Bootloader.c ****                                               (uint8 )(idx == appId));
1185:Generated_Source\PSoC5/Bootloader.c ****             }
1186:Generated_Source\PSoC5/Bootloader.c **** 
1187:Generated_Source\PSoC5/Bootloader.c ****         #if((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
1188:Generated_Source\PSoC5/Bootloader.c ****             (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
1189:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_activeApp = appId;
1190:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || 
1191:Generated_Source\PSoC5/Bootloader.c ****                   (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))*/
1192:Generated_Source\PSoC5/Bootloader.c **** 
1193:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 455              		.loc 1 1193 0 is_stmt 1
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 30


 456 0060 064B     		ldr	r3, .L32
 457 0062 8022     		movs	r2, #128
 458 0064 1A70     		strb	r2, [r3]
 459              	.LBE2:
 460 0066 02E0     		b	.L28
 461              	.L29:
1194:Generated_Source\PSoC5/Bootloader.c ****         }
1195:Generated_Source\PSoC5/Bootloader.c ****         else
1196:Generated_Source\PSoC5/Bootloader.c ****         {
1197:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 462              		.loc 1 1197 0
 463 0068 044B     		ldr	r3, .L32
 464 006a 0022     		movs	r2, #0
 465 006c 1A70     		strb	r2, [r3]
 466              	.L28:
1198:Generated_Source\PSoC5/Bootloader.c ****         }
1199:Generated_Source\PSoC5/Bootloader.c ****     }
1200:Generated_Source\PSoC5/Bootloader.c **** 
1201:Generated_Source\PSoC5/Bootloader.c ****     CySoftwareReset();
 467              		.loc 1 1201 0
 468 006e FFF7FEFF 		bl	CySoftwareReset
1202:Generated_Source\PSoC5/Bootloader.c **** }
 469              		.loc 1 1202 0
 470 0072 00BF     		nop
 471 0074 1037     		adds	r7, r7, #16
 472              		.cfi_def_cfa_offset 8
 473 0076 BD46     		mov	sp, r7
 474              		.cfi_def_cfa_register 13
 475              		@ sp needed
 476 0078 80BD     		pop	{r7, pc}
 477              	.L33:
 478 007a 00BF     		.align	2
 479              	.L32:
 480 007c FA460040 		.word	1073759994
 481              		.cfi_endproc
 482              	.LFE68:
 483              		.size	Bootloader_Exit, .-Bootloader_Exit
 484              		.section	.text.CyBtldr_CheckLaunch,"ax",%progbits
 485              		.align	2
 486              		.global	CyBtldr_CheckLaunch
 487              		.thumb
 488              		.thumb_func
 489              		.type	CyBtldr_CheckLaunch, %function
 490              	CyBtldr_CheckLaunch:
 491              	.LFB69:
1203:Generated_Source\PSoC5/Bootloader.c **** 
1204:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1205:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1206:Generated_Source\PSoC5/Bootloader.c **** * Function Name: CyBtldr_CheckLaunch
1207:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1208:Generated_Source\PSoC5/Bootloader.c **** * \internal
1209:Generated_Source\PSoC5/Bootloader.c **** *
1210:Generated_Source\PSoC5/Bootloader.c **** * \brief
1211:Generated_Source\PSoC5/Bootloader.c **** *  This routine checks if the Bootloader or Bootloadable application has to
1212:Generated_Source\PSoC5/Bootloader.c **** *  be run.  If the application has to be run, it will start executing.
1213:Generated_Source\PSoC5/Bootloader.c **** *  If the Bootloader has to be run, it will return, so the Bootloader can
1214:Generated_Source\PSoC5/Bootloader.c **** *  continue starting up.
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 31


1215:Generated_Source\PSoC5/Bootloader.c **** *
1216:Generated_Source\PSoC5/Bootloader.c **** * \return
1217:Generated_Source\PSoC5/Bootloader.c **** *  It will not return if it determines that the Bootloadable application should
1218:Generated_Source\PSoC5/Bootloader.c **** *  be run.
1219:Generated_Source\PSoC5/Bootloader.c **** *
1220:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
1221:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1222:Generated_Source\PSoC5/Bootloader.c **** void CyBtldr_CheckLaunch(void) CYSMALL 
1223:Generated_Source\PSoC5/Bootloader.c **** {
 492              		.loc 1 1223 0
 493              		.cfi_startproc
 494              		@ args = 0, pretend = 0, frame = 8
 495              		@ frame_needed = 1, uses_anonymous_args = 0
 496 0000 80B5     		push	{r7, lr}
 497              		.cfi_def_cfa_offset 8
 498              		.cfi_offset 7, -8
 499              		.cfi_offset 14, -4
 500 0002 82B0     		sub	sp, sp, #8
 501              		.cfi_def_cfa_offset 16
 502 0004 00AF     		add	r7, sp, #0
 503              		.cfi_def_cfa_register 7
1224:Generated_Source\PSoC5/Bootloader.c **** 
1225:Generated_Source\PSoC5/Bootloader.c **** #if(CY_PSOC4)
1226:Generated_Source\PSoC5/Bootloader.c **** 
1227:Generated_Source\PSoC5/Bootloader.c ****     /*******************************************************************************
1228:Generated_Source\PSoC5/Bootloader.c ****     * Set cyBtldrRunType to zero in the case of a non-software reset. This means
1229:Generated_Source\PSoC5/Bootloader.c ****     * that the Bootloader application is scheduled - the initial clean state. The
1230:Generated_Source\PSoC5/Bootloader.c ****     * value of cyBtldrRunType is valid only in the case of a software reset.
1231:Generated_Source\PSoC5/Bootloader.c ****     *******************************************************************************/
1232:Generated_Source\PSoC5/Bootloader.c ****     if (0u == (Bootloader_RES_CAUSE_REG & Bootloader_RES_CAUSE_RESET_SOFT))
1233:Generated_Source\PSoC5/Bootloader.c ****     {
1234:Generated_Source\PSoC5/Bootloader.c ****         cyBtldrRunType = Bootloader_SCHEDULE_BTLDR_INIT_STATE;
1235:Generated_Source\PSoC5/Bootloader.c ****     }
1236:Generated_Source\PSoC5/Bootloader.c **** 
1237:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CY_PSOC4) */
1238:Generated_Source\PSoC5/Bootloader.c **** 
1239:Generated_Source\PSoC5/Bootloader.c **** 
1240:Generated_Source\PSoC5/Bootloader.c ****     if (Bootloader_GET_RUN_TYPE == Bootloader_SCHEDULE_BTLDB)
 504              		.loc 1 1240 0
 505 0006 104B     		ldr	r3, .L37
 506 0008 1B78     		ldrb	r3, [r3]
 507 000a DBB2     		uxtb	r3, r3
 508 000c 03F0C003 		and	r3, r3, #192
 509 0010 802B     		cmp	r3, #128
 510 0012 15D1     		bne	.L36
 511              	.LBB3:
1241:Generated_Source\PSoC5/Bootloader.c ****     {
1242:Generated_Source\PSoC5/Bootloader.c **** 
1243:Generated_Source\PSoC5/Bootloader.c **** 
1244:Generated_Source\PSoC5/Bootloader.c ****     #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
1245:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************* 
1246:Generated_Source\PSoC5/Bootloader.c ****         * Classic Single-app or Dual-app Bootloader use cases.
1247:Generated_Source\PSoC5/Bootloader.c ****         * The active application number is taken from Bootloader_activeApp not
1248:Generated_Source\PSoC5/Bootloader.c ****         * to break backward compatibility.
1249:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1250:Generated_Source\PSoC5/Bootloader.c ****         uint8 activeApp = Bootloader_activeApp;
 512              		.loc 1 1250 0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 32


 513 0014 0023     		movs	r3, #0
 514 0016 FB71     		strb	r3, [r7, #7]
1251:Generated_Source\PSoC5/Bootloader.c ****         
1252:Generated_Source\PSoC5/Bootloader.c ****         
1253:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************* 
1254:Generated_Source\PSoC5/Bootloader.c ****         * Classic Dual-app Bootloader with 2 Combination projects use case.
1255:Generated_Source\PSoC5/Bootloader.c ****         * In this use case Classic Dual-app Bootloader is not the only one, who switches
1256:Generated_Source\PSoC5/Bootloader.c ****         * between applications. So if there is no valid value for Bootloader_activeApp,
1257:Generated_Source\PSoC5/Bootloader.c ****         * then we should additionally check the metadata if one of the Combination application
1258:Generated_Source\PSoC5/Bootloader.c ****         * has set a value there.
1259:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/ 
1260:Generated_Source\PSoC5/Bootloader.c ****         #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)
1261:Generated_Source\PSoC5/Bootloader.c ****         if (activeApp >= Bootloader_MD_BTLDB_ACTIVE_NONE) 
1262:Generated_Source\PSoC5/Bootloader.c ****         {
1263:Generated_Source\PSoC5/Bootloader.c ****             activeApp = Bootloader_GetActiveAppFromMetadata();
1264:Generated_Source\PSoC5/Bootloader.c ****         }
1265:Generated_Source\PSoC5/Bootloader.c ****         #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)*/ 
1266:Generated_Source\PSoC5/Bootloader.c ****     #else 
1267:Generated_Source\PSoC5/Bootloader.c ****         /* Launcher use case.  The active application number is taken from metadata. */
1268:Generated_Source\PSoC5/Bootloader.c ****         uint8 activeApp = Bootloader_GetActiveAppFromMetadata(); 
1269:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) */
1270:Generated_Source\PSoC5/Bootloader.c ****         
1271:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 515              		.loc 1 1271 0
 516 0018 0B4B     		ldr	r3, .L37
 517 001a 0022     		movs	r2, #0
 518 001c 1A70     		strb	r2, [r3]
1272:Generated_Source\PSoC5/Bootloader.c **** 
1273:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1274:Generated_Source\PSoC5/Bootloader.c ****         * Indicates that we have told ourselves to jump to the application because we have
1275:Generated_Source\PSoC5/Bootloader.c ****         * already told ourselves to jump, we do not do any expensive verification of the
1276:Generated_Source\PSoC5/Bootloader.c ****         * application. We just check to make sure that the value at CY_APP_ADDR_ADDRESS
1277:Generated_Source\PSoC5/Bootloader.c ****         * is something other than 0 and active application is valid.
1278:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1279:Generated_Source\PSoC5/Bootloader.c ****         if ((0u != Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR, activeApp)) 
 519              		.loc 1 1279 0
 520 001e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 521 0020 1946     		mov	r1, r3
 522 0022 0220     		movs	r0, #2
 523 0024 FFF7FEFF 		bl	Bootloader_GetMetadata
 524 0028 0346     		mov	r3, r0
 525 002a 002B     		cmp	r3, #0
 526 002c 08D0     		beq	.L36
1280:Generated_Source\PSoC5/Bootloader.c ****     #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_BOOTLOADER)
1281:Generated_Source\PSoC5/Bootloader.c ****             && (activeApp < Bootloader_MD_BTLDB_ACTIVE_NONE)
1282:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_BOOTLOADER) */        
1283:Generated_Source\PSoC5/Bootloader.c ****             )
1284:Generated_Source\PSoC5/Bootloader.c ****         {
1285:Generated_Source\PSoC5/Bootloader.c ****             /* Never returns from this method */
1286:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_LaunchBootloadable(Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR,
 527              		.loc 1 1286 0
 528 002e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 529 0030 1946     		mov	r1, r3
 530 0032 0220     		movs	r0, #2
 531 0034 FFF7FEFF 		bl	Bootloader_GetMetadata
 532 0038 0346     		mov	r3, r0
 533 003a 1846     		mov	r0, r3
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 33


 534 003c FFF7FEFF 		bl	Bootloader_LaunchBootloadable
 535              	.L36:
 536              	.LBE3:
1287:Generated_Source\PSoC5/Bootloader.c ****                                                                              activeApp));
1288:Generated_Source\PSoC5/Bootloader.c ****         }
1289:Generated_Source\PSoC5/Bootloader.c ****     }
1290:Generated_Source\PSoC5/Bootloader.c **** }
 537              		.loc 1 1290 0
 538 0040 00BF     		nop
 539 0042 0837     		adds	r7, r7, #8
 540              		.cfi_def_cfa_offset 8
 541 0044 BD46     		mov	sp, r7
 542              		.cfi_def_cfa_register 13
 543              		@ sp needed
 544 0046 80BD     		pop	{r7, pc}
 545              	.L38:
 546              		.align	2
 547              	.L37:
 548 0048 FA460040 		.word	1073759994
 549              		.cfi_endproc
 550              	.LFE69:
 551              		.size	CyBtldr_CheckLaunch, .-CyBtldr_CheckLaunch
 552              		.section	.text.Bootloader_LaunchBootloadable,"ax",%progbits
 553              		.align	2
 554              		.thumb
 555              		.thumb_func
 556              		.type	Bootloader_LaunchBootloadable, %function
 557              	Bootloader_LaunchBootloadable:
 558              	.LFB70:
1291:Generated_Source\PSoC5/Bootloader.c **** 
1292:Generated_Source\PSoC5/Bootloader.c **** 
1293:Generated_Source\PSoC5/Bootloader.c **** /* Moves argument appAddr (RO) into PC, moving execution to appAddr */
1294:Generated_Source\PSoC5/Bootloader.c **** #if defined (__ARMCC_VERSION)
1295:Generated_Source\PSoC5/Bootloader.c **** 
1296:Generated_Source\PSoC5/Bootloader.c ****     __asm static void Bootloader_LaunchBootloadable(uint32 appAddr)
1297:Generated_Source\PSoC5/Bootloader.c ****     {
1298:Generated_Source\PSoC5/Bootloader.c ****         BX  R0
1299:Generated_Source\PSoC5/Bootloader.c ****         ALIGN
1300:Generated_Source\PSoC5/Bootloader.c ****     }
1301:Generated_Source\PSoC5/Bootloader.c **** 
1302:Generated_Source\PSoC5/Bootloader.c **** #elif defined(__GNUC__)
1303:Generated_Source\PSoC5/Bootloader.c **** 
1304:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((noinline)) /* Workaround for GCC toolchain bug with inlining */
1305:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((naked))
1306:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_LaunchBootloadable(uint32 appAddr)
1307:Generated_Source\PSoC5/Bootloader.c ****     {
 559              		.loc 1 1307 0
 560              		.cfi_startproc
 561              		@ Naked Function: prologue and epilogue provided by programmer.
 562              		@ args = 0, pretend = 0, frame = 0
 563              		@ frame_needed = 1, uses_anonymous_args = 0
1308:Generated_Source\PSoC5/Bootloader.c ****         __asm volatile("    BX  R0\n");
 564              		.loc 1 1308 0
 565              		.syntax unified
 566              	@ 1308 "Generated_Source\PSoC5\Bootloader.c" 1
 567 0000 0047     		    BX  R0
 568              	
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 34


 569              	@ 0 "" 2
1309:Generated_Source\PSoC5/Bootloader.c ****     }
 570              		.loc 1 1309 0
 571              		.thumb
 572              		.syntax unified
 573 0002 00BF     		nop
 574              		.cfi_endproc
 575              	.LFE70:
 576              		.size	Bootloader_LaunchBootloadable, .-Bootloader_LaunchBootloadable
 577              		.section	.text.Bootloader_ValidateBootloadable,"ax",%progbits
 578              		.align	2
 579              		.global	Bootloader_ValidateBootloadable
 580              		.thumb
 581              		.thumb_func
 582              		.type	Bootloader_ValidateBootloadable, %function
 583              	Bootloader_ValidateBootloadable:
 584              	.LFB71:
1310:Generated_Source\PSoC5/Bootloader.c **** 
1311:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
1312:Generated_Source\PSoC5/Bootloader.c **** 
1313:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_LaunchBootloadable(uint32 appAddr)
1314:Generated_Source\PSoC5/Bootloader.c ****     {
1315:Generated_Source\PSoC5/Bootloader.c ****         __asm volatile("    BX  R0\n");
1316:Generated_Source\PSoC5/Bootloader.c ****     }
1317:Generated_Source\PSoC5/Bootloader.c **** 
1318:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (__ARMCC_VERSION) */
1319:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1320:Generated_Source\PSoC5/Bootloader.c **** 
1321:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1322:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_ValidateBootloadable
1323:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1324:Generated_Source\PSoC5/Bootloader.c **** * \brief
1325:Generated_Source\PSoC5/Bootloader.c **** *  Performs the Bootloadable application validation by calculating the
1326:Generated_Source\PSoC5/Bootloader.c **** *  application image checksum and comparing it with the checksum value stored
1327:Generated_Source\PSoC5/Bootloader.c **** *  in the Bootloadable Application Checksum field of the metadata section.
1328:Generated_Source\PSoC5/Bootloader.c **** *
1329:Generated_Source\PSoC5/Bootloader.c **** *  If the "Fast bootloadable application validation" option is enabled in the
1330:Generated_Source\PSoC5/Bootloader.c **** *  component customizer and Bootloadable application successfully passes
1331:Generated_Source\PSoC5/Bootloader.c **** *  validation, the Bootloadable Application Verification Status field of the
1332:Generated_Source\PSoC5/Bootloader.c **** *  metadata section is updated. Refer to the "Metadata Layout" section for the
1333:Generated_Source\PSoC5/Bootloader.c **** *  details.
1334:Generated_Source\PSoC5/Bootloader.c **** *
1335:Generated_Source\PSoC5/Bootloader.c **** *  If the "Fast bootloadable application validation" option is enabled and
1336:Generated_Source\PSoC5/Bootloader.c **** *  the Bootloadable Application Verification Status field of the metadata section
1337:Generated_Source\PSoC5/Bootloader.c **** *  claims that the Bootloadable application is valid, the function returns
1338:Generated_Source\PSoC5/Bootloader.c **** *  CYRET_SUCCESS without further checksum calculation.
1339:Generated_Source\PSoC5/Bootloader.c **** *
1340:Generated_Source\PSoC5/Bootloader.c **** *  \param appId
1341:Generated_Source\PSoC5/Bootloader.c **** *  The number of the Bootloadable application should be 0 for the normal
1342:Generated_Source\PSoC5/Bootloader.c **** *  bootloader and 0 or 1 for the dual-application bootloader.
1343:Generated_Source\PSoC5/Bootloader.c **** *
1344:Generated_Source\PSoC5/Bootloader.c **** * \return
1345:Generated_Source\PSoC5/Bootloader.c **** *  CYRET_SUCCESS - If the specified the Bootloadable application is valid.
1346:Generated_Source\PSoC5/Bootloader.c **** *  CYRET_BAD_DATA is returned if the input parameter is out of the specified range
1347:Generated_Source\PSoC5/Bootloader.c **** *      or the calculated checksum does not match the stored checksum.
1348:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1349:Generated_Source\PSoC5/Bootloader.c **** cystatus Bootloader_ValidateBootloadable(uint8 appId) CYSMALL \
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 35


1350:Generated_Source\PSoC5/Bootloader.c **** 
1351:Generated_Source\PSoC5/Bootloader.c ****     {
 585              		.loc 1 1351 0
 586              		.cfi_startproc
 587              		@ args = 0, pretend = 0, frame = 24
 588              		@ frame_needed = 1, uses_anonymous_args = 0
 589 0000 90B5     		push	{r4, r7, lr}
 590              		.cfi_def_cfa_offset 12
 591              		.cfi_offset 4, -12
 592              		.cfi_offset 7, -8
 593              		.cfi_offset 14, -4
 594 0002 87B0     		sub	sp, sp, #28
 595              		.cfi_def_cfa_offset 40
 596 0004 00AF     		add	r7, sp, #0
 597              		.cfi_def_cfa_register 7
 598 0006 0346     		mov	r3, r0
 599 0008 FB71     		strb	r3, [r7, #7]
1352:Generated_Source\PSoC5/Bootloader.c ****         uint32 CYDATA idx;
1353:Generated_Source\PSoC5/Bootloader.c **** 
1354:Generated_Source\PSoC5/Bootloader.c ****         uint32 CYDATA end   = Bootloader_FIRST_APP_BYTE(appId) +
 600              		.loc 1 1354 0
 601 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 602 000c 1946     		mov	r1, r3
 603 000e 0320     		movs	r0, #3
 604 0010 FFF7FEFF 		bl	Bootloader_GetMetadata
 605 0014 0346     		mov	r3, r0
 606 0016 0133     		adds	r3, r3, #1
 607 0018 1C02     		lsls	r4, r3, #8
1355:Generated_Source\PSoC5/Bootloader.c ****                               Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, appId);
 608              		.loc 1 1355 0
 609 001a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 610 001c 1946     		mov	r1, r3
 611 001e 0420     		movs	r0, #4
 612 0020 FFF7FEFF 		bl	Bootloader_GetMetadata
 613 0024 0346     		mov	r3, r0
1354:Generated_Source\PSoC5/Bootloader.c ****                               Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, appId);
 614              		.loc 1 1354 0
 615 0026 2344     		add	r3, r3, r4
 616 0028 FB60     		str	r3, [r7, #12]
1356:Generated_Source\PSoC5/Bootloader.c **** 
1357:Generated_Source\PSoC5/Bootloader.c ****         CYBIT  valid = 0u; /* Assume bad flash image */
 617              		.loc 1 1357 0
 618 002a 0023     		movs	r3, #0
 619 002c FB74     		strb	r3, [r7, #19]
1358:Generated_Source\PSoC5/Bootloader.c ****         uint8  CYDATA calcedChecksum = 0u;
 620              		.loc 1 1358 0
 621 002e 0023     		movs	r3, #0
 622 0030 BB74     		strb	r3, [r7, #18]
1359:Generated_Source\PSoC5/Bootloader.c **** 
1360:Generated_Source\PSoC5/Bootloader.c **** 
1361:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_DUAL_APP_BOOTLOADER)
1362:Generated_Source\PSoC5/Bootloader.c **** 
1363:Generated_Source\PSoC5/Bootloader.c ****             if(appId > 1u)
1364:Generated_Source\PSoC5/Bootloader.c ****             {
1365:Generated_Source\PSoC5/Bootloader.c ****                 return(CYRET_BAD_DATA);
1366:Generated_Source\PSoC5/Bootloader.c ****             }
1367:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 36


1368:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
1369:Generated_Source\PSoC5/Bootloader.c **** 
1370:Generated_Source\PSoC5/Bootloader.c **** 
1371:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
1372:Generated_Source\PSoC5/Bootloader.c ****             if(Bootloader_GetMetadata(Bootloader_GET_BTLDB_STATUS, appId) ==
1373:Generated_Source\PSoC5/Bootloader.c ****                Bootloader_MD_BTLDB_IS_VERIFIED)
1374:Generated_Source\PSoC5/Bootloader.c ****             {
1375:Generated_Source\PSoC5/Bootloader.c ****                 return(CYRET_SUCCESS);
1376:Generated_Source\PSoC5/Bootloader.c ****             }
1377:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1378:Generated_Source\PSoC5/Bootloader.c **** 
1379:Generated_Source\PSoC5/Bootloader.c **** 
1380:Generated_Source\PSoC5/Bootloader.c ****         /* Calculate checksum of bootloadable image */
1381:Generated_Source\PSoC5/Bootloader.c ****         for(idx = Bootloader_FIRST_APP_BYTE(appId); idx < end; ++idx)
 623              		.loc 1 1381 0
 624 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 625 0034 1946     		mov	r1, r3
 626 0036 0320     		movs	r0, #3
 627 0038 FFF7FEFF 		bl	Bootloader_GetMetadata
 628 003c 0346     		mov	r3, r0
 629 003e 0133     		adds	r3, r3, #1
 630 0040 1B02     		lsls	r3, r3, #8
 631 0042 7B61     		str	r3, [r7, #20]
 632 0044 11E0     		b	.L41
 633              	.L43:
 634              	.LBB4:
1382:Generated_Source\PSoC5/Bootloader.c ****         {
1383:Generated_Source\PSoC5/Bootloader.c ****             uint8 CYDATA curByte = Bootloader_GET_CODE_BYTE(idx);
 635              		.loc 1 1383 0
 636 0046 7B69     		ldr	r3, [r7, #20]
 637 0048 1B78     		ldrb	r3, [r3]
 638 004a FB72     		strb	r3, [r7, #11]
1384:Generated_Source\PSoC5/Bootloader.c **** 
1385:Generated_Source\PSoC5/Bootloader.c ****             if((curByte != 0u) && (curByte != 0xFFu))
 639              		.loc 1 1385 0
 640 004c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 641 004e 002B     		cmp	r3, #0
 642 0050 04D0     		beq	.L42
 643              		.loc 1 1385 0 is_stmt 0 discriminator 1
 644 0052 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 645 0054 FF2B     		cmp	r3, #255
 646 0056 01D0     		beq	.L42
1386:Generated_Source\PSoC5/Bootloader.c ****             {
1387:Generated_Source\PSoC5/Bootloader.c ****                 valid = 1u;
 647              		.loc 1 1387 0 is_stmt 1
 648 0058 0123     		movs	r3, #1
 649 005a FB74     		strb	r3, [r7, #19]
 650              	.L42:
1388:Generated_Source\PSoC5/Bootloader.c ****             }
1389:Generated_Source\PSoC5/Bootloader.c **** 
1390:Generated_Source\PSoC5/Bootloader.c ****             calcedChecksum += curByte;
 651              		.loc 1 1390 0 discriminator 2
 652 005c BA7C     		ldrb	r2, [r7, #18]
 653 005e FB7A     		ldrb	r3, [r7, #11]
 654 0060 1344     		add	r3, r3, r2
 655 0062 BB74     		strb	r3, [r7, #18]
 656              	.LBE4:
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 37


1381:Generated_Source\PSoC5/Bootloader.c ****         {
 657              		.loc 1 1381 0 discriminator 2
 658 0064 7B69     		ldr	r3, [r7, #20]
 659 0066 0133     		adds	r3, r3, #1
 660 0068 7B61     		str	r3, [r7, #20]
 661              	.L41:
1381:Generated_Source\PSoC5/Bootloader.c ****         {
 662              		.loc 1 1381 0 is_stmt 0 discriminator 1
 663 006a 7A69     		ldr	r2, [r7, #20]
 664 006c FB68     		ldr	r3, [r7, #12]
 665 006e 9A42     		cmp	r2, r3
 666 0070 E9D3     		bcc	.L43
1391:Generated_Source\PSoC5/Bootloader.c ****         }
1392:Generated_Source\PSoC5/Bootloader.c **** 
1393:Generated_Source\PSoC5/Bootloader.c **** 
1394:Generated_Source\PSoC5/Bootloader.c ****         /***************************************************************************
1395:Generated_Source\PSoC5/Bootloader.c ****         * We do not compute a checksum over the meta data section, so no need to
1396:Generated_Source\PSoC5/Bootloader.c ****         * subtract App Verified or App Active information here like we do when
1397:Generated_Source\PSoC5/Bootloader.c ****         * verifying a row.
1398:Generated_Source\PSoC5/Bootloader.c ****         ***************************************************************************/
1399:Generated_Source\PSoC5/Bootloader.c **** 
1400:Generated_Source\PSoC5/Bootloader.c ****         #if((!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u))
1401:Generated_Source\PSoC5/Bootloader.c **** 
1402:Generated_Source\PSoC5/Bootloader.c ****             /* Add ECC data to checksum */
1403:Generated_Source\PSoC5/Bootloader.c ****             idx = ((Bootloader_FIRST_APP_BYTE(appId)) >> 3u);
 667              		.loc 1 1403 0 is_stmt 1
 668 0072 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 669 0074 1946     		mov	r1, r3
 670 0076 0320     		movs	r0, #3
 671 0078 FFF7FEFF 		bl	Bootloader_GetMetadata
 672 007c 0346     		mov	r3, r0
 673 007e 0133     		adds	r3, r3, #1
 674 0080 1B02     		lsls	r3, r3, #8
 675 0082 DB08     		lsrs	r3, r3, #3
 676 0084 7B61     		str	r3, [r7, #20]
1404:Generated_Source\PSoC5/Bootloader.c **** 
1405:Generated_Source\PSoC5/Bootloader.c ****             /* Flash may run into meta data, so ECC does not use full row */
1406:Generated_Source\PSoC5/Bootloader.c ****             end = (end == (CY_FLASH_SIZE - Bootloader_MD_SIZEOF))
1407:Generated_Source\PSoC5/Bootloader.c ****                 ? (CY_FLASH_SIZE >> 3u)
1408:Generated_Source\PSoC5/Bootloader.c ****                 : (end >> 3u);
 677              		.loc 1 1408 0
 678 0086 FB68     		ldr	r3, [r7, #12]
 679 0088 174A     		ldr	r2, .L51
 680 008a 9342     		cmp	r3, r2
 681 008c 02D0     		beq	.L44
 682              		.loc 1 1408 0 is_stmt 0 discriminator 1
 683 008e FB68     		ldr	r3, [r7, #12]
 684 0090 DB08     		lsrs	r3, r3, #3
 685 0092 01E0     		b	.L45
 686              	.L44:
 687              		.loc 1 1408 0 discriminator 2
 688 0094 4FF40043 		mov	r3, #32768
 689              	.L45:
1406:Generated_Source\PSoC5/Bootloader.c ****                 ? (CY_FLASH_SIZE >> 3u)
 690              		.loc 1 1406 0 is_stmt 1
 691 0098 FB60     		str	r3, [r7, #12]
1409:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 38


1410:Generated_Source\PSoC5/Bootloader.c ****             for (; idx < end; ++idx)
 692              		.loc 1 1410 0
 693 009a 0AE0     		b	.L46
 694              	.L47:
1411:Generated_Source\PSoC5/Bootloader.c ****             {
1412:Generated_Source\PSoC5/Bootloader.c ****                 calcedChecksum += CY_GET_XTND_REG8((volatile uint8 *)(CYDEV_ECC_BASE + idx));
 695              		.loc 1 1412 0 discriminator 2
 696 009c 7B69     		ldr	r3, [r7, #20]
 697 009e 03F19043 		add	r3, r3, #1207959552
 698 00a2 1B78     		ldrb	r3, [r3]
 699 00a4 DAB2     		uxtb	r2, r3
 700 00a6 BB7C     		ldrb	r3, [r7, #18]
 701 00a8 1344     		add	r3, r3, r2
 702 00aa BB74     		strb	r3, [r7, #18]
1410:Generated_Source\PSoC5/Bootloader.c ****             {
 703              		.loc 1 1410 0 discriminator 2
 704 00ac 7B69     		ldr	r3, [r7, #20]
 705 00ae 0133     		adds	r3, r3, #1
 706 00b0 7B61     		str	r3, [r7, #20]
 707              	.L46:
1410:Generated_Source\PSoC5/Bootloader.c ****             {
 708              		.loc 1 1410 0 is_stmt 0 discriminator 1
 709 00b2 7A69     		ldr	r2, [r7, #20]
 710 00b4 FB68     		ldr	r3, [r7, #12]
 711 00b6 9A42     		cmp	r2, r3
 712 00b8 F0D3     		bcc	.L47
1413:Generated_Source\PSoC5/Bootloader.c ****             }
1414:Generated_Source\PSoC5/Bootloader.c **** 
1415:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* ((!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u)) */
1416:Generated_Source\PSoC5/Bootloader.c **** 
1417:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum = ( uint8 )1u + ( uint8 )(~calcedChecksum);
 713              		.loc 1 1417 0 is_stmt 1
 714 00ba BB7C     		ldrb	r3, [r7, #18]
 715 00bc 5B42     		negs	r3, r3
 716 00be BB74     		strb	r3, [r7, #18]
1418:Generated_Source\PSoC5/Bootloader.c **** 
1419:Generated_Source\PSoC5/Bootloader.c ****         if((calcedChecksum != Bootloader_GetMetadata(Bootloader_GET_BTLDB_CHECKSUM, appId)) ||
 717              		.loc 1 1419 0
 718 00c0 BC7C     		ldrb	r4, [r7, #18]	@ zero_extendqisi2
 719 00c2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 720 00c4 1946     		mov	r1, r3
 721 00c6 0120     		movs	r0, #1
 722 00c8 FFF7FEFF 		bl	Bootloader_GetMetadata
 723 00cc 0346     		mov	r3, r0
 724 00ce 9C42     		cmp	r4, r3
 725 00d0 02D1     		bne	.L48
 726              		.loc 1 1419 0 is_stmt 0 discriminator 1
 727 00d2 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 728 00d4 002B     		cmp	r3, #0
 729 00d6 01D1     		bne	.L49
 730              	.L48:
1420:Generated_Source\PSoC5/Bootloader.c ****            (0u == valid))
1421:Generated_Source\PSoC5/Bootloader.c ****         {
1422:Generated_Source\PSoC5/Bootloader.c ****             return(CYRET_BAD_DATA);
 731              		.loc 1 1422 0 is_stmt 1
 732 00d8 0623     		movs	r3, #6
 733 00da 00E0     		b	.L50
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 39


 734              	.L49:
1423:Generated_Source\PSoC5/Bootloader.c ****         }
1424:Generated_Source\PSoC5/Bootloader.c **** 
1425:Generated_Source\PSoC5/Bootloader.c **** 
1426:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
1427:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_VERIFIED_OFFSET(appId),
1428:Generated_Source\PSoC5/Bootloader.c ****                                           Bootloader_MD_BTLDB_IS_VERIFIED);
1429:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1430:Generated_Source\PSoC5/Bootloader.c **** 
1431:Generated_Source\PSoC5/Bootloader.c **** 
1432:Generated_Source\PSoC5/Bootloader.c ****         return(CYRET_SUCCESS);
 735              		.loc 1 1432 0
 736 00dc 0023     		movs	r3, #0
 737              	.L50:
1433:Generated_Source\PSoC5/Bootloader.c **** }
 738              		.loc 1 1433 0
 739 00de 1846     		mov	r0, r3
 740 00e0 1C37     		adds	r7, r7, #28
 741              		.cfi_def_cfa_offset 12
 742 00e2 BD46     		mov	sp, r7
 743              		.cfi_def_cfa_register 13
 744              		@ sp needed
 745 00e4 90BD     		pop	{r4, r7, pc}
 746              	.L52:
 747 00e6 00BF     		.align	2
 748              	.L51:
 749 00e8 C0FF0300 		.word	262080
 750              		.cfi_endproc
 751              	.LFE71:
 752              		.size	Bootloader_ValidateBootloadable, .-Bootloader_ValidateBootloadable
 753              		.section	.rodata
 754              		.align	2
 755              	.LC0:
 756 0000 6910162E 		.word	773197929
 757 0004 00       		.byte	0
 758 0005 3C       		.byte	60
 759 0006 01       		.byte	1
 760 0007 01       		.byte	1
 761              		.section	.text.Bootloader_HostLink,"ax",%progbits
 762              		.align	2
 763              		.thumb
 764              		.thumb_func
 765              		.type	Bootloader_HostLink, %function
 766              	Bootloader_HostLink:
 767              	.LFB72:
1434:Generated_Source\PSoC5/Bootloader.c **** 
1435:Generated_Source\PSoC5/Bootloader.c **** #if (((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)) \
1436:Generated_Source\PSoC5/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
1437:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1438:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_CheckImage
1439:Generated_Source\PSoC5/Bootloader.c **** ********************************************************************************
1440:Generated_Source\PSoC5/Bootloader.c **** * \internal
1441:Generated_Source\PSoC5/Bootloader.c **** *
1442:Generated_Source\PSoC5/Bootloader.c **** * \brief 
1443:Generated_Source\PSoC5/Bootloader.c **** *   This API checks if there is a permission to write to a certain image.
1444:Generated_Source\PSoC5/Bootloader.c **** *   It is used to check the active application as well as to check the Golden image.
1445:Generated_Source\PSoC5/Bootloader.c **** *
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 40


1446:Generated_Source\PSoC5/Bootloader.c **** * \param 
1447:Generated_Source\PSoC5/Bootloader.c **** *   appNumber - The application number.
1448:Generated_Source\PSoC5/Bootloader.c **** * \param 
1449:Generated_Source\PSoC5/Bootloader.c **** *   arrayNumber - The number of the flash page to write to.
1450:Generated_Source\PSoC5/Bootloader.c **** * \param 
1451:Generated_Source\PSoC5/Bootloader.c **** *   row - The row number to write to the flash.
1452:Generated_Source\PSoC5/Bootloader.c **** * \param 
1453:Generated_Source\PSoC5/Bootloader.c **** *   rowNumInArray - The row number inside the array.
1454:Generated_Source\PSoC5/Bootloader.c **** *
1455:Generated_Source\PSoC5/Bootloader.c **** * \return 
1456:Generated_Source\PSoC5/Bootloader.c **** *   CYRET_SUCCESS - Writing to a specified image is permitted.
1457:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_ERR_ACTIVE - Writing to this image is NOT permitted
1458:Generated_Source\PSoC5/Bootloader.c **** *   because the specified image is active or Golden.
1459:Generated_Source\PSoC5/Bootloader.c **** *
1460:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
1461:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1462:Generated_Source\PSoC5/Bootloader.c **** static uint8 Bootloader_CheckImage(uint8 appNumber, uint8 arrayNumber, uint16 row, uint16 rowNumInA
1463:Generated_Source\PSoC5/Bootloader.c ****                                          
1464:Generated_Source\PSoC5/Bootloader.c **** {
1465:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA firstRow = 0xFFFFu;
1466:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA lastRow = 0xFFFFu;
1467:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA ackCode = CYRET_SUCCESS;
1468:Generated_Source\PSoC5/Bootloader.c **** 
1469:Generated_Source\PSoC5/Bootloader.c ****     if (appNumber < Bootloader_MAX_NUM_OF_BTLDB)
1470:Generated_Source\PSoC5/Bootloader.c ****     {    
1471:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1472:Generated_Source\PSoC5/Bootloader.c ****         * For the first Bootloadable application - gets the last flash row occupied by
1473:Generated_Source\PSoC5/Bootloader.c ****         * the Bootloader application image:
1474:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1475:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1476:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1477:Generated_Source\PSoC5/Bootloader.c ****         * |<--firstRow---|>
1478:Generated_Source\PSoC5/Bootloader.c ****         *
1479:Generated_Source\PSoC5/Bootloader.c ****         * For the second Bootloadable application - gets the last flash row occupied by
1480:Generated_Source\PSoC5/Bootloader.c ****         * the first Bootloadable application:
1481:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1482:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1483:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1484:Generated_Source\PSoC5/Bootloader.c ****         * |<-------------firstRow-----------------|>
1485:Generated_Source\PSoC5/Bootloader.c ****         *
1486:Generated_Source\PSoC5/Bootloader.c ****         * Incremented by 1 to get the first available row.
1487:Generated_Source\PSoC5/Bootloader.c ****         *
1488:Generated_Source\PSoC5/Bootloader.c ****         * NOTE M1 and M2 stand for metadata # 1 and metadata # 2, metadata 
1489:Generated_Source\PSoC5/Bootloader.c ****         * sections for the 1st and 2nd Bootloadable applications.
1490:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1491:Generated_Source\PSoC5/Bootloader.c ****         firstRow = (uint16) 1u +
1492:Generated_Source\PSoC5/Bootloader.c ****             (uint16) Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW,  appNumber);
1493:Generated_Source\PSoC5/Bootloader.c **** 
1494:Generated_Source\PSoC5/Bootloader.c ****     
1495:Generated_Source\PSoC5/Bootloader.c ****     /***********************************************************************************
1496:Generated_Source\PSoC5/Bootloader.c ****     * If this is the Upgradable Stack use case, then Stack application and User application
1497:Generated_Source\PSoC5/Bootloader.c ****     * do not occupy the half of flash each, as the other applications do for Classic Dual-app 
1498:Generated_Source\PSoC5/Bootloader.c ****     * and the general Launcher-Combination use cases. Another approach for calculation 
1499:Generated_Source\PSoC5/Bootloader.c ****     * lastRow is used for the Upgradable Stack use case. See Bootloader datasheet for more 
1500:Generated_Source\PSoC5/Bootloader.c ****     * details (use cases description).
1501:Generated_Source\PSoC5/Bootloader.c ****     ***********************************************************************************/
1502:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 41


1503:Generated_Source\PSoC5/Bootloader.c ****     
1504:Generated_Source\PSoC5/Bootloader.c ****     #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) && \
1505:Generated_Source\PSoC5/Bootloader.c ****          (0u != Bootloader_IS_STACK_APPLICATION))
1506:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1507:Generated_Source\PSoC5/Bootloader.c ****         * The Upgradable Stack application case implies that only this application can 
1508:Generated_Source\PSoC5/Bootloader.c ****         * perform a bootloading operation (the other one can't). So a verification 
1509:Generated_Source\PSoC5/Bootloader.c ****         * will be run to check if the Stack application is not overwritten. 
1510:Generated_Source\PSoC5/Bootloader.c ****         *
1511:Generated_Source\PSoC5/Bootloader.c ****         * The Stack application is defined as the first application.
1512:Generated_Source\PSoC5/Bootloader.c ****           * The User application is defined as the second application.
1513:Generated_Source\PSoC5/Bootloader.c ****         *
1514:Generated_Source\PSoC5/Bootloader.c ****         * This check is intended for the case when the Stack application is active
1515:Generated_Source\PSoC5/Bootloader.c ****         * and performs bootloading for the User application:
1516:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1517:Generated_Source\PSoC5/Bootloader.c ****         * |   Launcher   |       Stack     |           User app            | M2 | M1 |
1518:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1519:Generated_Source\PSoC5/Bootloader.c ****         *                |<-------------------lastRow -------------------->|
1520:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1521:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (uint16) Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW,
1522:Generated_Source\PSoC5/Bootloader.c ****                                                         Bootloader_USER_APPLICATION);    
1523:Generated_Source\PSoC5/Bootloader.c ****     
1524:Generated_Source\PSoC5/Bootloader.c ****     #else /* Classic Dual-app and the general Launcher-Combination use cases */    
1525:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1526:Generated_Source\PSoC5/Bootloader.c ****         * The number of flash rows available for both Bootloadable applications:
1527:Generated_Source\PSoC5/Bootloader.c ****         *
1528:Generated_Source\PSoC5/Bootloader.c ****         * The first Bootloadable application is active:
1529:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1530:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1531:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1532:Generated_Source\PSoC5/Bootloader.c ****         *                |<-------------------lastRow -------------------->|
1533:Generated_Source\PSoC5/Bootloader.c ****         *
1534:Generated_Source\PSoC5/Bootloader.c ****         * The second Bootloadable application is active:
1535:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1536:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1537:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1538:Generated_Source\PSoC5/Bootloader.c ****         *                                         |<-------lastRow-------->|
1539:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1540:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (uint16)(CY_FLASH_NUMBER_ROWS - Bootloader_NUMBER_OF_METADATA_ROWS - firstRow);
1541:Generated_Source\PSoC5/Bootloader.c **** 
1542:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1543:Generated_Source\PSoC5/Bootloader.c ****         * The number of flash rows available for the active Bootloadable application:
1544:Generated_Source\PSoC5/Bootloader.c ****         *
1545:Generated_Source\PSoC5/Bootloader.c ****         * The first Bootloadable application is active: the number of flash rows available
1546:Generated_Source\PSoC5/Bootloader.c ****         * for both Bootloadable applications should be divided by 2, meaning 2 
1547:Generated_Source\PSoC5/Bootloader.c ****         * Bootloadable applications should fit there.
1548:Generated_Source\PSoC5/Bootloader.c ****         *
1549:Generated_Source\PSoC5/Bootloader.c ****         * The second Bootloadable application is active: the number of flash rows available
1550:Generated_Source\PSoC5/Bootloader.c ****         * for both Bootloadable applications should be divided by 1, meaning 1 
1551:Generated_Source\PSoC5/Bootloader.c ****         * Bootloadable application should fit there.
1552:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1553:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (uint16)(lastRow / (uint8)(Bootloader_NUMBER_OF_BTLDBLE_APPS - appNumber));
1554:Generated_Source\PSoC5/Bootloader.c **** 
1555:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1556:Generated_Source\PSoC5/Bootloader.c ****         * The last row equals the first row plus the number of rows available for
1557:Generated_Source\PSoC5/Bootloader.c ****         * each Bootloadable application. That gives the flash row number right
1558:Generated_Source\PSoC5/Bootloader.c ****         * beyond the valid range, so we subtract 1.
1559:Generated_Source\PSoC5/Bootloader.c ****         *
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 42


1560:Generated_Source\PSoC5/Bootloader.c ****         * The first Bootloadable application is active:
1561:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1562:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1563:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1564:Generated_Source\PSoC5/Bootloader.c ****         * |<----------------lastRow ------------->|
1565:Generated_Source\PSoC5/Bootloader.c ****         *
1566:Generated_Source\PSoC5/Bootloader.c ****         * The second Bootloadable application is active:
1567:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1568:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1569:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1570:Generated_Source\PSoC5/Bootloader.c ****         * |<-----------------------------lastRow-------------------------->|
1571:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1572:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (firstRow + lastRow) - 1u;
1573:Generated_Source\PSoC5/Bootloader.c ****     #endif /*(0u == Bootloader_IS_STACK_APPLICATION)*/    
1574:Generated_Source\PSoC5/Bootloader.c **** 
1575:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1576:Generated_Source\PSoC5/Bootloader.c ****         * 1. Refuses to write a row within the range of the active application.
1577:Generated_Source\PSoC5/Bootloader.c ****         *
1578:Generated_Source\PSoC5/Bootloader.c ****         *  The first Bootloadable application is active:
1579:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1580:Generated_Source\PSoC5/Bootloader.c ****         *  | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1581:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1582:Generated_Source\PSoC5/Bootloader.c ****         *  |<----------------lastRow ------------->|
1583:Generated_Source\PSoC5/Bootloader.c ****         *  |<--firstRow---|>
1584:Generated_Source\PSoC5/Bootloader.c ****         *                 |<-------protected------>|
1585:Generated_Source\PSoC5/Bootloader.c ****         *
1586:Generated_Source\PSoC5/Bootloader.c ****         *  the second Bootloadable application is active:
1587:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1588:Generated_Source\PSoC5/Bootloader.c ****         *  | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1589:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1590:Generated_Source\PSoC5/Bootloader.c ****         *  |<-------------firstRow-----------------|>
1591:Generated_Source\PSoC5/Bootloader.c ****         *  |<-----------------------------lastRow-------------------------->|
1592:Generated_Source\PSoC5/Bootloader.c ****         *                                          |<-------protected------>|
1593:Generated_Source\PSoC5/Bootloader.c ****         *
1594:Generated_Source\PSoC5/Bootloader.c ****         * 2. Refuses to write to the row that contains metadata of the active
1595:Generated_Source\PSoC5/Bootloader.c ****         *    Bootloadable application.
1596:Generated_Source\PSoC5/Bootloader.c ****         *
1597:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1598:Generated_Source\PSoC5/Bootloader.c ****         if (((row >= firstRow) && (row <= lastRow)) || ((arrayNumber == Bootloader_MD_FLASH_ARRAY_N
1599:Generated_Source\PSoC5/Bootloader.c ****             (rowNumInArray == Bootloader_MD_ROW_NUM(appNumber))))
1600:Generated_Source\PSoC5/Bootloader.c ****         {
1601:Generated_Source\PSoC5/Bootloader.c ****             ackCode = Bootloader_ERR_ACTIVE;
1602:Generated_Source\PSoC5/Bootloader.c ****         }
1603:Generated_Source\PSoC5/Bootloader.c ****     }
1604:Generated_Source\PSoC5/Bootloader.c ****     else /*(appNumber < Bootloader_MAX_NUM_OF_BTLDB)*/
1605:Generated_Source\PSoC5/Bootloader.c ****     {
1606:Generated_Source\PSoC5/Bootloader.c ****         ackCode = Bootloader_ERR_ACTIVE;
1607:Generated_Source\PSoC5/Bootloader.c ****     }
1608:Generated_Source\PSoC5/Bootloader.c ****     
1609:Generated_Source\PSoC5/Bootloader.c ****     return ackCode;
1610:Generated_Source\PSoC5/Bootloader.c **** }
1611:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || \
1612:Generated_Source\PSoC5/Bootloader.c ****            (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
1613:Generated_Source\PSoC5/Bootloader.c **** 
1614:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
1615:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1616:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_HostLink
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 43


1617:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1618:Generated_Source\PSoC5/Bootloader.c **** *
1619:Generated_Source\PSoC5/Bootloader.c **** * \brief
1620:Generated_Source\PSoC5/Bootloader.c **** *  Causes the Bootloader to attempt to read data being transmitted by the
1621:Generated_Source\PSoC5/Bootloader.c **** *  host application.  If data is sent from the host, this establishes the
1622:Generated_Source\PSoC5/Bootloader.c **** *  communication interface to process all requests.
1623:Generated_Source\PSoC5/Bootloader.c **** *
1624:Generated_Source\PSoC5/Bootloader.c **** * \param
1625:Generated_Source\PSoC5/Bootloader.c **** *  timeOut:
1626:Generated_Source\PSoC5/Bootloader.c **** *   The amount of time to listen for data before giving up. The timeout is
1627:Generated_Source\PSoC5/Bootloader.c **** *   measured in 10s of ms.  Use 0 for an infinite wait.
1628:Generated_Source\PSoC5/Bootloader.c **** * 
1629:Generated_Source\PSoC5/Bootloader.c **** * \details
1630:Generated_Source\PSoC5/Bootloader.c **** *  This function is public only for Launcher-Combination architecture. For 
1631:Generated_Source\PSoC5/Bootloader.c **** *  Classic Bootloader it is static, meaning private. 
1632:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1633:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1634:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_HostLink(uint8 timeOut) CYLARGE 
1635:Generated_Source\PSoC5/Bootloader.c ****                    
1636:Generated_Source\PSoC5/Bootloader.c **** #else
1637:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_HostLink(uint8 timeOut) CYLARGE 
1638:Generated_Source\PSoC5/Bootloader.c ****                    
1639:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
1640:Generated_Source\PSoC5/Bootloader.c **** {
 768              		.loc 1 1640 0
 769              		.cfi_startproc
 770              		@ args = 0, pretend = 0, frame = 680
 771              		@ frame_needed = 1, uses_anonymous_args = 0
 772 0000 80B5     		push	{r7, lr}
 773              		.cfi_def_cfa_offset 8
 774              		.cfi_offset 7, -8
 775              		.cfi_offset 14, -4
 776 0002 ADF52A7D 		sub	sp, sp, #680
 777              		.cfi_def_cfa_offset 688
 778 0006 00AF     		add	r7, sp, #0
 779              		.cfi_def_cfa_register 7
 780 0008 0246     		mov	r2, r0
 781 000a FB1D     		adds	r3, r7, #7
 782 000c 1A70     		strb	r2, [r3]
1641:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA numberRead;
1642:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA rspSize;
1643:Generated_Source\PSoC5/Bootloader.c ****     uint8     CYDATA ackCode;
1644:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA pktChecksum;
1645:Generated_Source\PSoC5/Bootloader.c ****     cystatus  CYDATA readStat;
1646:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA pktSize    = 0u;
 783              		.loc 1 1646 0
 784 000e 0023     		movs	r3, #0
 785 0010 A7F8A232 		strh	r3, [r7, #674]	@ movhi
1647:Generated_Source\PSoC5/Bootloader.c ****     uint8     CYDATA timeOutCnt = 10u;
 786              		.loc 1 1647 0
 787 0014 0A23     		movs	r3, #10
 788 0016 87F8A132 		strb	r3, [r7, #673]
1648:Generated_Source\PSoC5/Bootloader.c **** 
1649:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_FAST_APP_VALIDATION)
1650:Generated_Source\PSoC5/Bootloader.c ****         uint8 CYDATA clearedMetaData = 0u;
1651:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1652:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 44


1653:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1654:Generated_Source\PSoC5/Bootloader.c ****     static  CYBIT communicationState = Bootloader_COMMUNICATION_STATE_IDLE; 
1655:Generated_Source\PSoC5/Bootloader.c ****     static uint16 CYDATA dataOffset = 0u; 
1656:Generated_Source\PSoC5/Bootloader.c ****     uint16  CYDATA btldrLastRow = 0xFFFFu;
1657:Generated_Source\PSoC5/Bootloader.c ****     uint8 needToCopyFlag = 0u;
1658:Generated_Source\PSoC5/Bootloader.c ****     uint32 app2StartAddress = Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR, 
1659:Generated_Source\PSoC5/Bootloader.c ****                               Bootloader_MD_BTLDB_ACTIVE_1);
1660:Generated_Source\PSoC5/Bootloader.c **** #else
1661:Generated_Source\PSoC5/Bootloader.c ****     CYBIT     communicationState = Bootloader_COMMUNICATION_STATE_IDLE;
 789              		.loc 1 1661 0
 790 001a 0023     		movs	r3, #0
 791 001c 87F8A032 		strb	r3, [r7, #672]
1662:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA dataOffset = 0u; 
 792              		.loc 1 1662 0
 793 0020 0023     		movs	r3, #0
 794 0022 A7F89E32 		strh	r3, [r7, #670]	@ movhi
1663:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/
1664:Generated_Source\PSoC5/Bootloader.c **** 
1665:Generated_Source\PSoC5/Bootloader.c ****     uint8     packetBuffer[Bootloader_SIZEOF_COMMAND_BUFFER];
1666:Generated_Source\PSoC5/Bootloader.c ****     uint8     dataBuffer  [Bootloader_SIZEOF_COMMAND_BUFFER];
1667:Generated_Source\PSoC5/Bootloader.c **** 
1668:Generated_Source\PSoC5/Bootloader.c **** 
1669:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
1670:Generated_Source\PSoC5/Bootloader.c ****         #if(0u == Bootloader_FAST_APP_VALIDATION)
1671:Generated_Source\PSoC5/Bootloader.c ****             #if !defined(CY_BOOT_VERSION)
1672:Generated_Source\PSoC5/Bootloader.c **** 
1673:Generated_Source\PSoC5/Bootloader.c ****                 /* Not required with cy_boot 4.20 */
1674:Generated_Source\PSoC5/Bootloader.c ****                 uint8 CYXDATA Bootloader_flashBuffer[Bootloader_FROW_SIZE];
1675:Generated_Source\PSoC5/Bootloader.c **** 
1676:Generated_Source\PSoC5/Bootloader.c ****             #endif /* !defined(CY_BOOT_VERSION) */
1677:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u == Bootloader_FAST_APP_VALIDATION) */
1678:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CY_PSOC4) */
1679:Generated_Source\PSoC5/Bootloader.c **** 
1680:Generated_Source\PSoC5/Bootloader.c **** 
1681:Generated_Source\PSoC5/Bootloader.c **** 
1682:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
1683:Generated_Source\PSoC5/Bootloader.c ****         #if((0u == Bootloader_FAST_APP_VALIDATION) || \
1684:Generated_Source\PSoC5/Bootloader.c ****             (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
1685:Generated_Source\PSoC5/Bootloader.c **** 
1686:Generated_Source\PSoC5/Bootloader.c ****             /* Initialize flash subsystem for non-PSoC 4 devices */
1687:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS != CySetTemp())
 795              		.loc 1 1687 0
 796 0026 FFF7FEFF 		bl	CySetTemp
 797 002a 0346     		mov	r3, r0
 798 002c 002B     		cmp	r3, #0
 799 002e 02D0     		beq	.L54
1688:Generated_Source\PSoC5/Bootloader.c ****             {
1689:Generated_Source\PSoC5/Bootloader.c ****                 CyHalt(0x00u);
 800              		.loc 1 1689 0
 801 0030 0020     		movs	r0, #0
 802 0032 FFF7FEFF 		bl	CyHalt
 803              	.L54:
1690:Generated_Source\PSoC5/Bootloader.c ****             }
1691:Generated_Source\PSoC5/Bootloader.c **** 
1692:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u == Bootloader_FAST_APP_VALIDATION) ||
1693:Generated_Source\PSoC5/Bootloader.c ****                    (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
1694:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CY_PSOC4) */
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 45


1695:Generated_Source\PSoC5/Bootloader.c **** 
1696:Generated_Source\PSoC5/Bootloader.c ****     /* Initialize communications channel. */
1697:Generated_Source\PSoC5/Bootloader.c ****     CyBtldrCommStart();
 804              		.loc 1 1697 0
 805 0036 FFF7FEFF 		bl	UART_CyBtldrCommStart
1698:Generated_Source\PSoC5/Bootloader.c **** 
1699:Generated_Source\PSoC5/Bootloader.c ****     /* Enable global interrupts */
1700:Generated_Source\PSoC5/Bootloader.c ****     CyGlobalIntEnable;
 806              		.loc 1 1700 0
 807              		.syntax unified
 808              	@ 1700 "Generated_Source\PSoC5\Bootloader.c" 1
 809 003a 62B6     		CPSIE   i
 810              	@ 0 "" 2
 811              		.thumb
 812              		.syntax unified
 813              	.L124:
1701:Generated_Source\PSoC5/Bootloader.c **** 
1702:Generated_Source\PSoC5/Bootloader.c ****     do
1703:Generated_Source\PSoC5/Bootloader.c ****     {
1704:Generated_Source\PSoC5/Bootloader.c ****         ackCode = CYRET_SUCCESS;
 814              		.loc 1 1704 0
 815 003c 0023     		movs	r3, #0
 816 003e 87F8A532 		strb	r3, [r7, #677]
 817              	.L59:
1705:Generated_Source\PSoC5/Bootloader.c **** 
1706:Generated_Source\PSoC5/Bootloader.c ****         do
1707:Generated_Source\PSoC5/Bootloader.c ****         {
1708:Generated_Source\PSoC5/Bootloader.c ****             readStat = CyBtldrCommRead(packetBuffer,
 818              		.loc 1 1708 0
 819 0042 FB1D     		adds	r3, r7, #7
 820 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 821 0046 002B     		cmp	r3, #0
 822 0048 02D0     		beq	.L55
 823              		.loc 1 1708 0 is_stmt 0 discriminator 1
 824 004a FB1D     		adds	r3, r7, #7
 825 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 826 004e 00E0     		b	.L56
 827              	.L55:
 828              		.loc 1 1708 0 discriminator 2
 829 0050 FF23     		movs	r3, #255
 830              	.L56:
 831              		.loc 1 1708 0 discriminator 4
 832 0052 07F52072 		add	r2, r7, #640
 833 0056 07F5AA70 		add	r0, r7, #340
 834 005a 4FF49671 		mov	r1, #300
 835 005e FFF7FEFF 		bl	UART_CyBtldrCommRead
 836 0062 C7F89002 		str	r0, [r7, #656]
1709:Generated_Source\PSoC5/Bootloader.c ****                                         Bootloader_SIZEOF_COMMAND_BUFFER,
1710:Generated_Source\PSoC5/Bootloader.c ****                                         &numberRead,
1711:Generated_Source\PSoC5/Bootloader.c ****                                         (0u == timeOut) ? 0xFFu : timeOut);
1712:Generated_Source\PSoC5/Bootloader.c ****             if (0u != timeOut)
 837              		.loc 1 1712 0 is_stmt 1 discriminator 4
 838 0066 FB1D     		adds	r3, r7, #7
 839 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 840 006a 002B     		cmp	r3, #0
 841 006c 04D0     		beq	.L57
1713:Generated_Source\PSoC5/Bootloader.c ****             {
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 46


1714:Generated_Source\PSoC5/Bootloader.c ****                 timeOutCnt--;
 842              		.loc 1 1714 0
 843 006e 97F8A132 		ldrb	r3, [r7, #673]	@ zero_extendqisi2
 844 0072 013B     		subs	r3, r3, #1
 845 0074 87F8A132 		strb	r3, [r7, #673]
 846              	.L57:
1715:Generated_Source\PSoC5/Bootloader.c ****             }
1716:Generated_Source\PSoC5/Bootloader.c **** 
1717:Generated_Source\PSoC5/Bootloader.c ****         } while ( (0u != timeOutCnt) && (readStat != CYRET_SUCCESS) );
 847              		.loc 1 1717 0
 848 0078 97F8A132 		ldrb	r3, [r7, #673]	@ zero_extendqisi2
 849 007c 002B     		cmp	r3, #0
 850 007e 03D0     		beq	.L58
 851              		.loc 1 1717 0 is_stmt 0 discriminator 1
 852 0080 D7F89032 		ldr	r3, [r7, #656]
 853 0084 002B     		cmp	r3, #0
 854 0086 DCD1     		bne	.L59
 855              	.L58:
1718:Generated_Source\PSoC5/Bootloader.c **** 
1719:Generated_Source\PSoC5/Bootloader.c **** 
1720:Generated_Source\PSoC5/Bootloader.c ****         if( readStat != CYRET_SUCCESS )
 856              		.loc 1 1720 0 is_stmt 1
 857 0088 D7F89032 		ldr	r3, [r7, #656]
 858 008c 002B     		cmp	r3, #0
 859 008e 40F05F83 		bne	.L125
1721:Generated_Source\PSoC5/Bootloader.c ****         {
1722:Generated_Source\PSoC5/Bootloader.c ****             continue;
1723:Generated_Source\PSoC5/Bootloader.c ****         }
1724:Generated_Source\PSoC5/Bootloader.c **** 
1725:Generated_Source\PSoC5/Bootloader.c ****         if((numberRead < Bootloader_MIN_PKT_SIZE) ||
 860              		.loc 1 1725 0
 861 0092 B7F88032 		ldrh	r3, [r7, #640]
 862 0096 062B     		cmp	r3, #6
 863 0098 04D9     		bls	.L62
1726:Generated_Source\PSoC5/Bootloader.c ****            (packetBuffer[Bootloader_SOP_ADDR] != Bootloader_SOP))
 864              		.loc 1 1726 0 discriminator 1
 865 009a 07F5AA73 		add	r3, r7, #340
 866 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1725:Generated_Source\PSoC5/Bootloader.c ****            (packetBuffer[Bootloader_SOP_ADDR] != Bootloader_SOP))
 867              		.loc 1 1725 0 discriminator 1
 868 00a0 012B     		cmp	r3, #1
 869 00a2 03D0     		beq	.L63
 870              	.L62:
1727:Generated_Source\PSoC5/Bootloader.c ****         {
1728:Generated_Source\PSoC5/Bootloader.c ****             ackCode = Bootloader_ERR_DATA;
 871              		.loc 1 1728 0
 872 00a4 0423     		movs	r3, #4
 873 00a6 87F8A532 		strb	r3, [r7, #677]
 874 00aa 4FE0     		b	.L64
 875              	.L63:
1729:Generated_Source\PSoC5/Bootloader.c ****         }
1730:Generated_Source\PSoC5/Bootloader.c ****         else
1731:Generated_Source\PSoC5/Bootloader.c ****         {
1732:Generated_Source\PSoC5/Bootloader.c ****             pktSize = ((uint16)((uint16)packetBuffer[Bootloader_SIZE_ADDR + 1u] << 8u)) |
 876              		.loc 1 1732 0
 877 00ac 07F5AA73 		add	r3, r7, #340
 878 00b0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 47


 879 00b2 9BB2     		uxth	r3, r3
 880 00b4 1B02     		lsls	r3, r3, #8
 881 00b6 9AB2     		uxth	r2, r3
1733:Generated_Source\PSoC5/Bootloader.c ****                                packetBuffer[Bootloader_SIZE_ADDR];
 882              		.loc 1 1733 0
 883 00b8 07F5AA73 		add	r3, r7, #340
 884 00bc 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
1732:Generated_Source\PSoC5/Bootloader.c ****                                packetBuffer[Bootloader_SIZE_ADDR];
 885              		.loc 1 1732 0
 886 00be 9BB2     		uxth	r3, r3
 887 00c0 1343     		orrs	r3, r3, r2
 888 00c2 A7F8A232 		strh	r3, [r7, #674]	@ movhi
1734:Generated_Source\PSoC5/Bootloader.c **** 
1735:Generated_Source\PSoC5/Bootloader.c **** 
1736:Generated_Source\PSoC5/Bootloader.c ****             /**************************************************************************************
1737:Generated_Source\PSoC5/Bootloader.c ****             * If the whole packet length exceeds the number of bytes that have been read by the com
1738:Generated_Source\PSoC5/Bootloader.c ****             * component or the size of the buffer that is reserved for the packet, then give an err
1739:Generated_Source\PSoC5/Bootloader.c ****             **************************************************************************************/
1740:Generated_Source\PSoC5/Bootloader.c ****             if (((pktSize + Bootloader_MIN_PKT_SIZE) > numberRead) || 
 889              		.loc 1 1740 0
 890 00c6 B7F8A232 		ldrh	r3, [r7, #674]
 891 00ca 0733     		adds	r3, r3, #7
 892 00cc B7F88022 		ldrh	r2, [r7, #640]
 893 00d0 9342     		cmp	r3, r2
 894 00d2 05D8     		bhi	.L65
1741:Generated_Source\PSoC5/Bootloader.c ****                 ((pktSize + Bootloader_MIN_PKT_SIZE) > Bootloader_SIZEOF_COMMAND_BUFFER)) 
 895              		.loc 1 1741 0 discriminator 1
 896 00d4 B7F8A232 		ldrh	r3, [r7, #674]
 897 00d8 0733     		adds	r3, r3, #7
1740:Generated_Source\PSoC5/Bootloader.c ****                 ((pktSize + Bootloader_MIN_PKT_SIZE) > Bootloader_SIZEOF_COMMAND_BUFFER)) 
 898              		.loc 1 1740 0 discriminator 1
 899 00da B3F5967F 		cmp	r3, #300
 900 00de 03D9     		bls	.L66
 901              	.L65:
1742:Generated_Source\PSoC5/Bootloader.c ****             {
1743:Generated_Source\PSoC5/Bootloader.c ****                 ackCode = Bootloader_ERR_LENGTH;
 902              		.loc 1 1743 0
 903 00e0 0323     		movs	r3, #3
 904 00e2 87F8A532 		strb	r3, [r7, #677]
 905 00e6 31E0     		b	.L64
 906              	.L66:
1744:Generated_Source\PSoC5/Bootloader.c ****             }
1745:Generated_Source\PSoC5/Bootloader.c ****             else /* Packet length is OK*/
1746:Generated_Source\PSoC5/Bootloader.c ****             {
1747:Generated_Source\PSoC5/Bootloader.c ****                 pktChecksum = ((uint16)((uint16)packetBuffer[Bootloader_CHK_ADDR(pktSize) + 1u] << 
 907              		.loc 1 1747 0
 908 00e8 B7F8A232 		ldrh	r3, [r7, #674]
 909 00ec 0533     		adds	r3, r3, #5
 910 00ee 07F5AA72 		add	r2, r7, #340
 911 00f2 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 912 00f4 9BB2     		uxth	r3, r3
 913 00f6 1B02     		lsls	r3, r3, #8
 914 00f8 9AB2     		uxth	r2, r3
1748:Generated_Source\PSoC5/Bootloader.c ****                                    packetBuffer[Bootloader_CHK_ADDR(pktSize)];
 915              		.loc 1 1748 0
 916 00fa B7F8A232 		ldrh	r3, [r7, #674]
 917 00fe 0433     		adds	r3, r3, #4
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 48


 918 0100 07F5AA71 		add	r1, r7, #340
 919 0104 CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
1747:Generated_Source\PSoC5/Bootloader.c ****                                    packetBuffer[Bootloader_CHK_ADDR(pktSize)];
 920              		.loc 1 1747 0
 921 0106 9BB2     		uxth	r3, r3
 922 0108 1343     		orrs	r3, r3, r2
 923 010a A7F88E32 		strh	r3, [r7, #654]	@ movhi
1749:Generated_Source\PSoC5/Bootloader.c ****    
1750:Generated_Source\PSoC5/Bootloader.c ****                 if (packetBuffer[Bootloader_EOP_ADDR(pktSize)] != Bootloader_EOP)
 924              		.loc 1 1750 0
 925 010e B7F8A232 		ldrh	r3, [r7, #674]
 926 0112 0633     		adds	r3, r3, #6
 927 0114 07F5AA72 		add	r2, r7, #340
 928 0118 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 929 011a 172B     		cmp	r3, #23
 930 011c 03D0     		beq	.L67
1751:Generated_Source\PSoC5/Bootloader.c ****                 {
1752:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_DATA;
 931              		.loc 1 1752 0
 932 011e 0423     		movs	r3, #4
 933 0120 87F8A532 		strb	r3, [r7, #677]
 934 0124 12E0     		b	.L64
 935              	.L67:
1753:Generated_Source\PSoC5/Bootloader.c ****                 }
1754:Generated_Source\PSoC5/Bootloader.c ****                 else if(pktChecksum != Bootloader_CalcPacketChecksum(packetBuffer,
 936              		.loc 1 1754 0
 937 0126 B7F8A232 		ldrh	r3, [r7, #674]	@ movhi
 938 012a 0433     		adds	r3, r3, #4
 939 012c 9AB2     		uxth	r2, r3
 940 012e 07F5AA73 		add	r3, r7, #340
 941 0132 1146     		mov	r1, r2
 942 0134 1846     		mov	r0, r3
 943 0136 FFF7FEFF 		bl	Bootloader_CalcPacketChecksum
 944 013a 0346     		mov	r3, r0
 945 013c 1A46     		mov	r2, r3
 946 013e B7F88E32 		ldrh	r3, [r7, #654]
 947 0142 9342     		cmp	r3, r2
 948 0144 02D0     		beq	.L64
1755:Generated_Source\PSoC5/Bootloader.c ****                                                                         pktSize + Bootloader_DATA_A
1756:Generated_Source\PSoC5/Bootloader.c ****                 {
1757:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_CHECKSUM;
 949              		.loc 1 1757 0
 950 0146 0823     		movs	r3, #8
 951 0148 87F8A532 		strb	r3, [r7, #677]
 952              	.L64:
1758:Generated_Source\PSoC5/Bootloader.c ****                 }
1759:Generated_Source\PSoC5/Bootloader.c ****                 else
1760:Generated_Source\PSoC5/Bootloader.c ****                 {
1761:Generated_Source\PSoC5/Bootloader.c ****                     /* Empty section */
1762:Generated_Source\PSoC5/Bootloader.c ****                 }
1763:Generated_Source\PSoC5/Bootloader.c ****             }    
1764:Generated_Source\PSoC5/Bootloader.c ****         }
1765:Generated_Source\PSoC5/Bootloader.c **** 
1766:Generated_Source\PSoC5/Bootloader.c ****         rspSize = Bootloader_RSP_SIZE_0;
 953              		.loc 1 1766 0
 954 014c 0023     		movs	r3, #0
 955 014e A7F8A632 		strh	r3, [r7, #678]	@ movhi
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 49


1767:Generated_Source\PSoC5/Bootloader.c ****         if(ackCode == CYRET_SUCCESS)
 956              		.loc 1 1767 0
 957 0152 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 958 0156 002B     		cmp	r3, #0
 959 0158 40F0F082 		bne	.L68
 960              	.LBB5:
1768:Generated_Source\PSoC5/Bootloader.c ****         {
1769:Generated_Source\PSoC5/Bootloader.c ****             uint8 CYDATA btldrData = packetBuffer[Bootloader_DATA_ADDR];
 961              		.loc 1 1769 0
 962 015c 07F5AA73 		add	r3, r7, #340
 963 0160 1B79     		ldrb	r3, [r3, #4]
 964 0162 87F88D32 		strb	r3, [r7, #653]
1770:Generated_Source\PSoC5/Bootloader.c **** 
1771:Generated_Source\PSoC5/Bootloader.c ****             ackCode = Bootloader_ERR_DATA;
 965              		.loc 1 1771 0
 966 0166 0423     		movs	r3, #4
 967 0168 87F8A532 		strb	r3, [r7, #677]
1772:Generated_Source\PSoC5/Bootloader.c ****             switch(packetBuffer[Bootloader_CMD_ADDR])
 968              		.loc 1 1772 0
 969 016c 07F5AA73 		add	r3, r7, #340
 970 0170 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 971 0172 313B     		subs	r3, r3, #49
 972 0174 0A2B     		cmp	r3, #10
 973 0176 00F27582 		bhi	.L69
 974 017a 01A2     		adr	r2, .L71
 975 017c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 976              		.p2align 2
 977              	.L71:
 978 0180 AD010000 		.word	.L70+1
 979 0184 E9010000 		.word	.L72+1
 980 0188 65060000 		.word	.L69+1
 981 018c 87020000 		.word	.L73+1
 982 0190 1F040000 		.word	.L74+1
 983 0194 65060000 		.word	.L69+1
 984 0198 31040000 		.word	.L75+1
 985 019c 83040000 		.word	.L76+1
 986 01a0 87020000 		.word	.L73+1
 987 01a4 CF040000 		.word	.L77+1
 988 01a8 49060000 		.word	.L78+1
 989              		.p2align 1
 990              	.L70:
1773:Generated_Source\PSoC5/Bootloader.c ****             {
1774:Generated_Source\PSoC5/Bootloader.c **** 
1775:Generated_Source\PSoC5/Bootloader.c **** 
1776:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
1777:Generated_Source\PSoC5/Bootloader.c ****             *   Get metadata (0x3C)
1778:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1779:Generated_Source\PSoC5/Bootloader.c ****             #if(0u != Bootloader_CMD_GET_METADATA)
1780:Generated_Source\PSoC5/Bootloader.c **** 
1781:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_GET_METADATA:
1782:Generated_Source\PSoC5/Bootloader.c **** 
1783:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
1784:Generated_Source\PSoC5/Bootloader.c ****                     {
1785:Generated_Source\PSoC5/Bootloader.c ****                         if (btldrData >= Bootloader_MAX_NUM_OF_BTLDB)
1786:Generated_Source\PSoC5/Bootloader.c ****                         {
1787:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
1788:Generated_Source\PSoC5/Bootloader.c ****                         }
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 50


1789:Generated_Source\PSoC5/Bootloader.c ****                         else if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(btldrData))
1790:Generated_Source\PSoC5/Bootloader.c ****                         {
1791:Generated_Source\PSoC5/Bootloader.c ****                             #if(CY_PSOC3)
1792:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
1793:Generated_Source\PSoC5/Bootloader.c ****                                             ((uint8  CYCODE *) (Bootloader_MD_BASE_ADDR(btldrData))
1794:Generated_Source\PSoC5/Bootloader.c ****                                             (int8)Bootloader_GET_METADATA_RESPONSE_SIZE);
1795:Generated_Source\PSoC5/Bootloader.c ****                             #else
1796:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
1797:Generated_Source\PSoC5/Bootloader.c ****                                             (uint8 *) Bootloader_MD_BASE_ADDR(btldrData),
1798:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_GET_METADATA_RESPONSE_SIZE);
1799:Generated_Source\PSoC5/Bootloader.c ****                             #endif  /* (CY_PSOC3) */
1800:Generated_Source\PSoC5/Bootloader.c **** 
1801:Generated_Source\PSoC5/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_METADATA;
1802:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
1803:Generated_Source\PSoC5/Bootloader.c ****                         }
1804:Generated_Source\PSoC5/Bootloader.c ****                         else
1805:Generated_Source\PSoC5/Bootloader.c ****                         {
1806:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
1807:Generated_Source\PSoC5/Bootloader.c ****                         }
1808:Generated_Source\PSoC5/Bootloader.c ****                     }
1809:Generated_Source\PSoC5/Bootloader.c ****                     break;
1810:Generated_Source\PSoC5/Bootloader.c **** 
1811:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_GET_METADATA) */
1812:Generated_Source\PSoC5/Bootloader.c **** 
1813:Generated_Source\PSoC5/Bootloader.c **** 
1814:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
1815:Generated_Source\PSoC5/Bootloader.c ****             *   Verify application checksum (0x31)
1816:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1817:Generated_Source\PSoC5/Bootloader.c ****         #if (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL)     
1818:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_CHECKSUM:
1819:Generated_Source\PSoC5/Bootloader.c **** 
1820:Generated_Source\PSoC5/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize == 0u)
 991              		.loc 1 1820 0
 992 01ac 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 993 01b0 012B     		cmp	r3, #1
 994 01b2 40F0B282 		bne	.L126
 995              		.loc 1 1820 0 is_stmt 0 discriminator 1
 996 01b6 B7F8A232 		ldrh	r3, [r7, #674]
 997 01ba 002B     		cmp	r3, #0
 998 01bc 40F0AD82 		bne	.L126
1821:Generated_Source\PSoC5/Bootloader.c ****                 {
1822:Generated_Source\PSoC5/Bootloader.c ****                     packetBuffer[Bootloader_DATA_ADDR] =
1823:Generated_Source\PSoC5/Bootloader.c ****                             (uint8)(Bootloader_ValidateBootloadable(Bootloader_activeApp) == CYRET_
 999              		.loc 1 1823 0 is_stmt 1
 1000 01c0 0020     		movs	r0, #0
 1001 01c2 FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 1002 01c6 0346     		mov	r3, r0
 1003 01c8 002B     		cmp	r3, #0
 1004 01ca 0CBF     		ite	eq
 1005 01cc 0123     		moveq	r3, #1
 1006 01ce 0023     		movne	r3, #0
 1007 01d0 DBB2     		uxtb	r3, r3
 1008 01d2 1A46     		mov	r2, r3
1822:Generated_Source\PSoC5/Bootloader.c ****                             (uint8)(Bootloader_ValidateBootloadable(Bootloader_activeApp) == CYRET_
 1009              		.loc 1 1822 0
 1010 01d4 07F5AA73 		add	r3, r7, #340
 1011 01d8 1A71     		strb	r2, [r3, #4]
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 51


1824:Generated_Source\PSoC5/Bootloader.c **** 
1825:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_VERIFY_CHKSM;
 1012              		.loc 1 1825 0
 1013 01da 0123     		movs	r3, #1
 1014 01dc A7F8A632 		strh	r3, [r7, #678]	@ movhi
1826:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1015              		.loc 1 1826 0
 1016 01e0 0023     		movs	r3, #0
 1017 01e2 87F8A532 		strb	r3, [r7, #677]
1827:Generated_Source\PSoC5/Bootloader.c ****                 }
1828:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1018              		.loc 1 1828 0
 1019 01e6 98E2     		b	.L126
 1020              	.L72:
1829:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL) */
1830:Generated_Source\PSoC5/Bootloader.c **** 
1831:Generated_Source\PSoC5/Bootloader.c ****             /*****************************************************************************
1832:Generated_Source\PSoC5/Bootloader.c ****             *   Verify row (0x45u)
1833:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1834:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
1835:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_VERIFY_FLS_ROW:
1836:Generated_Source\PSoC5/Bootloader.c **** 
1837:Generated_Source\PSoC5/Bootloader.c ****                 /* Packet size is either 3 (data is already in buffer) or (3u + Bootloader_FROW_SIZ
1838:Generated_Source\PSoC5/Bootloader.c ****                  * then data is in packetBuffer[]*/
1839:Generated_Source\PSoC5/Bootloader.c ****                 if ((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && ((3u == pktSiz
1840:Generated_Source\PSoC5/Bootloader.c ****                    ((3u + Bootloader_FROW_SIZE) == pktSize)))
1841:Generated_Source\PSoC5/Bootloader.c ****                 {
1842:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA rowNum = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u
1843:Generated_Source\PSoC5/Bootloader.c ****                                                              packetBuffer[Bootloader_DATA_ADDR + 1u
1844:Generated_Source\PSoC5/Bootloader.c ****                     
1845:Generated_Source\PSoC5/Bootloader.c ****                     uint32 CYDATA startAddr;
1846:Generated_Source\PSoC5/Bootloader.c ****                     uint16 upperRange = 0u;
1847:Generated_Source\PSoC5/Bootloader.c ****                 #if (!CY_PSOC4)
1848:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA rowSize; 
1849:Generated_Source\PSoC5/Bootloader.c ****                 #endif /*(!CY_PSOC4)*/    
1850:Generated_Source\PSoC5/Bootloader.c ****                     
1851:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
1852:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_0;
1853:Generated_Source\PSoC5/Bootloader.c ****                         
1854:Generated_Source\PSoC5/Bootloader.c ****                     if (3u == pktSize)
1855:Generated_Source\PSoC5/Bootloader.c ****                     {
1856:Generated_Source\PSoC5/Bootloader.c ****                         /* Do nothing, data is already in dataBuffer[] */
1857:Generated_Source\PSoC5/Bootloader.c ****                     }
1858:Generated_Source\PSoC5/Bootloader.c ****                     else 
1859:Generated_Source\PSoC5/Bootloader.c ****                     {
1860:Generated_Source\PSoC5/Bootloader.c ****                     #if (CY_PSOC3)
1861:Generated_Source\PSoC5/Bootloader.c ****                         /*Data is in packetBuffer[], needs to be copied to dataBuffer[]*/
1862:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(dataBuffer, &packetBuffer[Bootloader_DATA_ADDR + 3u],
1863:Generated_Source\PSoC5/Bootloader.c ****                                       (int16)pktSize - 3);
1864:Generated_Source\PSoC5/Bootloader.c ****                     #else              
1865:Generated_Source\PSoC5/Bootloader.c ****                         /*Data is in packetBuffer[], needs to be copied to dataBuffer[]*/
1866:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(dataBuffer, &packetBuffer[Bootloader_DATA_ADDR + 3u],
1867:Generated_Source\PSoC5/Bootloader.c ****                                       (uint32)pktSize - 3u);
1868:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*CY_PSOC3)*/              
1869:Generated_Source\PSoC5/Bootloader.c ****                     }
1870:Generated_Source\PSoC5/Bootloader.c ****                         
1871:Generated_Source\PSoC5/Bootloader.c ****                 #if (!CY_PSOC4) 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 52


1872:Generated_Source\PSoC5/Bootloader.c ****                     if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
1873:Generated_Source\PSoC5/Bootloader.c ****                        (btldrData <= Bootloader_LAST_EE_ARRAYID))
1874:Generated_Source\PSoC5/Bootloader.c ****                     {
1875:Generated_Source\PSoC5/Bootloader.c ****                         /* EEPROM */
1876:Generated_Source\PSoC5/Bootloader.c ****                         /* Both PSoC 3 and PSoC 5LP architecture have one EEPROM array. */
1877:Generated_Source\PSoC5/Bootloader.c ****                         startAddr = CY_EEPROM_BASE + ((uint32)rowNum * CYDEV_EEPROM_ROW_SIZE);
1878:Generated_Source\PSoC5/Bootloader.c ****                         rowSize = CYDEV_EEPROM_ROW_SIZE;
1879:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF_ROW
1880:Generated_Source\PSoC5/Bootloader.c ****                     }
1881:Generated_Source\PSoC5/Bootloader.c ****                     else if (btldrData < CY_FLASH_NUMBER_ARRAYS)    
1882:Generated_Source\PSoC5/Bootloader.c ****                     {
1883:Generated_Source\PSoC5/Bootloader.c ****                         startAddr = CY_FLASH_BASE + ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE) +
1884:Generated_Source\PSoC5/Bootloader.c ****                                                      ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
1885:Generated_Source\PSoC5/Bootloader.c ****                         rowSize = CYDEV_FLS_ROW_SIZE;        
1886:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;                        
1887:Generated_Source\PSoC5/Bootloader.c ****                     }
1888:Generated_Source\PSoC5/Bootloader.c ****                     else
1889:Generated_Source\PSoC5/Bootloader.c ****                     {
1890:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_ARRAY;
1891:Generated_Source\PSoC5/Bootloader.c ****                         break;                              
1892:Generated_Source\PSoC5/Bootloader.c ****                     }
1893:Generated_Source\PSoC5/Bootloader.c **** 
1894:Generated_Source\PSoC5/Bootloader.c ****                     /*Checking if row number is within array address range*/
1895:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, upperRange);
1896:Generated_Source\PSoC5/Bootloader.c ****                     
1897:Generated_Source\PSoC5/Bootloader.c ****                     if (CYRET_SUCCESS != ackCode)
1898:Generated_Source\PSoC5/Bootloader.c ****                     {
1899:Generated_Source\PSoC5/Bootloader.c ****                         break;
1900:Generated_Source\PSoC5/Bootloader.c ****                     }
1901:Generated_Source\PSoC5/Bootloader.c ****                     
1902:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_VerifyRow(startAddr, dataBuffer, rowSize);
1903:Generated_Source\PSoC5/Bootloader.c ****                     
1904:Generated_Source\PSoC5/Bootloader.c ****                     /******************************************************************************
1905:Generated_Source\PSoC5/Bootloader.c ****                     * If flash row check has completed successfully and ECC is disabled and there i
1906:Generated_Source\PSoC5/Bootloader.c ****                     * data in the buffer for ECC row.
1907:Generated_Source\PSoC5/Bootloader.c ****                     *******************************************************************************
1908:Generated_Source\PSoC5/Bootloader.c ****                     #if (CYDEV_ECC_ENABLE == 0u)
1909:Generated_Source\PSoC5/Bootloader.c ****                         if ((CYRET_SUCCESS == ackCode) && (btldrData < CY_FLASH_NUMBER_ARRAYS) && (
1910:Generated_Source\PSoC5/Bootloader.c ****                         {
1911:Generated_Source\PSoC5/Bootloader.c ****                             startAddr = CYDEV_ECC_BASE + ((uint32)btldrData * (CYDEV_FLS_SECTOR_SIZ
1912:Generated_Source\PSoC5/Bootloader.c ****                                         ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
1913:Generated_Source\PSoC5/Bootloader.c ****                                                 
1914:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_VerifyRow(startAddr, &dataBuffer[rowSize], (uint16
1915:Generated_Source\PSoC5/Bootloader.c ****                         }
1916:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*(CYDEV_ECC_ENABLE == 0u)*/
1917:Generated_Source\PSoC5/Bootloader.c ****                     
1918:Generated_Source\PSoC5/Bootloader.c ****                 #else /*CY_PSOC4*/
1919:Generated_Source\PSoC5/Bootloader.c ****                     if (btldrData < CY_FLASH_NUMBER_ARRAYS)
1920:Generated_Source\PSoC5/Bootloader.c ****                     {
1921:Generated_Source\PSoC5/Bootloader.c ****                         startAddr = CY_FLASH_BASE + ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
1922:Generated_Source\PSoC5/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
1923:Generated_Source\PSoC5/Bootloader.c **** 
1924:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;         
1925:Generated_Source\PSoC5/Bootloader.c ****                         
1926:Generated_Source\PSoC5/Bootloader.c ****                         /*Checking if row number is within array address range*/
1927:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, upperRange);
1928:Generated_Source\PSoC5/Bootloader.c ****                     
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 53


1929:Generated_Source\PSoC5/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
1930:Generated_Source\PSoC5/Bootloader.c ****                         {
1931:Generated_Source\PSoC5/Bootloader.c ****                             break;
1932:Generated_Source\PSoC5/Bootloader.c ****                         }
1933:Generated_Source\PSoC5/Bootloader.c ****                         
1934:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_VerifyRow(startAddr, dataBuffer, (uint16)CYDEV_FLS_ROW
1935:Generated_Source\PSoC5/Bootloader.c ****                     }
1936:Generated_Source\PSoC5/Bootloader.c ****                     else
1937:Generated_Source\PSoC5/Bootloader.c ****                     {
1938:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_ARRAY;
1939:Generated_Source\PSoC5/Bootloader.c ****                         break;                     
1940:Generated_Source\PSoC5/Bootloader.c ****                     }
1941:Generated_Source\PSoC5/Bootloader.c ****                 #endif  /* (!CY_PSOC4) */
1942:Generated_Source\PSoC5/Bootloader.c ****                 
1943:Generated_Source\PSoC5/Bootloader.c ****                 } 
1944:Generated_Source\PSoC5/Bootloader.c ****                 break;
1945:Generated_Source\PSoC5/Bootloader.c ****         #endif /*(0u != Bootloader_CMD_VERIFY_ROW_FLS_AVAIL)*/
1946:Generated_Source\PSoC5/Bootloader.c **** 
1947:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
1948:Generated_Source\PSoC5/Bootloader.c ****             *   Get flash size (0x32)
1949:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1950:Generated_Source\PSoC5/Bootloader.c ****             #if(0u != Bootloader_CMD_GET_FLASH_SIZE_AVAIL)
1951:Generated_Source\PSoC5/Bootloader.c **** 
1952:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_REPORT_SIZE:
1953:Generated_Source\PSoC5/Bootloader.c **** 
1954:Generated_Source\PSoC5/Bootloader.c ****                     /* btldrData - holds flash array ID sent by host */
1955:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
 1021              		.loc 1 1955 0
 1022 01e8 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1023 01ec 012B     		cmp	r3, #1
 1024 01ee 40F09682 		bne	.L127
 1025              		.loc 1 1955 0 is_stmt 0 discriminator 1
 1026 01f2 B7F8A232 		ldrh	r3, [r7, #674]
 1027 01f6 012B     		cmp	r3, #1
 1028 01f8 40F09182 		bne	.L127
1956:Generated_Source\PSoC5/Bootloader.c ****                     {
1957:Generated_Source\PSoC5/Bootloader.c ****                         if(btldrData < CY_FLASH_NUMBER_ARRAYS)
 1029              		.loc 1 1957 0 is_stmt 1
 1030 01fc 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1031 0200 032B     		cmp	r3, #3
 1032 0202 00F28C82 		bhi	.L127
 1033              	.LBB6:
1958:Generated_Source\PSoC5/Bootloader.c ****                         {
1959:Generated_Source\PSoC5/Bootloader.c ****                             uint16 CYDATA startRow;
1960:Generated_Source\PSoC5/Bootloader.c ****                             uint8  CYDATA arrayIdBtlderEnds;
1961:Generated_Source\PSoC5/Bootloader.c **** 
1962:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
1963:Generated_Source\PSoC5/Bootloader.c ****                             * - For the flash array where the Bootloader application ends, returns 
1964:Generated_Source\PSoC5/Bootloader.c ****                             *   full row after the Bootloader application.
1965:Generated_Source\PSoC5/Bootloader.c ****                             *
1966:Generated_Source\PSoC5/Bootloader.c ****                             * - For a fully occupied flash array, the number of rows in the array i
1967:Generated_Source\PSoC5/Bootloader.c ****                             *   because there is no space for the Bootloadable application in this 
1968:Generated_Source\PSoC5/Bootloader.c ****                             *
1969:Generated_Source\PSoC5/Bootloader.c ****                             * - For the arrays next to the occupied array, zero is returned.
1970:Generated_Source\PSoC5/Bootloader.c ****                             *   The Bootloadable application can be written from those arrays begin
1971:Generated_Source\PSoC5/Bootloader.c ****                             *
1972:Generated_Source\PSoC5/Bootloader.c ****                             *   If this is a Bootloader that is located in an application (Combinat
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 54


1973:Generated_Source\PSoC5/Bootloader.c ****                             *   then we do not use the Bootloader_SizeBytes and Bootloader_SizeByte
1974:Generated_Source\PSoC5/Bootloader.c ****                             *   variables, instead we take the Launcher's last row from metadata.
1975:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
1976:Generated_Source\PSoC5/Bootloader.c ****                         #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
1977:Generated_Source\PSoC5/Bootloader.c ****                             arrayIdBtlderEnds = (uint8) (*Bootloader_SizeBytesAccess / CY_FLASH_SIZ
 1034              		.loc 1 1977 0
 1035 0206 D84B     		ldr	r3, .L135
 1036 0208 1B68     		ldr	r3, [r3]
 1037 020a 1B68     		ldr	r3, [r3]
 1038 020c 1B0C     		lsrs	r3, r3, #16
 1039 020e 87F88C32 		strb	r3, [r7, #652]
1978:Generated_Source\PSoC5/Bootloader.c **** 
1979:Generated_Source\PSoC5/Bootloader.c ****                             if (btldrData == arrayIdBtlderEnds)
 1040              		.loc 1 1979 0
 1041 0212 97F88D22 		ldrb	r2, [r7, #653]	@ zero_extendqisi2
 1042 0216 97F88C32 		ldrb	r3, [r7, #652]	@ zero_extendqisi2
 1043 021a 9A42     		cmp	r2, r3
 1044 021c 08D1     		bne	.L81
1980:Generated_Source\PSoC5/Bootloader.c ****                             {
1981:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = (uint16) (*Bootloader_SizeBytesAccess / CY_FLASH_SIZEOF_
 1045              		.loc 1 1981 0
 1046 021e D24B     		ldr	r3, .L135
 1047 0220 1B68     		ldr	r3, [r3]
 1048 0222 1B68     		ldr	r3, [r3]
 1049 0224 1B0A     		lsrs	r3, r3, #8
 1050 0226 9BB2     		uxth	r3, r3
 1051 0228 DBB2     		uxtb	r3, r3
 1052 022a A7F89C32 		strh	r3, [r7, #668]	@ movhi
 1053 022e 0DE0     		b	.L82
 1054              	.L81:
1982:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
1983:Generated_Source\PSoC5/Bootloader.c ****                             }
1984:Generated_Source\PSoC5/Bootloader.c ****                         #else /*Combination project type*/   
1985:Generated_Source\PSoC5/Bootloader.c ****                             btldrLastRow = (uint16)(Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAS
1986:Generated_Source\PSoC5/Bootloader.c ****                                                                                 Bootloader_MD_BTLDB
1987:Generated_Source\PSoC5/Bootloader.c ****                             arrayIdBtlderEnds = (uint8) (((uint32)btldrLastRow * CY_FLASH_SIZEOF_RO
1988:Generated_Source\PSoC5/Bootloader.c ****                             if (btldrData == arrayIdBtlderEnds)
1989:Generated_Source\PSoC5/Bootloader.c ****                             {
1990:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = (uint16)((btldrLastRow) % Bootloader_NUMBER_OF_ROWS_IN_A
1991:Generated_Source\PSoC5/Bootloader.c ****                             }
1992:Generated_Source\PSoC5/Bootloader.c ****                         #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1993:Generated_Source\PSoC5/Bootloader.c ****                         
1994:Generated_Source\PSoC5/Bootloader.c ****                             else if (btldrData > arrayIdBtlderEnds)
 1055              		.loc 1 1994 0
 1056 0230 97F88D22 		ldrb	r2, [r7, #653]	@ zero_extendqisi2
 1057 0234 97F88C32 		ldrb	r3, [r7, #652]	@ zero_extendqisi2
 1058 0238 9A42     		cmp	r2, r3
 1059 023a 03D9     		bls	.L83
1995:Generated_Source\PSoC5/Bootloader.c ****                             {
1996:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = Bootloader_FIRST_ROW_IN_ARRAY;
 1060              		.loc 1 1996 0
 1061 023c 0023     		movs	r3, #0
 1062 023e A7F89C32 		strh	r3, [r7, #668]	@ movhi
 1063 0242 03E0     		b	.L82
 1064              	.L83:
1997:Generated_Source\PSoC5/Bootloader.c ****                             }
1998:Generated_Source\PSoC5/Bootloader.c ****                             else /* (btldrData < ArrayIdBtlderEnds) */
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 55


1999:Generated_Source\PSoC5/Bootloader.c ****                             {
2000:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
 1065              		.loc 1 2000 0
 1066 0244 4FF48073 		mov	r3, #256
 1067 0248 A7F89C32 		strh	r3, [r7, #668]	@ movhi
 1068              	.L82:
2001:Generated_Source\PSoC5/Bootloader.c ****                             }
2002:Generated_Source\PSoC5/Bootloader.c **** 
2003:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR]      = LO8(startRow);
 1069              		.loc 1 2003 0
 1070 024c B7F89C32 		ldrh	r3, [r7, #668]	@ movhi
 1071 0250 DAB2     		uxtb	r2, r3
 1072 0252 07F5AA73 		add	r3, r7, #340
 1073 0256 1A71     		strb	r2, [r3, #4]
2004:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 1u] = HI8(startRow);
 1074              		.loc 1 2004 0
 1075 0258 B7F89C32 		ldrh	r3, [r7, #668]
 1076 025c 1B0A     		lsrs	r3, r3, #8
 1077 025e 9BB2     		uxth	r3, r3
 1078 0260 DAB2     		uxtb	r2, r3
 1079 0262 07F5AA73 		add	r3, r7, #340
 1080 0266 5A71     		strb	r2, [r3, #5]
2005:Generated_Source\PSoC5/Bootloader.c **** 
2006:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 2u] =
 1081              		.loc 1 2006 0
 1082 0268 07F5AA73 		add	r3, r7, #340
 1083 026c FF22     		movs	r2, #255
 1084 026e 9A71     		strb	r2, [r3, #6]
2007:Generated_Source\PSoC5/Bootloader.c ****                                         LO8(Bootloader_NUMBER_OF_ROWS_IN_ARRAY - 1u);
2008:Generated_Source\PSoC5/Bootloader.c **** 
2009:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 3u] =
 1085              		.loc 1 2009 0
 1086 0270 07F5AA73 		add	r3, r7, #340
 1087 0274 0022     		movs	r2, #0
 1088 0276 DA71     		strb	r2, [r3, #7]
2010:Generated_Source\PSoC5/Bootloader.c ****                                         HI8(Bootloader_NUMBER_OF_ROWS_IN_ARRAY - 1u);
2011:Generated_Source\PSoC5/Bootloader.c **** 
2012:Generated_Source\PSoC5/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_FLASH_SIZE;
 1089              		.loc 1 2012 0
 1090 0278 0423     		movs	r3, #4
 1091 027a A7F8A632 		strh	r3, [r7, #678]	@ movhi
2013:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
 1092              		.loc 1 2013 0
 1093 027e 0023     		movs	r3, #0
 1094 0280 87F8A532 		strb	r3, [r7, #677]
 1095              	.LBE6:
2014:Generated_Source\PSoC5/Bootloader.c ****                         }
2015:Generated_Source\PSoC5/Bootloader.c **** 
2016:Generated_Source\PSoC5/Bootloader.c ****                     }
2017:Generated_Source\PSoC5/Bootloader.c ****                     break;
 1096              		.loc 1 2017 0
 1097 0284 4BE2     		b	.L127
 1098              	.L73:
2018:Generated_Source\PSoC5/Bootloader.c **** 
2019:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_GET_FLASH_SIZE_AVAIL) */
2020:Generated_Source\PSoC5/Bootloader.c **** 
2021:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 56


2022:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2023:Generated_Source\PSoC5/Bootloader.c ****             *   Get application status (0x33)
2024:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2025:Generated_Source\PSoC5/Bootloader.c ****             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOAD
2026:Generated_Source\PSoC5/Bootloader.c **** 
2027:Generated_Source\PSoC5/Bootloader.c ****                 #if(0u != Bootloader_CMD_GET_APP_STATUS_AVAIL)
2028:Generated_Source\PSoC5/Bootloader.c **** 
2029:Generated_Source\PSoC5/Bootloader.c ****                     case Bootloader_COMMAND_APP_STATUS:
2030:Generated_Source\PSoC5/Bootloader.c **** 
2031:Generated_Source\PSoC5/Bootloader.c ****                         if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (1u == 
2032:Generated_Source\PSoC5/Bootloader.c ****                         {
2033:Generated_Source\PSoC5/Bootloader.c **** 
2034:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR] =
2035:Generated_Source\PSoC5/Bootloader.c ****                                 (uint8)Bootloader_ValidateBootloadable(btldrData);
2036:Generated_Source\PSoC5/Bootloader.c **** 
2037:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 1u] =
2038:Generated_Source\PSoC5/Bootloader.c ****                                 (uint8) Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, btldrDa
2039:Generated_Source\PSoC5/Bootloader.c **** 
2040:Generated_Source\PSoC5/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_APP_STATUS;
2041:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
2042:Generated_Source\PSoC5/Bootloader.c ****                         }
2043:Generated_Source\PSoC5/Bootloader.c ****                         break;
2044:Generated_Source\PSoC5/Bootloader.c **** 
2045:Generated_Source\PSoC5/Bootloader.c ****                 #endif  /* (0u != Bootloader_CMD_GET_APP_STATUS_AVAIL) */
2046:Generated_Source\PSoC5/Bootloader.c **** 
2047:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE
2048:Generated_Source\PSoC5/Bootloader.c **** 
2049:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2050:Generated_Source\PSoC5/Bootloader.c ****             *   Program / Erase row (0x39 / 0x34)
2051:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2052:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_PROGRAM:
2053:Generated_Source\PSoC5/Bootloader.c **** 
2054:Generated_Source\PSoC5/Bootloader.c ****             /* btldrData variable holds Flash Array ID */
2055:Generated_Source\PSoC5/Bootloader.c **** 
2056:Generated_Source\PSoC5/Bootloader.c ****         #if (0u != Bootloader_CMD_ERASE_ROW_AVAIL)
2057:Generated_Source\PSoC5/Bootloader.c **** 
2058:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_ERASE:
2059:Generated_Source\PSoC5/Bootloader.c ****                 if (Bootloader_COMMAND_ERASE == packetBuffer[Bootloader_CMD_ADDR])
 1099              		.loc 1 2059 0
 1100 0286 07F5AA73 		add	r3, r7, #340
 1101 028a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1102 028c 342B     		cmp	r3, #52
 1103 028e 21D1     		bne	.L84
2060:Generated_Source\PSoC5/Bootloader.c ****                 {
2061:Generated_Source\PSoC5/Bootloader.c ****                     if ((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize =
 1104              		.loc 1 2061 0
 1105 0290 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1106 0294 012B     		cmp	r3, #1
 1107 0296 40F05182 		bne	.L68
 1108              		.loc 1 2061 0 is_stmt 0 discriminator 1
 1109 029a B7F8A232 		ldrh	r3, [r7, #674]
 1110 029e 032B     		cmp	r3, #3
 1111 02a0 40F04C82 		bne	.L68
2062:Generated_Source\PSoC5/Bootloader.c ****                     {
2063:Generated_Source\PSoC5/Bootloader.c ****                         #if(!CY_PSOC4)
2064:Generated_Source\PSoC5/Bootloader.c ****                             if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
 1112              		.loc 1 2064 0 is_stmt 1
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 57


 1113 02a4 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1114 02a8 3F2B     		cmp	r3, #63
 1115 02aa 07D9     		bls	.L85
2065:Generated_Source\PSoC5/Bootloader.c ****                                (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1116              		.loc 1 2065 0 discriminator 1
 1117 02ac 97F98D32 		ldrsb	r3, [r7, #653]
2064:Generated_Source\PSoC5/Bootloader.c ****                                (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1118              		.loc 1 2064 0 discriminator 1
 1119 02b0 002B     		cmp	r3, #0
 1120 02b2 03DB     		blt	.L85
2066:Generated_Source\PSoC5/Bootloader.c ****                             {
2067:Generated_Source\PSoC5/Bootloader.c ****                                 /* Size of EEPROM row */
2068:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = CY_EEPROM_SIZEOF_ROW;
 1121              		.loc 1 2068 0
 1122 02b4 1023     		movs	r3, #16
 1123 02b6 A7F89E32 		strh	r3, [r7, #670]	@ movhi
 1124 02ba 03E0     		b	.L86
 1125              	.L85:
2069:Generated_Source\PSoC5/Bootloader.c ****                             }
2070:Generated_Source\PSoC5/Bootloader.c ****                             else
2071:Generated_Source\PSoC5/Bootloader.c ****                             {
2072:Generated_Source\PSoC5/Bootloader.c ****                                 /* Size of flash row (depends on ECC configuration) */
2073:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = Bootloader_FROW_SIZE;
 1126              		.loc 1 2073 0
 1127 02bc 4FF49073 		mov	r3, #288
 1128 02c0 A7F89E32 		strh	r3, [r7, #670]	@ movhi
 1129              	.L86:
2074:Generated_Source\PSoC5/Bootloader.c ****                             }
2075:Generated_Source\PSoC5/Bootloader.c ****                         #else
2076:Generated_Source\PSoC5/Bootloader.c ****                             /* Size of flash row (no ECC available) */
2077:Generated_Source\PSoC5/Bootloader.c ****                             dataOffset = Bootloader_FROW_SIZE;
2078:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2079:Generated_Source\PSoC5/Bootloader.c **** 
2080:Generated_Source\PSoC5/Bootloader.c ****                         #if(CY_PSOC3)
2081:Generated_Source\PSoC5/Bootloader.c ****                             (void) memset(dataBuffer, (char8) 0, (int16) dataOffset);
2082:Generated_Source\PSoC5/Bootloader.c ****                         #else
2083:Generated_Source\PSoC5/Bootloader.c ****                             (void) memset(dataBuffer, 0, (uint32) dataOffset);
 1130              		.loc 1 2083 0
 1131 02c4 B7F89E22 		ldrh	r2, [r7, #670]
 1132 02c8 07F12803 		add	r3, r7, #40
 1133 02cc 0021     		movs	r1, #0
 1134 02ce 1846     		mov	r0, r3
 1135 02d0 FFF7FEFF 		bl	memset
 1136              	.L84:
2084:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (CY_PSOC3) */
2085:Generated_Source\PSoC5/Bootloader.c ****                     }
2086:Generated_Source\PSoC5/Bootloader.c ****                     else
2087:Generated_Source\PSoC5/Bootloader.c ****                     {
2088:Generated_Source\PSoC5/Bootloader.c ****                         break;
2089:Generated_Source\PSoC5/Bootloader.c ****                     }
2090:Generated_Source\PSoC5/Bootloader.c ****                 }
2091:Generated_Source\PSoC5/Bootloader.c **** 
2092:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_CMD_ERASE_ROW_AVAIL) */
2093:Generated_Source\PSoC5/Bootloader.c **** 
2094:Generated_Source\PSoC5/Bootloader.c **** 
2095:Generated_Source\PSoC5/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize >= 3u)
 1137              		.loc 1 2095 0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 58


 1138 02d4 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1139 02d8 012B     		cmp	r3, #1
 1140 02da 40F02282 		bne	.L128
 1141              		.loc 1 2095 0 is_stmt 0 discriminator 1
 1142 02de B7F8A232 		ldrh	r3, [r7, #674]
 1143 02e2 022B     		cmp	r3, #2
 1144 02e4 40F21D82 		bls	.L128
 1145              	.LBB7:
2096:Generated_Source\PSoC5/Bootloader.c ****                 {
2097:Generated_Source\PSoC5/Bootloader.c ****                     uint16 upperRange;
2098:Generated_Source\PSoC5/Bootloader.c **** 
2099:Generated_Source\PSoC5/Bootloader.c ****                     /* Command may be sent along with last block of data, to program row. */
2100:Generated_Source\PSoC5/Bootloader.c ****                     #if(CY_PSOC3)
2101:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&dataBuffer[dataOffset],
2102:Generated_Source\PSoC5/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
2103:Generated_Source\PSoC5/Bootloader.c ****                                       (int16) pktSize - 3);
2104:Generated_Source\PSoC5/Bootloader.c ****                     #else
2105:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&dataBuffer[dataOffset],
 1146              		.loc 1 2105 0 is_stmt 1
 1147 02e8 B7F89E32 		ldrh	r3, [r7, #670]
 1148 02ec 07F12802 		add	r2, r7, #40
 1149 02f0 D018     		adds	r0, r2, r3
2106:Generated_Source\PSoC5/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
2107:Generated_Source\PSoC5/Bootloader.c ****                                       (uint32) pktSize - 3u);
 1150              		.loc 1 2107 0
 1151 02f2 B7F8A232 		ldrh	r3, [r7, #674]
 1152 02f6 DA1E     		subs	r2, r3, #3
2105:Generated_Source\PSoC5/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
 1153              		.loc 1 2105 0
 1154 02f8 07F5AA73 		add	r3, r7, #340
 1155 02fc 0733     		adds	r3, r3, #7
 1156 02fe 1946     		mov	r1, r3
 1157 0300 FFF7FEFF 		bl	memcpy
2108:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (CY_PSOC3) */
2109:Generated_Source\PSoC5/Bootloader.c **** 
2110:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset += (pktSize - 3u);
 1158              		.loc 1 2110 0
 1159 0304 B7F89E22 		ldrh	r2, [r7, #670]	@ movhi
 1160 0308 B7F8A232 		ldrh	r3, [r7, #674]	@ movhi
 1161 030c 1344     		add	r3, r3, r2
 1162 030e 9BB2     		uxth	r3, r3
 1163 0310 033B     		subs	r3, r3, #3
 1164 0312 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2111:Generated_Source\PSoC5/Bootloader.c **** 
2112:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4)
2113:Generated_Source\PSoC5/Bootloader.c ****                         if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
 1165              		.loc 1 2113 0
 1166 0316 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1167 031a 3F2B     		cmp	r3, #63
 1168 031c 0CD9     		bls	.L88
2114:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1169              		.loc 1 2114 0 discriminator 1
 1170 031e 97F98D32 		ldrsb	r3, [r7, #653]
2113:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1171              		.loc 1 2113 0 discriminator 1
 1172 0322 002B     		cmp	r3, #0
 1173 0324 08DB     		blt	.L88
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 59


2115:Generated_Source\PSoC5/Bootloader.c ****                         {
2116:Generated_Source\PSoC5/Bootloader.c ****                             CyEEPROM_Start();
 1174              		.loc 1 2116 0
 1175 0326 FFF7FEFF 		bl	CyEEPROM_Start
2117:Generated_Source\PSoC5/Bootloader.c **** 
2118:Generated_Source\PSoC5/Bootloader.c ****                             /* Size of EEPROM row */
2119:Generated_Source\PSoC5/Bootloader.c ****                             pktSize = CY_EEPROM_SIZEOF_ROW;                            
 1176              		.loc 1 2119 0
 1177 032a 1023     		movs	r3, #16
 1178 032c A7F8A232 		strh	r3, [r7, #674]	@ movhi
2120:Generated_Source\PSoC5/Bootloader.c ****                             upperRange = Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF
 1179              		.loc 1 2120 0
 1180 0330 8023     		movs	r3, #128
 1181 0332 A7F89A32 		strh	r3, [r7, #666]	@ movhi
 1182 0336 07E0     		b	.L89
 1183              	.L88:
2121:Generated_Source\PSoC5/Bootloader.c ****                         }
2122:Generated_Source\PSoC5/Bootloader.c ****                         else
2123:Generated_Source\PSoC5/Bootloader.c ****                         {
2124:Generated_Source\PSoC5/Bootloader.c ****                             /* Size of flash row (depends on ECC configuration) */
2125:Generated_Source\PSoC5/Bootloader.c ****                             pktSize = Bootloader_FROW_SIZE;                            
 1184              		.loc 1 2125 0
 1185 0338 4FF49073 		mov	r3, #288
 1186 033c A7F8A232 		strh	r3, [r7, #674]	@ movhi
2126:Generated_Source\PSoC5/Bootloader.c ****                             upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
 1187              		.loc 1 2126 0
 1188 0340 4FF48073 		mov	r3, #256
 1189 0344 A7F89A32 		strh	r3, [r7, #666]	@ movhi
 1190              	.L89:
2127:Generated_Source\PSoC5/Bootloader.c ****                         }
2128:Generated_Source\PSoC5/Bootloader.c ****                     #else
2129:Generated_Source\PSoC5/Bootloader.c ****                         /* Size of flash row (no ECC available) */
2130:Generated_Source\PSoC5/Bootloader.c ****                         pktSize = Bootloader_FROW_SIZE;                            
2131:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
2132:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (!CY_PSOC4) */
2133:Generated_Source\PSoC5/Bootloader.c **** 
2134:Generated_Source\PSoC5/Bootloader.c ****                     /* Check if we have all data to program */
2135:Generated_Source\PSoC5/Bootloader.c ****                     if(dataOffset == pktSize)
 1191              		.loc 1 2135 0
 1192 0348 B7F89E22 		ldrh	r2, [r7, #670]
 1193 034c B7F8A232 		ldrh	r3, [r7, #674]
 1194 0350 9A42     		cmp	r2, r3
 1195 0352 5DD1     		bne	.L90
 1196              	.LBB8:
2136:Generated_Source\PSoC5/Bootloader.c ****                     {
2137:Generated_Source\PSoC5/Bootloader.c ****                         uint16 row;
2138:Generated_Source\PSoC5/Bootloader.c ****                         uint16 firstRow;    
2139:Generated_Source\PSoC5/Bootloader.c ****                     #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) && \
2140:Generated_Source\PSoC5/Bootloader.c ****                           (1u == Bootloader_GOLDEN_IMAGE_AVAIL))
2141:Generated_Source\PSoC5/Bootloader.c ****                         cystatus goldenImageValid;
2142:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*(((0u != Bootloader_DUAL_APP_BOOTLOADER) &&
2143:Generated_Source\PSoC5/Bootloader.c ****                                (1u == Bootloader_GOLDEN_IMAGE_AVAIL))*/
2144:Generated_Source\PSoC5/Bootloader.c **** 
2145:Generated_Source\PSoC5/Bootloader.c ****                         /* Get flash/EEPROM row number inside array */
2146:Generated_Source\PSoC5/Bootloader.c ****                         dataOffset = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u] << 8
 1197              		.loc 1 2146 0
 1198 0354 07F5AA73 		add	r3, r7, #340
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 60


 1199 0358 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1200 035a 9BB2     		uxth	r3, r3
 1201 035c 1B02     		lsls	r3, r3, #8
 1202 035e 9AB2     		uxth	r2, r3
2147:Generated_Source\PSoC5/Bootloader.c ****                                               packetBuffer[Bootloader_DATA_ADDR + 1u];
 1203              		.loc 1 2147 0
 1204 0360 07F5AA73 		add	r3, r7, #340
 1205 0364 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
2146:Generated_Source\PSoC5/Bootloader.c ****                                               packetBuffer[Bootloader_DATA_ADDR + 1u];
 1206              		.loc 1 2146 0
 1207 0366 9BB2     		uxth	r3, r3
 1208 0368 1343     		orrs	r3, r3, r2
 1209 036a A7F89E32 		strh	r3, [r7, #670]	@ movhi
2148:Generated_Source\PSoC5/Bootloader.c **** 
2149:Generated_Source\PSoC5/Bootloader.c ****                         /*Checking if row number is within array address range*/
2150:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(dataOffset, upperRange);
 1210              		.loc 1 2150 0
 1211 036e B7F89E22 		ldrh	r2, [r7, #670]
 1212 0372 B7F89A32 		ldrh	r3, [r7, #666]
 1213 0376 9A42     		cmp	r2, r3
 1214 0378 01D2     		bcs	.L91
 1215              		.loc 1 2150 0 is_stmt 0 discriminator 1
 1216 037a 0023     		movs	r3, #0
 1217 037c 00E0     		b	.L92
 1218              	.L91:
 1219              		.loc 1 2150 0 discriminator 2
 1220 037e 0A23     		movs	r3, #10
 1221              	.L92:
 1222              		.loc 1 2150 0 discriminator 4
 1223 0380 87F8A532 		strb	r3, [r7, #677]
2151:Generated_Source\PSoC5/Bootloader.c ****                     
2152:Generated_Source\PSoC5/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
 1224              		.loc 1 2152 0 is_stmt 1 discriminator 4
 1225 0384 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1226 0388 002B     		cmp	r3, #0
 1227 038a 40F0CC81 		bne	.L129
2153:Generated_Source\PSoC5/Bootloader.c ****                         {
2154:Generated_Source\PSoC5/Bootloader.c ****                             break;
2155:Generated_Source\PSoC5/Bootloader.c ****                         }
2156:Generated_Source\PSoC5/Bootloader.c ****                         
2157:Generated_Source\PSoC5/Bootloader.c ****                         /* Metadata section resides in flash (cannot be in EEPROM). */
2158:Generated_Source\PSoC5/Bootloader.c ****                         #if(!CY_PSOC4)
2159:Generated_Source\PSoC5/Bootloader.c ****                             if(btldrData <= Bootloader_LAST_FLASH_ARRAYID)
 1228              		.loc 1 2159 0
 1229 038e 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1230 0392 3F2B     		cmp	r3, #63
 1231 0394 27D8     		bhi	.L94
2160:Generated_Source\PSoC5/Bootloader.c ****                             {
2161:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2162:Generated_Source\PSoC5/Bootloader.c ****                 
2163:Generated_Source\PSoC5/Bootloader.c ****                         /* btldrData  - holds flash array Id sent by host */
2164:Generated_Source\PSoC5/Bootloader.c ****                         /* dataOffset - holds flash row Id sent by host   */
2165:Generated_Source\PSoC5/Bootloader.c ****                         row = (uint16)(btldrData * Bootloader_NUMBER_OF_ROWS_IN_ARRAY) + dataOffset
 1232              		.loc 1 2165 0
 1233 0396 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1234 039a 9BB2     		uxth	r3, r3
 1235 039c 1B02     		lsls	r3, r3, #8
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 61


 1236 039e 9AB2     		uxth	r2, r3
 1237 03a0 B7F89E32 		ldrh	r3, [r7, #670]	@ movhi
 1238 03a4 1344     		add	r3, r3, r2
 1239 03a6 A7F88A32 		strh	r3, [r7, #650]	@ movhi
2166:Generated_Source\PSoC5/Bootloader.c ****                 
2167:Generated_Source\PSoC5/Bootloader.c ****                         /**************************************************************************
2168:Generated_Source\PSoC5/Bootloader.c ****                         * Refuse to write to the row within range of the bootloader application
2169:Generated_Source\PSoC5/Bootloader.c ****                         ***************************************************************************
2170:Generated_Source\PSoC5/Bootloader.c **** 
2171:Generated_Source\PSoC5/Bootloader.c ****                         /* First empty flash row after Bootloader application */
2172:Generated_Source\PSoC5/Bootloader.c ****                         #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)    
2173:Generated_Source\PSoC5/Bootloader.c ****                             firstRow = (uint16) (*Bootloader_SizeBytesAccess / CYDEV_FLS_ROW_SIZE);
 1240              		.loc 1 2173 0
 1241 03aa 6F4B     		ldr	r3, .L135
 1242 03ac 1B68     		ldr	r3, [r3]
 1243 03ae 1B68     		ldr	r3, [r3]
 1244 03b0 1B0A     		lsrs	r3, r3, #8
 1245 03b2 A7F89832 		strh	r3, [r7, #664]	@ movhi
2174:Generated_Source\PSoC5/Bootloader.c ****                             if ((*Bootloader_SizeBytesAccess % CYDEV_FLS_ROW_SIZE) != 0u)
 1246              		.loc 1 2174 0
 1247 03b6 6C4B     		ldr	r3, .L135
 1248 03b8 1B68     		ldr	r3, [r3]
 1249 03ba 1B68     		ldr	r3, [r3]
 1250 03bc DBB2     		uxtb	r3, r3
 1251 03be 002B     		cmp	r3, #0
 1252 03c0 04D0     		beq	.L95
2175:Generated_Source\PSoC5/Bootloader.c ****                             {
2176:Generated_Source\PSoC5/Bootloader.c ****                                 firstRow++;
 1253              		.loc 1 2176 0
 1254 03c2 B7F89832 		ldrh	r3, [r7, #664]
 1255 03c6 0133     		adds	r3, r3, #1
 1256 03c8 A7F89832 		strh	r3, [r7, #664]	@ movhi
 1257              	.L95:
2177:Generated_Source\PSoC5/Bootloader.c ****                             }
2178:Generated_Source\PSoC5/Bootloader.c ****                         #else /*Combination project type*/                       
2179:Generated_Source\PSoC5/Bootloader.c ****                             
2180:Generated_Source\PSoC5/Bootloader.c ****                             if (Bootloader_RUNNING_APPLICATION_0 == Bootloader_runningApp) 
2181:Generated_Source\PSoC5/Bootloader.c ****                             {
2182:Generated_Source\PSoC5/Bootloader.c ****                                 btldrLastRow = (uint16)Bootloader_GetMetadata(Bootloader_GET_BTLDR_
2183:Generated_Source\PSoC5/Bootloader.c ****                                                                             Bootloader_MD_BTLDB_ACT
2184:Generated_Source\PSoC5/Bootloader.c ****                             }    
2185:Generated_Source\PSoC5/Bootloader.c ****                             else /*(Bootloader_RUNNING_APPLICATION_1 == Bootloader_runningApp)*/
2186:Generated_Source\PSoC5/Bootloader.c ****                             {
2187:Generated_Source\PSoC5/Bootloader.c ****                                 btldrLastRow = (uint16)Bootloader_GetMetadata(Bootloader_GET_BTLDR_
2188:Generated_Source\PSoC5/Bootloader.c ****                                                                             Bootloader_MD_BTLDB_ACT
2189:Generated_Source\PSoC5/Bootloader.c ****                             }
2190:Generated_Source\PSoC5/Bootloader.c ****                                                 
2191:Generated_Source\PSoC5/Bootloader.c ****                             firstRow = (uint16)(btldrLastRow + 1u); 
2192:Generated_Source\PSoC5/Bootloader.c ****                         #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/      
2193:Generated_Source\PSoC5/Bootloader.c **** 
2194:Generated_Source\PSoC5/Bootloader.c ****                             /* Check to see if a row to be programmed will not corrupt the Bootload
2195:Generated_Source\PSoC5/Bootloader.c ****                             if(row < firstRow)
 1258              		.loc 1 2195 0
 1259 03cc B7F88A22 		ldrh	r2, [r7, #650]
 1260 03d0 B7F89832 		ldrh	r3, [r7, #664]
 1261 03d4 9A42     		cmp	r2, r3
 1262 03d6 06D2     		bcs	.L94
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 62


2196:Generated_Source\PSoC5/Bootloader.c ****                             {
2197:Generated_Source\PSoC5/Bootloader.c ****                                 ackCode = Bootloader_ERR_ROW;
 1263              		.loc 1 2197 0
 1264 03d8 0A23     		movs	r3, #10
 1265 03da 87F8A532 		strb	r3, [r7, #677]
2198:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = 0u;
 1266              		.loc 1 2198 0
 1267 03de 0023     		movs	r3, #0
 1268 03e0 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2199:Generated_Source\PSoC5/Bootloader.c ****                                 break;
 1269              		.loc 1 2199 0
 1270 03e4 AAE1     		b	.L68
 1271              	.L94:
2200:Generated_Source\PSoC5/Bootloader.c ****                             }
2201:Generated_Source\PSoC5/Bootloader.c ****                         
2202:Generated_Source\PSoC5/Bootloader.c ****                         #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2203:Generated_Source\PSoC5/Bootloader.c ****                              (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
2204:Generated_Source\PSoC5/Bootloader.c ****                             
2205:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
2206:Generated_Source\PSoC5/Bootloader.c ****                             * No check is required in case when there is no app#1 present in Upgrad
2207:Generated_Source\PSoC5/Bootloader.c ****                             * use case (no user application downloaded yet).                       
2208:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
2209:Generated_Source\PSoC5/Bootloader.c ****                             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2210:Generated_Source\PSoC5/Bootloader.c ****                             if (0u != app2StartAddress) 
2211:Generated_Source\PSoC5/Bootloader.c ****                             {
2212:Generated_Source\PSoC5/Bootloader.c ****                             #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
2213:Generated_Source\PSoC5/Bootloader.c ****                             
2214:Generated_Source\PSoC5/Bootloader.c ****                                 if(Bootloader_activeApp < Bootloader_MD_BTLDB_ACTIVE_NONE)    
2215:Generated_Source\PSoC5/Bootloader.c ****                                 {
2216:Generated_Source\PSoC5/Bootloader.c ****                                     /* Refuse to write to active image */
2217:Generated_Source\PSoC5/Bootloader.c ****                                     ackCode = Bootloader_CheckImage(Bootloader_activeApp, 
2218:Generated_Source\PSoC5/Bootloader.c ****                                                                        btldrData, /*array number*/
2219:Generated_Source\PSoC5/Bootloader.c ****                                                                        row,  /*row number*/
2220:Generated_Source\PSoC5/Bootloader.c ****                                                                        dataOffset); /*row number in
2221:Generated_Source\PSoC5/Bootloader.c ****                                 
2222:Generated_Source\PSoC5/Bootloader.c ****                                     if (Bootloader_ERR_ACTIVE == ackCode)
2223:Generated_Source\PSoC5/Bootloader.c ****                                     {
2224:Generated_Source\PSoC5/Bootloader.c ****                                         dataOffset = 0u;
2225:Generated_Source\PSoC5/Bootloader.c ****                                         break;                                
2226:Generated_Source\PSoC5/Bootloader.c ****                                     }
2227:Generated_Source\PSoC5/Bootloader.c ****                                 }
2228:Generated_Source\PSoC5/Bootloader.c ****                             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2229:Generated_Source\PSoC5/Bootloader.c ****                             }
2230:Generated_Source\PSoC5/Bootloader.c ****                             #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
2231:Generated_Source\PSoC5/Bootloader.c **** 
2232:Generated_Source\PSoC5/Bootloader.c ****                             /*This option is available for classic Dual-app bootloader only*/
2233:Generated_Source\PSoC5/Bootloader.c ****                             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) && \
2234:Generated_Source\PSoC5/Bootloader.c ****                                  (1u == Bootloader_GOLDEN_IMAGE_AVAIL))
2235:Generated_Source\PSoC5/Bootloader.c ****                             /* Check if this is an attempt to overwrite Golden image */
2236:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_CheckImage(Bootloader_GOLDEN_IMAGE, 
2237:Generated_Source\PSoC5/Bootloader.c ****                                                                   btldrData, /*array number*/
2238:Generated_Source\PSoC5/Bootloader.c ****                                                                   row, /*row number*/
2239:Generated_Source\PSoC5/Bootloader.c ****                                                                   dataOffset); /*row number in scop
2240:Generated_Source\PSoC5/Bootloader.c ****                             
2241:Generated_Source\PSoC5/Bootloader.c ****                             
2242:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
2243:Generated_Source\PSoC5/Bootloader.c ****                             * If an image to write is intended to update the Golden image and Golde
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 63


2244:Generated_Source\PSoC5/Bootloader.c ****                             * itself is valid, then give an error that it is active/Golden, otherwi
2245:Generated_Source\PSoC5/Bootloader.c ****                             * (invalid Golden image) let the Golden image to be overwritten.
2246:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
2247:Generated_Source\PSoC5/Bootloader.c ****                             goldenImageValid = Bootloader_ValidateBootloadable(Bootloader_GOLDEN_IM
2248:Generated_Source\PSoC5/Bootloader.c ****                             if ((Bootloader_ERR_ACTIVE == ackCode) && (CYRET_SUCCESS == goldenImage
2249:Generated_Source\PSoC5/Bootloader.c ****                             {
2250:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = 0u;
2251:Generated_Source\PSoC5/Bootloader.c ****                                 break;                                
2252:Generated_Source\PSoC5/Bootloader.c ****                             }
2253:Generated_Source\PSoC5/Bootloader.c ****                             else /* It is OK to overwrite corrupted Golden image */
2254:Generated_Source\PSoC5/Bootloader.c ****                             {
2255:Generated_Source\PSoC5/Bootloader.c ****                                 ackCode = CYRET_SUCCESS;
2256:Generated_Source\PSoC5/Bootloader.c ****                             }
2257:Generated_Source\PSoC5/Bootloader.c ****                             #endif /*((0u != Bootloader_DUAL_APP_BOOTLOADER) &&
2258:Generated_Source\PSoC5/Bootloader.c ****                                       (1u == Bootloader_GOLDEN_IMAGE_AVAIL)) */
2259:Generated_Source\PSoC5/Bootloader.c ****                         #endif /*(0u != Bootloader_DUAL_APP_BOOTLOADER) ||
2260:Generated_Source\PSoC5/Bootloader.c ****                                  (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
2261:Generated_Source\PSoC5/Bootloader.c ****   
2262:Generated_Source\PSoC5/Bootloader.c **** 
2263:Generated_Source\PSoC5/Bootloader.c ****                         /**************************************************************************
2264:Generated_Source\PSoC5/Bootloader.c ****                         * Clear a row that contains metadata, when the "Fast bootloadable applicati
2265:Generated_Source\PSoC5/Bootloader.c ****                         * validation" option is enabled.
2266:Generated_Source\PSoC5/Bootloader.c ****                         *
2267:Generated_Source\PSoC5/Bootloader.c ****                         * If the "Fast bootloadable application validation" option is enabled, the
2268:Generated_Source\PSoC5/Bootloader.c ****                         * bootloader only computes the checksum the first time and assumes that it
2269:Generated_Source\PSoC5/Bootloader.c ****                         * remains valid in each future startup. The metadata row is cleared because
2270:Generated_Source\PSoC5/Bootloader.c ****                         * Bootloadable application might become corrupted during update, while
2271:Generated_Source\PSoC5/Bootloader.c ****                         * the "Bootloadable Application Verification Status" field will still repor
2272:Generated_Source\PSoC5/Bootloader.c ****                         * the application is valid.
2273:Generated_Source\PSoC5/Bootloader.c ****                         ***************************************************************************
2274:Generated_Source\PSoC5/Bootloader.c ****                         #if(0u != Bootloader_FAST_APP_VALIDATION)
2275:Generated_Source\PSoC5/Bootloader.c **** 
2276:Generated_Source\PSoC5/Bootloader.c ****                             if(0u == clearedMetaData)
2277:Generated_Source\PSoC5/Bootloader.c ****                             {
2278:Generated_Source\PSoC5/Bootloader.c ****                                 /* Metadata section must be filled with zeros */
2279:Generated_Source\PSoC5/Bootloader.c **** 
2280:Generated_Source\PSoC5/Bootloader.c ****                                 uint8 erase[Bootloader_FROW_SIZE];
2281:Generated_Source\PSoC5/Bootloader.c ****                                 uint8 Bootloader_notActiveApp;
2282:Generated_Source\PSoC5/Bootloader.c **** 
2283:Generated_Source\PSoC5/Bootloader.c **** 
2284:Generated_Source\PSoC5/Bootloader.c ****                                 #if(CY_PSOC3)
2285:Generated_Source\PSoC5/Bootloader.c ****                                     (void) memset(erase, (char8) 0, (int16) Bootloader_FROW_SIZE);
2286:Generated_Source\PSoC5/Bootloader.c ****                                 #else
2287:Generated_Source\PSoC5/Bootloader.c ****                                     (void) memset(erase, 0, Bootloader_FROW_SIZE);
2288:Generated_Source\PSoC5/Bootloader.c ****                                 #endif  /* (CY_PSOC3) */
2289:Generated_Source\PSoC5/Bootloader.c **** 
2290:Generated_Source\PSoC5/Bootloader.c **** 
2291:Generated_Source\PSoC5/Bootloader.c ****                                 #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2292:Generated_Source\PSoC5/Bootloader.c ****                                      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
2293:Generated_Source\PSoC5/Bootloader.c ****                                     if (Bootloader_MD_BTLDB_ACTIVE_0 == Bootloader_activeApp)
2294:Generated_Source\PSoC5/Bootloader.c ****                                     {
2295:Generated_Source\PSoC5/Bootloader.c ****                                         Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_1;
2296:Generated_Source\PSoC5/Bootloader.c ****                                     }
2297:Generated_Source\PSoC5/Bootloader.c ****                                     else
2298:Generated_Source\PSoC5/Bootloader.c ****                                     {
2299:Generated_Source\PSoC5/Bootloader.c ****                                         Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_0;
2300:Generated_Source\PSoC5/Bootloader.c ****                                     }
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 64


2301:Generated_Source\PSoC5/Bootloader.c ****                                 #else
2302:Generated_Source\PSoC5/Bootloader.c ****                                     Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_0;
2303:Generated_Source\PSoC5/Bootloader.c ****                                 #endif /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
2304:Generated_Source\PSoC5/Bootloader.c **** 
2305:Generated_Source\PSoC5/Bootloader.c **** 
2306:Generated_Source\PSoC5/Bootloader.c ****                                 #if(CY_PSOC4)
2307:Generated_Source\PSoC5/Bootloader.c ****                                     (void) CySysFlashWriteRow(
2308:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_MD_ROW_NUM(Bootloader_notActiveApp),
2309:Generated_Source\PSoC5/Bootloader.c ****                                             erase);
2310:Generated_Source\PSoC5/Bootloader.c ****                                 #else
2311:Generated_Source\PSoC5/Bootloader.c ****                                     (void) CyWriteRowFull(
2312:Generated_Source\PSoC5/Bootloader.c ****                                             (uint8)  Bootloader_MD_FLASH_ARRAY_NUM,
2313:Generated_Source\PSoC5/Bootloader.c ****                                             (uint16) Bootloader_MD_ROW_NUM(Bootloader_notActiveApp)
2314:Generated_Source\PSoC5/Bootloader.c ****                                             erase,
2315:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_FROW_SIZE);
2316:Generated_Source\PSoC5/Bootloader.c ****                                 #endif  /* (CY_PSOC4) */
2317:Generated_Source\PSoC5/Bootloader.c **** 
2318:Generated_Source\PSoC5/Bootloader.c ****                                 /* PSoC 5: Do not care about flushing cache as flash row has been e
2319:Generated_Source\PSoC5/Bootloader.c **** 
2320:Generated_Source\PSoC5/Bootloader.c ****                                 /* Set up flag that metadata was cleared */
2321:Generated_Source\PSoC5/Bootloader.c ****                                 clearedMetaData = 1u;
2322:Generated_Source\PSoC5/Bootloader.c ****                             }
2323:Generated_Source\PSoC5/Bootloader.c **** 
2324:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
2325:Generated_Source\PSoC5/Bootloader.c **** 
2326:Generated_Source\PSoC5/Bootloader.c **** 
2327:Generated_Source\PSoC5/Bootloader.c ****                         #if(!CY_PSOC4)
2328:Generated_Source\PSoC5/Bootloader.c ****                             }   /* (btldrData <= Bootloader_LAST_FLASH_ARRAYID) */
2329:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2330:Generated_Source\PSoC5/Bootloader.c **** 
2331:Generated_Source\PSoC5/Bootloader.c **** 
2332:Generated_Source\PSoC5/Bootloader.c ****                         #if(CY_PSOC4)
2333:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = (CYRET_SUCCESS != CySysFlashWriteRow((uint32) row, dataBuffer
2334:Generated_Source\PSoC5/Bootloader.c ****                                 ? Bootloader_ERR_ROW \
2335:Generated_Source\PSoC5/Bootloader.c ****                                 : CYRET_SUCCESS;
2336:Generated_Source\PSoC5/Bootloader.c ****                         #else
2337:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = (CYRET_SUCCESS != CyWriteRowFull(btldrData, dataOffset, dataB
 1272              		.loc 1 2337 0
 1273 03e6 B7F8A232 		ldrh	r3, [r7, #674]
 1274 03ea 07F12802 		add	r2, r7, #40
 1275 03ee B7F89E12 		ldrh	r1, [r7, #670]
 1276 03f2 97F88D02 		ldrb	r0, [r7, #653]	@ zero_extendqisi2
 1277 03f6 FFF7FEFF 		bl	CyWriteRowFull
 1278 03fa 0346     		mov	r3, r0
 1279 03fc 002B     		cmp	r3, #0
 1280 03fe 01D0     		beq	.L96
 1281              		.loc 1 2337 0 is_stmt 0 discriminator 1
 1282 0400 0A23     		movs	r3, #10
 1283 0402 00E0     		b	.L97
 1284              	.L96:
 1285              		.loc 1 2337 0 discriminator 2
 1286 0404 0023     		movs	r3, #0
 1287              	.L97:
 1288              		.loc 1 2337 0 discriminator 4
 1289 0406 87F8A532 		strb	r3, [r7, #677]
2338:Generated_Source\PSoC5/Bootloader.c ****                                 ? Bootloader_ERR_ROW \
2339:Generated_Source\PSoC5/Bootloader.c ****                                 : CYRET_SUCCESS;
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 65


2340:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (CY_PSOC4) */
2341:Generated_Source\PSoC5/Bootloader.c **** 
2342:Generated_Source\PSoC5/Bootloader.c **** 
2343:Generated_Source\PSoC5/Bootloader.c ****                         #if(CY_PSOC5)
2344:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
2345:Generated_Source\PSoC5/Bootloader.c ****                             * When writing to flash, data in the instruction cache can become stale
2346:Generated_Source\PSoC5/Bootloader.c ****                             * Therefore, the cache data does not correlate to the data just written
2347:Generated_Source\PSoC5/Bootloader.c ****                             * flash. A call to CyFlushCache() is required to invalidate the data in
2348:Generated_Source\PSoC5/Bootloader.c ****                             * cache and force fresh information to be loaded from flash.
2349:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
2350:Generated_Source\PSoC5/Bootloader.c ****                             CyFlushCache();
 1290              		.loc 1 2350 0 is_stmt 1 discriminator 4
 1291 040a FFF7FEFF 		bl	CyFlushCache
 1292              	.LBE8:
 1293 040e 02E0     		b	.L98
 1294              	.L90:
2351:Generated_Source\PSoC5/Bootloader.c ****                         #endif /* (CY_PSOC5) */
2352:Generated_Source\PSoC5/Bootloader.c **** 
2353:Generated_Source\PSoC5/Bootloader.c ****                     }
2354:Generated_Source\PSoC5/Bootloader.c ****                     else
2355:Generated_Source\PSoC5/Bootloader.c ****                     {
2356:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_LENGTH;
 1295              		.loc 1 2356 0
 1296 0410 0323     		movs	r3, #3
 1297 0412 87F8A532 		strb	r3, [r7, #677]
 1298              	.L98:
2357:Generated_Source\PSoC5/Bootloader.c ****                     }
2358:Generated_Source\PSoC5/Bootloader.c **** 
2359:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset = 0u;
 1299              		.loc 1 2359 0
 1300 0416 0023     		movs	r3, #0
 1301 0418 A7F89E32 		strh	r3, [r7, #670]	@ movhi
 1302              	.LBE7:
2360:Generated_Source\PSoC5/Bootloader.c ****                 }
2361:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1303              		.loc 1 2361 0
 1304 041c 81E1     		b	.L128
 1305              	.L74:
2362:Generated_Source\PSoC5/Bootloader.c **** 
2363:Generated_Source\PSoC5/Bootloader.c **** 
2364:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2365:Generated_Source\PSoC5/Bootloader.c ****             *   Sync bootloader (0x35)
2366:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2367:Generated_Source\PSoC5/Bootloader.c ****             #if(0u != Bootloader_CMD_SYNC_BOOTLOADER_AVAIL)
2368:Generated_Source\PSoC5/Bootloader.c **** 
2369:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_SYNC:
2370:Generated_Source\PSoC5/Bootloader.c **** 
2371:Generated_Source\PSoC5/Bootloader.c ****                 if(Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState)
 1306              		.loc 1 2371 0
 1307 041e 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1308 0422 012B     		cmp	r3, #1
 1309 0424 40F08181 		bne	.L130
2372:Generated_Source\PSoC5/Bootloader.c ****                 {
2373:Generated_Source\PSoC5/Bootloader.c ****                     /* If something failed, Host would send this command to reset Bootloader. */
2374:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset = 0u;
 1310              		.loc 1 2374 0
 1311 0428 0023     		movs	r3, #0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 66


 1312 042a A7F89E32 		strh	r3, [r7, #670]	@ movhi
2375:Generated_Source\PSoC5/Bootloader.c **** 
2376:Generated_Source\PSoC5/Bootloader.c ****                     /* Don't acknowledge the packet, just get ready to accept the next one */
2377:Generated_Source\PSoC5/Bootloader.c ****                     continue;
 1313              		.loc 1 2377 0
 1314 042e 90E1     		b	.L61
 1315              	.L75:
2378:Generated_Source\PSoC5/Bootloader.c ****                 }
2379:Generated_Source\PSoC5/Bootloader.c ****                 break;
2380:Generated_Source\PSoC5/Bootloader.c **** 
2381:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_SYNC_BOOTLOADER_AVAIL) */
2382:Generated_Source\PSoC5/Bootloader.c **** 
2383:Generated_Source\PSoC5/Bootloader.c **** 
2384:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2385:Generated_Source\PSoC5/Bootloader.c ****             *   Set an active application (0x36)
2386:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2387:Generated_Source\PSoC5/Bootloader.c ****             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2388:Generated_Source\PSoC5/Bootloader.c ****                  (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))    
2389:Generated_Source\PSoC5/Bootloader.c **** 
2390:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_APP_ACTIVE:
2391:Generated_Source\PSoC5/Bootloader.c **** 
2392:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
2393:Generated_Source\PSoC5/Bootloader.c ****                     {
2394:Generated_Source\PSoC5/Bootloader.c ****                         if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(btldrData))
2395:Generated_Source\PSoC5/Bootloader.c ****                         {
2396:Generated_Source\PSoC5/Bootloader.c ****                             Bootloader_SetActiveAppInMetadata(btldrData);
2397:Generated_Source\PSoC5/Bootloader.c ****                             Bootloader_activeApp = btldrData;
2398:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
2399:Generated_Source\PSoC5/Bootloader.c ****                         }
2400:Generated_Source\PSoC5/Bootloader.c ****                         else
2401:Generated_Source\PSoC5/Bootloader.c ****                         {
2402:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
2403:Generated_Source\PSoC5/Bootloader.c ****                         }
2404:Generated_Source\PSoC5/Bootloader.c ****                     }
2405:Generated_Source\PSoC5/Bootloader.c ****                     break;
2406:Generated_Source\PSoC5/Bootloader.c **** 
2407:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || 
2408:Generated_Source\PSoC5/Bootloader.c ****                        (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
2409:Generated_Source\PSoC5/Bootloader.c **** 
2410:Generated_Source\PSoC5/Bootloader.c **** 
2411:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2412:Generated_Source\PSoC5/Bootloader.c ****             *   Send data (0x37)
2413:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2414:Generated_Source\PSoC5/Bootloader.c ****             #if (0u != Bootloader_CMD_SEND_DATA_AVAIL)
2415:Generated_Source\PSoC5/Bootloader.c **** 
2416:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_DATA:
2417:Generated_Source\PSoC5/Bootloader.c **** 
2418:Generated_Source\PSoC5/Bootloader.c ****                     if(Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState)
 1316              		.loc 1 2418 0
 1317 0430 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1318 0434 012B     		cmp	r3, #1
 1319 0436 40F07A81 		bne	.L131
2419:Generated_Source\PSoC5/Bootloader.c ****                     {
2420:Generated_Source\PSoC5/Bootloader.c ****                         /*  Make sure that dataOffset is valid before copying data */
2421:Generated_Source\PSoC5/Bootloader.c ****                         if((dataOffset + pktSize) <= Bootloader_SIZEOF_COMMAND_BUFFER)
 1320              		.loc 1 2421 0
 1321 043a B7F89E22 		ldrh	r2, [r7, #670]
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 67


 1322 043e B7F8A232 		ldrh	r3, [r7, #674]
 1323 0442 1344     		add	r3, r3, r2
 1324 0444 B3F5967F 		cmp	r3, #300
 1325 0448 17D8     		bhi	.L101
2422:Generated_Source\PSoC5/Bootloader.c ****                         {
2423:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
 1326              		.loc 1 2423 0
 1327 044a 0023     		movs	r3, #0
 1328 044c 87F8A532 		strb	r3, [r7, #677]
2424:Generated_Source\PSoC5/Bootloader.c **** 
2425:Generated_Source\PSoC5/Bootloader.c ****                             #if(CY_PSOC3)
2426:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&dataBuffer[dataOffset],
2427:Generated_Source\PSoC5/Bootloader.c ****                                               &packetBuffer[Bootloader_DATA_ADDR],
2428:Generated_Source\PSoC5/Bootloader.c ****                                               ( int16 )pktSize);
2429:Generated_Source\PSoC5/Bootloader.c ****                             #else
2430:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&dataBuffer[dataOffset],
 1329              		.loc 1 2430 0
 1330 0450 B7F89E32 		ldrh	r3, [r7, #670]
 1331 0454 07F12802 		add	r2, r7, #40
 1332 0458 D018     		adds	r0, r2, r3
 1333 045a B7F8A222 		ldrh	r2, [r7, #674]
 1334 045e 07F5AA73 		add	r3, r7, #340
 1335 0462 0433     		adds	r3, r3, #4
 1336 0464 1946     		mov	r1, r3
 1337 0466 FFF7FEFF 		bl	memcpy
2431:Generated_Source\PSoC5/Bootloader.c ****                                               &packetBuffer[Bootloader_DATA_ADDR],
2432:Generated_Source\PSoC5/Bootloader.c ****                                               (uint32) pktSize);
2433:Generated_Source\PSoC5/Bootloader.c ****                             #endif  /* (CY_PSOC3) */
2434:Generated_Source\PSoC5/Bootloader.c **** 
2435:Generated_Source\PSoC5/Bootloader.c ****                             dataOffset += pktSize;
 1338              		.loc 1 2435 0
 1339 046a B7F89E22 		ldrh	r2, [r7, #670]	@ movhi
 1340 046e B7F8A232 		ldrh	r3, [r7, #674]	@ movhi
 1341 0472 1344     		add	r3, r3, r2
 1342 0474 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2436:Generated_Source\PSoC5/Bootloader.c ****                         }
2437:Generated_Source\PSoC5/Bootloader.c ****                         else
2438:Generated_Source\PSoC5/Bootloader.c ****                         {
2439:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_LENGTH;
2440:Generated_Source\PSoC5/Bootloader.c ****                         }
2441:Generated_Source\PSoC5/Bootloader.c ****                     }
2442:Generated_Source\PSoC5/Bootloader.c **** 
2443:Generated_Source\PSoC5/Bootloader.c ****                     break;
 1343              		.loc 1 2443 0
 1344 0478 59E1     		b	.L131
 1345              	.L101:
2439:Generated_Source\PSoC5/Bootloader.c ****                         }
 1346              		.loc 1 2439 0
 1347 047a 0323     		movs	r3, #3
 1348 047c 87F8A532 		strb	r3, [r7, #677]
 1349              		.loc 1 2443 0
 1350 0480 55E1     		b	.L131
 1351              	.L76:
2444:Generated_Source\PSoC5/Bootloader.c **** 
2445:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_SEND_DATA_AVAIL) */
2446:Generated_Source\PSoC5/Bootloader.c **** 
2447:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 68


2448:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2449:Generated_Source\PSoC5/Bootloader.c ****             *   Enter bootloader (0x38)
2450:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2451:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_ENTER:
2452:Generated_Source\PSoC5/Bootloader.c **** 
2453:Generated_Source\PSoC5/Bootloader.c ****         #if (Bootloader_SECURITY_KEY_AVAIL == 1u)    
2454:Generated_Source\PSoC5/Bootloader.c ****             if(pktSize == 6u) /*Security key*/
2455:Generated_Source\PSoC5/Bootloader.c ****         #else    
2456:Generated_Source\PSoC5/Bootloader.c ****             if(pktSize == 0u) /*Security key is not demanded*/
 1352              		.loc 1 2456 0
 1353 0482 B7F8A232 		ldrh	r3, [r7, #674]
 1354 0486 002B     		cmp	r3, #0
 1355 0488 1DD1     		bne	.L102
 1356              	.LBB10:
2457:Generated_Source\PSoC5/Bootloader.c ****         #endif /*(Bootloader_SECURITY_KEY_AVAIL == 1u)*/   
2458:Generated_Source\PSoC5/Bootloader.c ****                 {
2459:Generated_Source\PSoC5/Bootloader.c ****                     #if(CY_PSOC3)
2460:Generated_Source\PSoC5/Bootloader.c **** 
2461:Generated_Source\PSoC5/Bootloader.c ****                         Bootloader_ENTER CYDATA BtldrVersion =
2462:Generated_Source\PSoC5/Bootloader.c ****                             {CYSWAP_ENDIAN32(CYDEV_CHIP_JTAG_ID), CYDEV_CHIP_REV_EXPECT, Bootloader
2463:Generated_Source\PSoC5/Bootloader.c **** 
2464:Generated_Source\PSoC5/Bootloader.c ****                     #else
2465:Generated_Source\PSoC5/Bootloader.c **** 
2466:Generated_Source\PSoC5/Bootloader.c ****                         Bootloader_ENTER CYDATA BtldrVersion =
 1357              		.loc 1 2466 0
 1358 048a 07F12003 		add	r3, r7, #32
 1359 048e 374A     		ldr	r2, .L135+4
 1360 0490 92E80300 		ldmia	r2, {r0, r1}
 1361 0494 83E80300 		stmia	r3, {r0, r1}
2467:Generated_Source\PSoC5/Bootloader.c ****                             {CYDEV_CHIP_JTAG_ID, CYDEV_CHIP_REV_EXPECT, Bootloader_VERSION};
2468:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (CY_PSOC3) */
2469:Generated_Source\PSoC5/Bootloader.c **** 
2470:Generated_Source\PSoC5/Bootloader.c ****             #if (Bootloader_SECURITY_KEY_AVAIL == 1u)
2471:Generated_Source\PSoC5/Bootloader.c ****                 
2472:Generated_Source\PSoC5/Bootloader.c ****                 /*Security key checking*/
2473:Generated_Source\PSoC5/Bootloader.c ****                 uint8 idx = Bootloader_SECURITY_KEY_LENGTH;
2474:Generated_Source\PSoC5/Bootloader.c ****                 ackCode = CYRET_SUCCESS;
2475:Generated_Source\PSoC5/Bootloader.c ****                 
2476:Generated_Source\PSoC5/Bootloader.c ****                 do
2477:Generated_Source\PSoC5/Bootloader.c ****                 {
2478:Generated_Source\PSoC5/Bootloader.c ****                     idx--;                     
2479:Generated_Source\PSoC5/Bootloader.c ****                     if (Bootloader_securityKey[idx] != packetBuffer[Bootloader_DATA_ADDR + idx])
2480:Generated_Source\PSoC5/Bootloader.c ****                     {
2481:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_DATA;
2482:Generated_Source\PSoC5/Bootloader.c ****                         break;
2483:Generated_Source\PSoC5/Bootloader.c ****                     }
2484:Generated_Source\PSoC5/Bootloader.c ****                     
2485:Generated_Source\PSoC5/Bootloader.c ****                 } while(0u != idx);
2486:Generated_Source\PSoC5/Bootloader.c ****                 
2487:Generated_Source\PSoC5/Bootloader.c ****                 if (Bootloader_ERR_DATA == ackCode)
2488:Generated_Source\PSoC5/Bootloader.c ****                 {
2489:Generated_Source\PSoC5/Bootloader.c ****                     break;
2490:Generated_Source\PSoC5/Bootloader.c ****                 }
2491:Generated_Source\PSoC5/Bootloader.c ****             #endif /*(Bootloader_SECURITY_KEY_AVAIL == 1u)*/
2492:Generated_Source\PSoC5/Bootloader.c ****                 
2493:Generated_Source\PSoC5/Bootloader.c ****                 #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
2494:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_isBootloading = Bootloader_BOOTLOADING_IN_PROGRESS;
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 69


2495:Generated_Source\PSoC5/Bootloader.c ****                 #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
2496:Generated_Source\PSoC5/Bootloader.c ****                 
2497:Generated_Source\PSoC5/Bootloader.c ****                     communicationState = Bootloader_COMMUNICATION_STATE_ACTIVE;
 1362              		.loc 1 2497 0
 1363 0498 0123     		movs	r3, #1
 1364 049a 87F8A032 		strb	r3, [r7, #672]
2498:Generated_Source\PSoC5/Bootloader.c **** 
2499:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = sizeof(Bootloader_ENTER);
 1365              		.loc 1 2499 0
 1366 049e 0823     		movs	r3, #8
 1367 04a0 A7F8A632 		strh	r3, [r7, #678]	@ movhi
2500:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset = 0u; 
 1368              		.loc 1 2500 0
 1369 04a4 0023     		movs	r3, #0
 1370 04a6 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2501:Generated_Source\PSoC5/Bootloader.c ****                     
2502:Generated_Source\PSoC5/Bootloader.c ****                     #if(CY_PSOC3)
2503:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
2504:Generated_Source\PSoC5/Bootloader.c ****                                       &BtldrVersion,
2505:Generated_Source\PSoC5/Bootloader.c ****                                       ( int16 )rspSize);
2506:Generated_Source\PSoC5/Bootloader.c ****                     #else
2507:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
 1371              		.loc 1 2507 0
 1372 04aa B7F8A622 		ldrh	r2, [r7, #678]
 1373 04ae 07F12001 		add	r1, r7, #32
 1374 04b2 07F5AA73 		add	r3, r7, #340
 1375 04b6 0433     		adds	r3, r3, #4
 1376 04b8 1846     		mov	r0, r3
 1377 04ba FFF7FEFF 		bl	memcpy
2508:Generated_Source\PSoC5/Bootloader.c ****                                       &BtldrVersion,
2509:Generated_Source\PSoC5/Bootloader.c ****                                       (uint32) rspSize);
2510:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (CY_PSOC3) */
2511:Generated_Source\PSoC5/Bootloader.c **** 
2512:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1378              		.loc 1 2512 0
 1379 04be 0023     		movs	r3, #0
 1380 04c0 87F8A532 		strb	r3, [r7, #677]
 1381              	.LBE10:
2513:Generated_Source\PSoC5/Bootloader.c ****                 }
2514:Generated_Source\PSoC5/Bootloader.c ****                 else /* Packet length does not match*/
2515:Generated_Source\PSoC5/Bootloader.c ****                 {
2516:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_DATA;
2517:Generated_Source\PSoC5/Bootloader.c ****                 }
2518:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1382              		.loc 1 2518 0
 1383 04c4 3AE1     		b	.L68
 1384              	.L102:
2516:Generated_Source\PSoC5/Bootloader.c ****                 }
 1385              		.loc 1 2516 0
 1386 04c6 0423     		movs	r3, #4
 1387 04c8 87F8A532 		strb	r3, [r7, #677]
 1388              		.loc 1 2518 0
 1389 04cc 36E1     		b	.L68
 1390              	.L77:
2519:Generated_Source\PSoC5/Bootloader.c **** 
2520:Generated_Source\PSoC5/Bootloader.c **** 
2521:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 70


2522:Generated_Source\PSoC5/Bootloader.c ****             *   Get row checksum (0x3A)
2523:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2524:Generated_Source\PSoC5/Bootloader.c ****             #if (0u != Bootloader_CMD_GET_ROW_CHKSUM_AVAIL)
2525:Generated_Source\PSoC5/Bootloader.c **** 
2526:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_GET_ROW_CHKSUM:
2527:Generated_Source\PSoC5/Bootloader.c **** 
2528:Generated_Source\PSoC5/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize == 3u)
 1391              		.loc 1 2528 0
 1392 04ce 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1393 04d2 012B     		cmp	r3, #1
 1394 04d4 40F02D81 		bne	.L132
 1395              		.loc 1 2528 0 is_stmt 0 discriminator 1
 1396 04d8 B7F8A232 		ldrh	r3, [r7, #674]
 1397 04dc 032B     		cmp	r3, #3
 1398 04de 40F02881 		bne	.L132
 1399              	.LBB11:
2529:Generated_Source\PSoC5/Bootloader.c ****                 {
2530:Generated_Source\PSoC5/Bootloader.c ****                     /* Get flash/EEPROM row number */
2531:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA rowNum = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u
 1400              		.loc 1 2531 0 is_stmt 1
 1401 04e2 07F5AA73 		add	r3, r7, #340
 1402 04e6 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1403 04e8 9BB2     		uxth	r3, r3
 1404 04ea 1B02     		lsls	r3, r3, #8
 1405 04ec 9AB2     		uxth	r2, r3
2532:Generated_Source\PSoC5/Bootloader.c ****                                                     packetBuffer[Bootloader_DATA_ADDR + 1u];
 1406              		.loc 1 2532 0
 1407 04ee 07F5AA73 		add	r3, r7, #340
 1408 04f2 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
2531:Generated_Source\PSoC5/Bootloader.c ****                                                     packetBuffer[Bootloader_DATA_ADDR + 1u];
 1409              		.loc 1 2531 0
 1410 04f4 9BB2     		uxth	r3, r3
 1411 04f6 1343     		orrs	r3, r3, r2
 1412 04f8 A7F88832 		strh	r3, [r7, #648]	@ movhi
2533:Generated_Source\PSoC5/Bootloader.c ****                     
2534:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA tmpRowNum; 
2535:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4)
2536:Generated_Source\PSoC5/Bootloader.c **** 
2537:Generated_Source\PSoC5/Bootloader.c ****                         uint32 CYDATA rowAddr;
2538:Generated_Source\PSoC5/Bootloader.c ****                         uint8 CYDATA checksum;
2539:Generated_Source\PSoC5/Bootloader.c **** 
2540:Generated_Source\PSoC5/Bootloader.c ****                         if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
 1413              		.loc 1 2540 0
 1414 04fc 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1415 0500 3F2B     		cmp	r3, #63
 1416 0502 22D9     		bls	.L105
2541:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1417              		.loc 1 2541 0 discriminator 1
 1418 0504 97F98D32 		ldrsb	r3, [r7, #653]
2540:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1419              		.loc 1 2540 0 discriminator 1
 1420 0508 002B     		cmp	r3, #0
 1421 050a 1EDB     		blt	.L105
2542:Generated_Source\PSoC5/Bootloader.c ****                         {
2543:Generated_Source\PSoC5/Bootloader.c ****                             /* EEPROM */
2544:Generated_Source\PSoC5/Bootloader.c ****                             CyEEPROM_Start();
 1422              		.loc 1 2544 0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 71


 1423 050c FFF7FEFF 		bl	CyEEPROM_Start
2545:Generated_Source\PSoC5/Bootloader.c ****                             /* Both PSoC 3 and PSoC 5LP architecture have one EEPROM array. */
2546:Generated_Source\PSoC5/Bootloader.c ****                             rowAddr = (uint32)rowNum * CYDEV_EEPROM_ROW_SIZE;
 1424              		.loc 1 2546 0
 1425 0510 B7F88832 		ldrh	r3, [r7, #648]
 1426 0514 1B01     		lsls	r3, r3, #4
 1427 0516 C7F88432 		str	r3, [r7, #644]
2547:Generated_Source\PSoC5/Bootloader.c ****                             
2548:Generated_Source\PSoC5/Bootloader.c ****                             /* Checking if row number is within array address range */
2549:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
 1428              		.loc 1 2549 0
 1429 051a B7F88832 		ldrh	r3, [r7, #648]
 1430 051e 7F2B     		cmp	r3, #127
 1431 0520 01D8     		bhi	.L106
 1432              		.loc 1 2549 0 is_stmt 0 discriminator 1
 1433 0522 0023     		movs	r3, #0
 1434 0524 00E0     		b	.L107
 1435              	.L106:
 1436              		.loc 1 2549 0 discriminator 2
 1437 0526 0A23     		movs	r3, #10
 1438              	.L107:
 1439              		.loc 1 2549 0 discriminator 4
 1440 0528 87F8A532 		strb	r3, [r7, #677]
2550:Generated_Source\PSoC5/Bootloader.c ****                                 (Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF_ROWS_IN
2551:Generated_Source\PSoC5/Bootloader.c ****                     
2552:Generated_Source\PSoC5/Bootloader.c ****                             if (CYRET_SUCCESS != ackCode)
 1441              		.loc 1 2552 0 is_stmt 1 discriminator 4
 1442 052c 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1443 0530 002B     		cmp	r3, #0
 1444 0532 40F00081 		bne	.L133
2553:Generated_Source\PSoC5/Bootloader.c ****                             {
2554:Generated_Source\PSoC5/Bootloader.c ****                                 break;
2555:Generated_Source\PSoC5/Bootloader.c ****                             }
2556:Generated_Source\PSoC5/Bootloader.c **** 
2557:Generated_Source\PSoC5/Bootloader.c ****                             checksum = Bootloader_Calc8BitSum(CY_EEPROM_BASE, rowAddr, CYDEV_EEPROM
 1445              		.loc 1 2557 0
 1446 0536 1022     		movs	r2, #16
 1447 0538 D7F88412 		ldr	r1, [r7, #644]
 1448 053c 0C48     		ldr	r0, .L135+8
 1449 053e FFF7FEFF 		bl	Bootloader_Calc8BitSum
 1450 0542 0346     		mov	r3, r0
 1451 0544 87F89732 		strb	r3, [r7, #663]
 1452 0548 26E0     		b	.L109
 1453              	.L105:
2558:Generated_Source\PSoC5/Bootloader.c ****                         }
2559:Generated_Source\PSoC5/Bootloader.c ****                         else
2560:Generated_Source\PSoC5/Bootloader.c ****                         {
2561:Generated_Source\PSoC5/Bootloader.c ****                             /* flash */ 
2562:Generated_Source\PSoC5/Bootloader.c ****                             rowAddr = ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
 1454              		.loc 1 2562 0
 1455 054a 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
2563:Generated_Source\PSoC5/Bootloader.c ****                                        + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
 1456              		.loc 1 2563 0
 1457 054e 1A02     		lsls	r2, r3, #8
 1458 0550 B7F88832 		ldrh	r3, [r7, #648]
 1459 0554 1344     		add	r3, r3, r2
2562:Generated_Source\PSoC5/Bootloader.c ****                                        + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 72


 1460              		.loc 1 2562 0
 1461 0556 1B02     		lsls	r3, r3, #8
 1462 0558 C7F88432 		str	r3, [r7, #644]
2564:Generated_Source\PSoC5/Bootloader.c **** 
2565:Generated_Source\PSoC5/Bootloader.c ****                             /* Checking if row number is within array address range */
2566:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
 1463              		.loc 1 2566 0
 1464 055c B7F88832 		ldrh	r3, [r7, #648]
 1465 0560 FF2B     		cmp	r3, #255
 1466 0562 07D8     		bhi	.L110
 1467              		.loc 1 2566 0 is_stmt 0 discriminator 1
 1468 0564 0023     		movs	r3, #0
 1469 0566 06E0     		b	.L111
 1470              	.L136:
 1471              		.align	2
 1472              	.L135:
 1473 0568 00000000 		.word	Bootloader_SizeBytesAccess
 1474 056c 00000000 		.word	.LC0
 1475 0570 00800040 		.word	1073774592
 1476              	.L110:
 1477              		.loc 1 2566 0 discriminator 2
 1478 0574 0A23     		movs	r3, #10
 1479              	.L111:
 1480              		.loc 1 2566 0 discriminator 4
 1481 0576 87F8A532 		strb	r3, [r7, #677]
2567:Generated_Source\PSoC5/Bootloader.c ****                                                        Bootloader_NUMBER_OF_ROWS_IN_ARRAY);
2568:Generated_Source\PSoC5/Bootloader.c ****                     
2569:Generated_Source\PSoC5/Bootloader.c ****                             if (CYRET_SUCCESS != ackCode)
 1482              		.loc 1 2569 0 is_stmt 1 discriminator 4
 1483 057a 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1484 057e 002B     		cmp	r3, #0
 1485 0580 40F0DB80 		bne	.L134
2570:Generated_Source\PSoC5/Bootloader.c ****                             {
2571:Generated_Source\PSoC5/Bootloader.c ****                                 break;
2572:Generated_Source\PSoC5/Bootloader.c ****                             }                            
2573:Generated_Source\PSoC5/Bootloader.c **** 
2574:Generated_Source\PSoC5/Bootloader.c ****                             checksum = Bootloader_Calc8BitSum(CY_FLASH_BASE, rowAddr, CYDEV_FLS_ROW
 1486              		.loc 1 2574 0
 1487 0584 4FF48072 		mov	r2, #256
 1488 0588 D7F88412 		ldr	r1, [r7, #644]
 1489 058c 0020     		movs	r0, #0
 1490 058e FFF7FEFF 		bl	Bootloader_Calc8BitSum
 1491 0592 0346     		mov	r3, r0
 1492 0594 87F89732 		strb	r3, [r7, #663]
 1493              	.L109:
2575:Generated_Source\PSoC5/Bootloader.c ****                         }
2576:Generated_Source\PSoC5/Bootloader.c **** 
2577:Generated_Source\PSoC5/Bootloader.c ****                     #else
2578:Generated_Source\PSoC5/Bootloader.c **** 
2579:Generated_Source\PSoC5/Bootloader.c ****                         uint32 CYDATA rowAddr = ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
2580:Generated_Source\PSoC5/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
2581:Generated_Source\PSoC5/Bootloader.c ****                         
2582:Generated_Source\PSoC5/Bootloader.c ****                         uint8 CYDATA checksum;
2583:Generated_Source\PSoC5/Bootloader.c ****                          
2584:Generated_Source\PSoC5/Bootloader.c ****                         /* Checking if row number is within array address range */
2585:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
2586:Generated_Source\PSoC5/Bootloader.c ****                                                        Bootloader_NUMBER_OF_ROWS_IN_ARRAY);
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 73


2587:Generated_Source\PSoC5/Bootloader.c ****                     
2588:Generated_Source\PSoC5/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
2589:Generated_Source\PSoC5/Bootloader.c ****                         {
2590:Generated_Source\PSoC5/Bootloader.c ****                             break;
2591:Generated_Source\PSoC5/Bootloader.c ****                         }                     
2592:Generated_Source\PSoC5/Bootloader.c **** 
2593:Generated_Source\PSoC5/Bootloader.c ****                         checksum = Bootloader_Calc8BitSum(CY_FLASH_BASE, rowAddr, CYDEV_FLS_ROW_SIZ
2594:Generated_Source\PSoC5/Bootloader.c **** 
2595:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (!CY_PSOC4) */
2596:Generated_Source\PSoC5/Bootloader.c **** 
2597:Generated_Source\PSoC5/Bootloader.c **** 
2598:Generated_Source\PSoC5/Bootloader.c ****                     /* Calculate checksum on data from ECC */
2599:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u)
2600:Generated_Source\PSoC5/Bootloader.c **** 
2601:Generated_Source\PSoC5/Bootloader.c ****                         if(btldrData <= Bootloader_LAST_FLASH_ARRAYID)
 1494              		.loc 1 2601 0
 1495 0598 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1496 059c 3F2B     		cmp	r3, #63
 1497 059e 23D8     		bhi	.L113
 1498              	.LBB12:
2602:Generated_Source\PSoC5/Bootloader.c ****                         {
2603:Generated_Source\PSoC5/Bootloader.c ****                             uint16 CYDATA tmpIndex;
2604:Generated_Source\PSoC5/Bootloader.c **** 
2605:Generated_Source\PSoC5/Bootloader.c ****                             rowAddr = CYDEV_ECC_BASE + ((uint32)btldrData * (CYDEV_FLS_SECTOR_SIZE 
 1499              		.loc 1 2605 0
 1500 05a0 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
2606:Generated_Source\PSoC5/Bootloader.c ****                                         + ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
 1501              		.loc 1 2606 0
 1502 05a4 03F51033 		add	r3, r3, #147456
 1503 05a8 1A02     		lsls	r2, r3, #8
 1504 05aa B7F88832 		ldrh	r3, [r7, #648]
 1505 05ae 1344     		add	r3, r3, r2
2605:Generated_Source\PSoC5/Bootloader.c ****                                         + ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
 1506              		.loc 1 2605 0
 1507 05b0 5B01     		lsls	r3, r3, #5
 1508 05b2 C7F88432 		str	r3, [r7, #644]
2607:Generated_Source\PSoC5/Bootloader.c **** 
2608:Generated_Source\PSoC5/Bootloader.c ****                             for(tmpIndex = 0u; tmpIndex < CYDEV_ECC_ROW_SIZE; tmpIndex++)
 1509              		.loc 1 2608 0
 1510 05b6 0023     		movs	r3, #0
 1511 05b8 A7F89432 		strh	r3, [r7, #660]	@ movhi
 1512 05bc 10E0     		b	.L114
 1513              	.L115:
2609:Generated_Source\PSoC5/Bootloader.c ****                             {
2610:Generated_Source\PSoC5/Bootloader.c ****                                 checksum += CY_GET_XTND_REG8((uint8 CYFAR *)(rowAddr + tmpIndex));
 1514              		.loc 1 2610 0 discriminator 3
 1515 05be B7F89422 		ldrh	r2, [r7, #660]
 1516 05c2 D7F88432 		ldr	r3, [r7, #644]
 1517 05c6 1344     		add	r3, r3, r2
 1518 05c8 1B78     		ldrb	r3, [r3]
 1519 05ca DAB2     		uxtb	r2, r3
 1520 05cc 97F89732 		ldrb	r3, [r7, #663]
 1521 05d0 1344     		add	r3, r3, r2
 1522 05d2 87F89732 		strb	r3, [r7, #663]
2608:Generated_Source\PSoC5/Bootloader.c ****                             {
 1523              		.loc 1 2608 0 discriminator 3
 1524 05d6 B7F89432 		ldrh	r3, [r7, #660]
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 74


 1525 05da 0133     		adds	r3, r3, #1
 1526 05dc A7F89432 		strh	r3, [r7, #660]	@ movhi
 1527              	.L114:
2608:Generated_Source\PSoC5/Bootloader.c ****                             {
 1528              		.loc 1 2608 0 is_stmt 0 discriminator 1
 1529 05e0 B7F89432 		ldrh	r3, [r7, #660]
 1530 05e4 1F2B     		cmp	r3, #31
 1531 05e6 EAD9     		bls	.L115
 1532              	.L113:
 1533              	.LBE12:
2611:Generated_Source\PSoC5/Bootloader.c ****                             }
2612:Generated_Source\PSoC5/Bootloader.c ****                         }
2613:Generated_Source\PSoC5/Bootloader.c **** 
2614:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u) */
2615:Generated_Source\PSoC5/Bootloader.c **** 
2616:Generated_Source\PSoC5/Bootloader.c **** 
2617:Generated_Source\PSoC5/Bootloader.c ****                     /******************************************************************************
2618:Generated_Source\PSoC5/Bootloader.c ****                     * App Verified & App Active are information updated in flash at the runtime.
2619:Generated_Source\PSoC5/Bootloader.c ****                     * Remove these items from the checksum to allow the host to verify if everythin
2620:Generated_Source\PSoC5/Bootloader.c ****                     * correct.
2621:Generated_Source\PSoC5/Bootloader.c ****                      ******************************************************************************
2622:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4)
2623:Generated_Source\PSoC5/Bootloader.c ****                         tmpRowNum = rowNum; 
 1534              		.loc 1 2623 0 is_stmt 1
 1535 05e8 B7F88832 		ldrh	r3, [r7, #648]	@ movhi
 1536 05ec A7F88232 		strh	r3, [r7, #642]	@ movhi
2624:Generated_Source\PSoC5/Bootloader.c ****                     #else
2625:Generated_Source\PSoC5/Bootloader.c ****                         tmpRowNum = rowNum + ((uint16)(Bootloader_NUMBER_OF_ROWS_IN_ARRAY * btldrDa
2626:Generated_Source\PSoC5/Bootloader.c ****                     #endif
2627:Generated_Source\PSoC5/Bootloader.c ****                     
2628:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_MD_FLASH_ARRAY_NUM == btldrData) && (Bootloader_CONTAIN_METADATA
 1537              		.loc 1 2628 0
 1538 05f0 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1539 05f4 032B     		cmp	r3, #3
 1540 05f6 19D1     		bne	.L116
 1541              		.loc 1 2628 0 is_stmt 0 discriminator 1
 1542 05f8 B7F88232 		ldrh	r3, [r7, #642]
 1543 05fc FF2B     		cmp	r3, #255
 1544 05fe 15D1     		bne	.L116
2629:Generated_Source\PSoC5/Bootloader.c ****                     {
2630:Generated_Source\PSoC5/Bootloader.c **** 
2631:Generated_Source\PSoC5/Bootloader.c ****                         checksum -= (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE,
 1545              		.loc 1 2631 0 is_stmt 1
 1546 0600 0021     		movs	r1, #0
 1547 0602 0520     		movs	r0, #5
 1548 0604 FFF7FEFF 		bl	Bootloader_GetMetadata
 1549 0608 0346     		mov	r3, r0
 1550 060a DBB2     		uxtb	r3, r3
 1551 060c 97F89722 		ldrb	r2, [r7, #663]
 1552 0610 D31A     		subs	r3, r2, r3
 1553 0612 87F89732 		strb	r3, [r7, #663]
2632:Generated_Source\PSoC5/Bootloader.c ****                                                                  Bootloader_GET_APP_ID(tmpRowNum));
2633:Generated_Source\PSoC5/Bootloader.c **** 
2634:Generated_Source\PSoC5/Bootloader.c ****                         checksum -= (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_STATUS,
 1554              		.loc 1 2634 0
 1555 0616 0021     		movs	r1, #0
 1556 0618 0620     		movs	r0, #6
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 75


 1557 061a FFF7FEFF 		bl	Bootloader_GetMetadata
 1558 061e 0346     		mov	r3, r0
 1559 0620 DBB2     		uxtb	r3, r3
 1560 0622 97F89722 		ldrb	r2, [r7, #663]
 1561 0626 D31A     		subs	r3, r2, r3
 1562 0628 87F89732 		strb	r3, [r7, #663]
 1563              	.L116:
2635:Generated_Source\PSoC5/Bootloader.c ****                                                                  Bootloader_GET_APP_ID(tmpRowNum));
2636:Generated_Source\PSoC5/Bootloader.c ****                     }
2637:Generated_Source\PSoC5/Bootloader.c **** 
2638:Generated_Source\PSoC5/Bootloader.c ****                     packetBuffer[Bootloader_DATA_ADDR] = (uint8)1u + (uint8)(~checksum);
 1564              		.loc 1 2638 0
 1565 062c 97F89732 		ldrb	r3, [r7, #663]
 1566 0630 5B42     		negs	r3, r3
 1567 0632 DAB2     		uxtb	r2, r3
 1568 0634 07F5AA73 		add	r3, r7, #340
 1569 0638 1A71     		strb	r2, [r3, #4]
2639:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1570              		.loc 1 2639 0
 1571 063a 0023     		movs	r3, #0
 1572 063c 87F8A532 		strb	r3, [r7, #677]
2640:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_VERIFY_ROW_CHKSM;
 1573              		.loc 1 2640 0
 1574 0640 0123     		movs	r3, #1
 1575 0642 A7F8A632 		strh	r3, [r7, #678]	@ movhi
 1576              	.LBE11:
2641:Generated_Source\PSoC5/Bootloader.c ****                 }
2642:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1577              		.loc 1 2642 0
 1578 0646 74E0     		b	.L132
 1579              	.L78:
2643:Generated_Source\PSoC5/Bootloader.c **** 
2644:Generated_Source\PSoC5/Bootloader.c ****             #endif /* (0u != Bootloader_CMD_GET_ROW_CHKSUM_AVAIL) */
2645:Generated_Source\PSoC5/Bootloader.c **** 
2646:Generated_Source\PSoC5/Bootloader.c **** 
2647:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2648:Generated_Source\PSoC5/Bootloader.c ****             *   Exit bootloader (0x3B)
2649:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2650:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_EXIT:
2651:Generated_Source\PSoC5/Bootloader.c **** 
2652:Generated_Source\PSoC5/Bootloader.c ****                 /*******************************************************************************
2653:Generated_Source\PSoC5/Bootloader.c ****                 * Currently the copy flag is checked in the metadata for the second application. 
2654:Generated_Source\PSoC5/Bootloader.c ****                 * If it is set, then the copy operation is required and Launcher (BTLDR) should 
2655:Generated_Source\PSoC5/Bootloader.c ****                 * be scheduled.
2656:Generated_Source\PSoC5/Bootloader.c ****                 *******************************************************************************/
2657:Generated_Source\PSoC5/Bootloader.c ****             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2658:Generated_Source\PSoC5/Bootloader.c ****                 needToCopyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, 
2659:Generated_Source\PSoC5/Bootloader.c ****                                                         Bootloader_MD_BTLDB_ACTIVE_1);             
2660:Generated_Source\PSoC5/Bootloader.c ****         
2661:Generated_Source\PSoC5/Bootloader.c ****                 /* Checking "Need to copy" flag in metadata#1 */
2662:Generated_Source\PSoC5/Bootloader.c ****                 if (0u != (needToCopyFlag & Bootloader_NEED_TO_COPY_MASK))
2663:Generated_Source\PSoC5/Bootloader.c ****                 {  
2664:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR);
2665:Generated_Source\PSoC5/Bootloader.c ****                 }
2666:Generated_Source\PSoC5/Bootloader.c ****                 else
2667:Generated_Source\PSoC5/Bootloader.c ****             #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
2668:Generated_Source\PSoC5/Bootloader.c ****         
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 76


2669:Generated_Source\PSoC5/Bootloader.c ****                 if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(Bootloader_activeApp))
 1580              		.loc 1 2669 0
 1581 0648 0020     		movs	r0, #0
 1582 064a FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 1583 064e 0346     		mov	r3, r0
 1584 0650 002B     		cmp	r3, #0
 1585 0652 02D1     		bne	.L117
2670:Generated_Source\PSoC5/Bootloader.c ****                 {
2671:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 1586              		.loc 1 2671 0
 1587 0654 464B     		ldr	r3, .L137
 1588 0656 8022     		movs	r2, #128
 1589 0658 1A70     		strb	r2, [r3]
 1590              	.L117:
2672:Generated_Source\PSoC5/Bootloader.c ****                 }
2673:Generated_Source\PSoC5/Bootloader.c ****                 
2674:Generated_Source\PSoC5/Bootloader.c ****             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2675:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_isBootloading = Bootloader_BOOTLOADING_COMPLETED;
2676:Generated_Source\PSoC5/Bootloader.c ****             #endif /* CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER */    
2677:Generated_Source\PSoC5/Bootloader.c ****             
2678:Generated_Source\PSoC5/Bootloader.c ****                 CyBtldrCommStop();
 1591              		.loc 1 2678 0
 1592 065a FFF7FEFF 		bl	UART_CyBtldrCommStop
2679:Generated_Source\PSoC5/Bootloader.c ****                         
2680:Generated_Source\PSoC5/Bootloader.c ****                 CySoftwareReset();
 1593              		.loc 1 2680 0
 1594 065e FFF7FEFF 		bl	CySoftwareReset
2681:Generated_Source\PSoC5/Bootloader.c **** 
2682:Generated_Source\PSoC5/Bootloader.c ****                 /* Will never get here */
2683:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1595              		.loc 1 2683 0
 1596 0662 6BE0     		b	.L68
 1597              	.L69:
2684:Generated_Source\PSoC5/Bootloader.c **** 
2685:Generated_Source\PSoC5/Bootloader.c **** 
2686:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2687:Generated_Source\PSoC5/Bootloader.c ****             *   Unsupported command
2688:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2689:Generated_Source\PSoC5/Bootloader.c ****             default:
2690:Generated_Source\PSoC5/Bootloader.c ****             
2691:Generated_Source\PSoC5/Bootloader.c ****             #if (!CY_PSOC3)
2692:Generated_Source\PSoC5/Bootloader.c ****                 if ((NULL != Bootloader_callback) && (Bootloader_COMMUNICATION_STATE_ACTIVE == comm
 1598              		.loc 1 2692 0
 1599 0664 434B     		ldr	r3, .L137+4
 1600 0666 1B68     		ldr	r3, [r3]
 1601 0668 002B     		cmp	r3, #0
 1602 066a 51D0     		beq	.L118
 1603              		.loc 1 2692 0 is_stmt 0 discriminator 1
 1604 066c 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1605 0670 012B     		cmp	r3, #1
 1606 0672 4DD1     		bne	.L118
 1607              	.LBB13:
2693:Generated_Source\PSoC5/Bootloader.c ****                 {
2694:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
2695:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_out_packet_type Bootloader_outPacket;
2696:Generated_Source\PSoC5/Bootloader.c **** 
2697:Generated_Source\PSoC5/Bootloader.c ****                     /* Initializing input packet */
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 77


2698:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_inPacket.command = packetBuffer[Bootloader_CMD_ADDR];
 1608              		.loc 1 2698 0 is_stmt 1
 1609 0674 07F5AA73 		add	r3, r7, #340
 1610 0678 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1611 067a 07F11803 		add	r3, r7, #24
 1612 067e 1A70     		strb	r2, [r3]
2699:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_inPacket.packetLength = pktSize;
 1613              		.loc 1 2699 0
 1614 0680 07F11803 		add	r3, r7, #24
 1615 0684 B7F8A222 		ldrh	r2, [r7, #674]	@ movhi
 1616 0688 5A80     		strh	r2, [r3, #2]	@ movhi
2700:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_inPacket.pInputBuffer = &packetBuffer[Bootloader_DATA_ADDR];
 1617              		.loc 1 2700 0
 1618 068a 07F11803 		add	r3, r7, #24
 1619 068e 07F5AA72 		add	r2, r7, #340
 1620 0692 0432     		adds	r2, r2, #4
 1621 0694 5A60     		str	r2, [r3, #4]
2701:Generated_Source\PSoC5/Bootloader.c ****                                         
2702:Generated_Source\PSoC5/Bootloader.c ****                     /* Clearing and setting output packet */
2703:Generated_Source\PSoC5/Bootloader.c ****                     (void) memset(&Bootloader_outPacket, 0, sizeof(Bootloader_outPacket));
 1622              		.loc 1 2703 0
 1623 0696 07F10C03 		add	r3, r7, #12
 1624 069a 0C22     		movs	r2, #12
 1625 069c 0021     		movs	r1, #0
 1626 069e 1846     		mov	r0, r3
 1627 06a0 FFF7FEFF 		bl	memset
2704:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_outPacket.pOutputBuffer = &packetBuffer[Bootloader_DATA_ADDR];
 1628              		.loc 1 2704 0
 1629 06a4 07F10C03 		add	r3, r7, #12
 1630 06a8 07F5AA72 		add	r2, r7, #340
 1631 06ac 0432     		adds	r2, r2, #4
 1632 06ae 9A60     		str	r2, [r3, #8]
2705:Generated_Source\PSoC5/Bootloader.c ****                     
2706:Generated_Source\PSoC5/Bootloader.c ****                     /* Callback */
2707:Generated_Source\PSoC5/Bootloader.c ****                     (void) Bootloader_callback(&Bootloader_inPacket, &Bootloader_outPacket);
 1633              		.loc 1 2707 0
 1634 06b0 304B     		ldr	r3, .L137+4
 1635 06b2 1B68     		ldr	r3, [r3]
 1636 06b4 07F10C01 		add	r1, r7, #12
 1637 06b8 07F11802 		add	r2, r7, #24
 1638 06bc 1046     		mov	r0, r2
 1639 06be 9847     		blx	r3
2708:Generated_Source\PSoC5/Bootloader.c **** 
2709:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_outPacket.packetLength;
 1640              		.loc 1 2709 0
 1641 06c0 07F10C03 		add	r3, r7, #12
 1642 06c4 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1643 06c6 A7F8A632 		strh	r3, [r7, #678]	@ movhi
2710:Generated_Source\PSoC5/Bootloader.c ****                     if (((rspSize > (Bootloader_SIZEOF_COMMAND_BUFFER - Bootloader_MIN_PKT_SIZE)) &
 1644              		.loc 1 2710 0
 1645 06ca B7F8A632 		ldrh	r3, [r7, #678]
 1646 06ce B3F5937F 		cmp	r3, #294
 1647 06d2 07D3     		bcc	.L119
2711:Generated_Source\PSoC5/Bootloader.c ****                          (Bootloader_outPacket.pOutputBuffer == &packetBuffer[Bootloader_DATA_ADDR]
 1648              		.loc 1 2711 0 discriminator 1
 1649 06d4 07F10C03 		add	r3, r7, #12
 1650 06d8 9A68     		ldr	r2, [r3, #8]
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 78


2710:Generated_Source\PSoC5/Bootloader.c ****                     if (((rspSize > (Bootloader_SIZEOF_COMMAND_BUFFER - Bootloader_MIN_PKT_SIZE)) &
 1651              		.loc 1 2710 0 discriminator 1
 1652 06da 07F5AA73 		add	r3, r7, #340
 1653 06de 0433     		adds	r3, r3, #4
 1654 06e0 9A42     		cmp	r2, r3
 1655 06e2 08D0     		beq	.L120
 1656              	.L119:
2712:Generated_Source\PSoC5/Bootloader.c ****                         ((NULL == Bootloader_outPacket.pOutputBuffer) && (0u != rspSize)))
 1657              		.loc 1 2712 0
 1658 06e4 07F10C03 		add	r3, r7, #12
 1659 06e8 9B68     		ldr	r3, [r3, #8]
2711:Generated_Source\PSoC5/Bootloader.c ****                          (Bootloader_outPacket.pOutputBuffer == &packetBuffer[Bootloader_DATA_ADDR]
 1660              		.loc 1 2711 0
 1661 06ea 002B     		cmp	r3, #0
 1662 06ec 0AD1     		bne	.L121
 1663              		.loc 1 2712 0
 1664 06ee B7F8A632 		ldrh	r3, [r7, #678]
 1665 06f2 002B     		cmp	r3, #0
 1666 06f4 06D0     		beq	.L121
 1667              	.L120:
2713:Generated_Source\PSoC5/Bootloader.c ****                     {                    
2714:Generated_Source\PSoC5/Bootloader.c ****                         /* One of returned parameters is wrong */
2715:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_CALLBACK;
 1668              		.loc 1 2715 0
 1669 06f6 0E23     		movs	r3, #14
 1670 06f8 87F8A532 		strb	r3, [r7, #677]
2716:Generated_Source\PSoC5/Bootloader.c ****                         rspSize = 0u;
 1671              		.loc 1 2716 0
 1672 06fc 0023     		movs	r3, #0
 1673 06fe A7F8A632 		strh	r3, [r7, #678]	@ movhi
 1674              	.LBE13:
2693:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
 1675              		.loc 1 2693 0
 1676 0702 09E0     		b	.L123
 1677              	.L121:
 1678              	.LBB14:
2717:Generated_Source\PSoC5/Bootloader.c ****                     }
2718:Generated_Source\PSoC5/Bootloader.c ****                     else /* Everything is OK */
2719:Generated_Source\PSoC5/Bootloader.c ****                     {
2720:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = (uint8)Bootloader_outPacket.status;
 1679              		.loc 1 2720 0
 1680 0704 07F10C03 		add	r3, r7, #12
 1681 0708 1B68     		ldr	r3, [r3]
 1682 070a 87F8A532 		strb	r3, [r7, #677]
 1683              	.LBE14:
2693:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
 1684              		.loc 1 2693 0
 1685 070e 03E0     		b	.L123
 1686              	.L118:
2721:Generated_Source\PSoC5/Bootloader.c ****                     }
2722:Generated_Source\PSoC5/Bootloader.c ****                 }    
2723:Generated_Source\PSoC5/Bootloader.c ****                 else /* No callback function defined, so return "Error Command" status */
2724:Generated_Source\PSoC5/Bootloader.c ****             #endif /* (!CY_PSOC3) */
2725:Generated_Source\PSoC5/Bootloader.c ****                 {
2726:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_CMD;
 1687              		.loc 1 2726 0
 1688 0710 0523     		movs	r3, #5
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 79


 1689 0712 87F8A532 		strb	r3, [r7, #677]
2727:Generated_Source\PSoC5/Bootloader.c ****                 }    
2728:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1690              		.loc 1 2728 0
 1691 0716 11E0     		b	.L68
 1692              	.L123:
 1693              		.loc 1 2728 0 is_stmt 0 discriminator 2
 1694 0718 10E0     		b	.L68
 1695              	.L126:
1828:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL) */
 1696              		.loc 1 1828 0 is_stmt 1
 1697 071a 00BF     		nop
 1698 071c 0EE0     		b	.L68
 1699              	.L127:
2017:Generated_Source\PSoC5/Bootloader.c **** 
 1700              		.loc 1 2017 0
 1701 071e 00BF     		nop
 1702 0720 0CE0     		b	.L68
 1703              	.L128:
2361:Generated_Source\PSoC5/Bootloader.c **** 
 1704              		.loc 1 2361 0
 1705 0722 00BF     		nop
 1706 0724 0AE0     		b	.L68
 1707              	.L129:
 1708              	.LBB15:
 1709              	.LBB9:
2154:Generated_Source\PSoC5/Bootloader.c ****                         }
 1710              		.loc 1 2154 0
 1711 0726 00BF     		nop
 1712 0728 08E0     		b	.L68
 1713              	.L130:
 1714              	.LBE9:
 1715              	.LBE15:
2379:Generated_Source\PSoC5/Bootloader.c **** 
 1716              		.loc 1 2379 0
 1717 072a 00BF     		nop
 1718 072c 06E0     		b	.L68
 1719              	.L131:
2443:Generated_Source\PSoC5/Bootloader.c **** 
 1720              		.loc 1 2443 0
 1721 072e 00BF     		nop
 1722 0730 04E0     		b	.L68
 1723              	.L132:
2642:Generated_Source\PSoC5/Bootloader.c **** 
 1724              		.loc 1 2642 0
 1725 0732 00BF     		nop
 1726 0734 02E0     		b	.L68
 1727              	.L133:
 1728              	.LBB16:
2554:Generated_Source\PSoC5/Bootloader.c ****                             }
 1729              		.loc 1 2554 0
 1730 0736 00BF     		nop
 1731 0738 00E0     		b	.L68
 1732              	.L134:
2571:Generated_Source\PSoC5/Bootloader.c ****                             }                            
 1733              		.loc 1 2571 0
 1734 073a 00BF     		nop
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 80


 1735              	.L68:
 1736              	.LBE16:
 1737              	.LBE5:
2729:Generated_Source\PSoC5/Bootloader.c ****             }
2730:Generated_Source\PSoC5/Bootloader.c ****         }
2731:Generated_Source\PSoC5/Bootloader.c **** 
2732:Generated_Source\PSoC5/Bootloader.c ****         /* Reply with acknowledge or not acknowledge packet */
2733:Generated_Source\PSoC5/Bootloader.c ****         (void) Bootloader_WritePacket(ackCode, packetBuffer, rspSize);
 1738              		.loc 1 2733 0
 1739 073c B7F8A622 		ldrh	r2, [r7, #678]
 1740 0740 07F5AA71 		add	r1, r7, #340
 1741 0744 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1742 0748 1846     		mov	r0, r3
 1743 074a FFF7FEFF 		bl	Bootloader_WritePacket
 1744 074e 00E0     		b	.L61
 1745              	.L125:
1722:Generated_Source\PSoC5/Bootloader.c ****         }
 1746              		.loc 1 1722 0
 1747 0750 00BF     		nop
 1748              	.L61:
2734:Generated_Source\PSoC5/Bootloader.c ****    
2735:Generated_Source\PSoC5/Bootloader.c ****     } while ((0u == timeOut) || (Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState));
 1749              		.loc 1 2735 0
 1750 0752 FB1D     		adds	r3, r7, #7
 1751 0754 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1752 0756 002B     		cmp	r3, #0
 1753 0758 3FF470AC 		beq	.L124
 1754              		.loc 1 2735 0 is_stmt 0 discriminator 1
 1755 075c 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1756 0760 012B     		cmp	r3, #1
 1757 0762 3FF46BAC 		beq	.L124
2736:Generated_Source\PSoC5/Bootloader.c **** }
 1758              		.loc 1 2736 0 is_stmt 1
 1759 0766 00BF     		nop
 1760 0768 07F52A77 		add	r7, r7, #680
 1761              		.cfi_def_cfa_offset 8
 1762 076c BD46     		mov	sp, r7
 1763              		.cfi_def_cfa_register 13
 1764              		@ sp needed
 1765 076e 80BD     		pop	{r7, pc}
 1766              	.L138:
 1767              		.align	2
 1768              	.L137:
 1769 0770 FA460040 		.word	1073759994
 1770 0774 00000000 		.word	Bootloader_callback
 1771              		.cfi_endproc
 1772              	.LFE72:
 1773              		.size	Bootloader_HostLink, .-Bootloader_HostLink
 1774              		.section	.text.Bootloader_WritePacket,"ax",%progbits
 1775              		.align	2
 1776              		.thumb
 1777              		.thumb_func
 1778              		.type	Bootloader_WritePacket, %function
 1779              	Bootloader_WritePacket:
 1780              	.LFB73:
2737:Generated_Source\PSoC5/Bootloader.c **** 
2738:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 81


2739:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
2740:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_WritePacket
2741:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
2742:Generated_Source\PSoC5/Bootloader.c **** * \internal
2743:Generated_Source\PSoC5/Bootloader.c **** *
2744:Generated_Source\PSoC5/Bootloader.c **** * \brief
2745:Generated_Source\PSoC5/Bootloader.c **** *  Creates a bootloader response packet and transmits it back to the bootloader
2746:Generated_Source\PSoC5/Bootloader.c **** *  host application over the already established communications protocol.
2747:Generated_Source\PSoC5/Bootloader.c **** *
2748:Generated_Source\PSoC5/Bootloader.c **** *  \param status
2749:Generated_Source\PSoC5/Bootloader.c **** *      The status code to pass back as the second byte of the packet.
2750:Generated_Source\PSoC5/Bootloader.c **** *  \param buffer
2751:Generated_Source\PSoC5/Bootloader.c **** *      The buffer containing the data portion of the packet.
2752:Generated_Source\PSoC5/Bootloader.c **** *  \param size
2753:Generated_Source\PSoC5/Bootloader.c **** *      The number of bytes contained within the buffer to pass back.
2754:Generated_Source\PSoC5/Bootloader.c **** *
2755:Generated_Source\PSoC5/Bootloader.c **** * \return
2756:Generated_Source\PSoC5/Bootloader.c **** *   CYRET_SUCCESS if successful. Any other non-zero value if a failure occurred.
2757:Generated_Source\PSoC5/Bootloader.c **** *
2758:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
2759:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
2760:Generated_Source\PSoC5/Bootloader.c **** static cystatus Bootloader_WritePacket(uint8 status, uint8 buffer[], uint16 size) CYSMALL \
2761:Generated_Source\PSoC5/Bootloader.c ****                                             
2762:Generated_Source\PSoC5/Bootloader.c **** {
 1781              		.loc 1 2762 0
 1782              		.cfi_startproc
 1783              		@ args = 0, pretend = 0, frame = 16
 1784              		@ frame_needed = 1, uses_anonymous_args = 0
 1785 0000 80B5     		push	{r7, lr}
 1786              		.cfi_def_cfa_offset 8
 1787              		.cfi_offset 7, -8
 1788              		.cfi_offset 14, -4
 1789 0002 84B0     		sub	sp, sp, #16
 1790              		.cfi_def_cfa_offset 24
 1791 0004 00AF     		add	r7, sp, #0
 1792              		.cfi_def_cfa_register 7
 1793 0006 0346     		mov	r3, r0
 1794 0008 3960     		str	r1, [r7]
 1795 000a FB71     		strb	r3, [r7, #7]
 1796 000c 1346     		mov	r3, r2	@ movhi
 1797 000e BB80     		strh	r3, [r7, #4]	@ movhi
2763:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA checksum;
2764:Generated_Source\PSoC5/Bootloader.c **** 
2765:Generated_Source\PSoC5/Bootloader.c ****     /* Start of packet. */
2766:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_SOP_ADDR]      = Bootloader_SOP;
 1798              		.loc 1 2766 0
 1799 0010 3B68     		ldr	r3, [r7]
 1800 0012 0122     		movs	r2, #1
 1801 0014 1A70     		strb	r2, [r3]
2767:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_CMD_ADDR]      = status;
 1802              		.loc 1 2767 0
 1803 0016 3B68     		ldr	r3, [r7]
 1804 0018 0133     		adds	r3, r3, #1
 1805 001a FA79     		ldrb	r2, [r7, #7]
 1806 001c 1A70     		strb	r2, [r3]
2768:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_SIZE_ADDR]     = LO8(size);
 1807              		.loc 1 2768 0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 82


 1808 001e 3B68     		ldr	r3, [r7]
 1809 0020 0233     		adds	r3, r3, #2
 1810 0022 BA88     		ldrh	r2, [r7, #4]
 1811 0024 D2B2     		uxtb	r2, r2
 1812 0026 1A70     		strb	r2, [r3]
2769:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_SIZE_ADDR + 1u] = HI8(size);
 1813              		.loc 1 2769 0
 1814 0028 3B68     		ldr	r3, [r7]
 1815 002a 0333     		adds	r3, r3, #3
 1816 002c BA88     		ldrh	r2, [r7, #4]
 1817 002e 120A     		lsrs	r2, r2, #8
 1818 0030 92B2     		uxth	r2, r2
 1819 0032 D2B2     		uxtb	r2, r2
 1820 0034 1A70     		strb	r2, [r3]
2770:Generated_Source\PSoC5/Bootloader.c **** 
2771:Generated_Source\PSoC5/Bootloader.c ****     /* Compute checksum. */
2772:Generated_Source\PSoC5/Bootloader.c ****     checksum = Bootloader_CalcPacketChecksum(buffer, size + Bootloader_DATA_ADDR);
 1821              		.loc 1 2772 0
 1822 0036 BB88     		ldrh	r3, [r7, #4]
 1823 0038 0433     		adds	r3, r3, #4
 1824 003a 9BB2     		uxth	r3, r3
 1825 003c 1946     		mov	r1, r3
 1826 003e 3868     		ldr	r0, [r7]
 1827 0040 FFF7FEFF 		bl	Bootloader_CalcPacketChecksum
 1828 0044 0346     		mov	r3, r0
 1829 0046 FB81     		strh	r3, [r7, #14]	@ movhi
2773:Generated_Source\PSoC5/Bootloader.c **** 
2774:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_CHK_ADDR(size)]     = LO8(checksum);
 1830              		.loc 1 2774 0
 1831 0048 BB88     		ldrh	r3, [r7, #4]
 1832 004a 0433     		adds	r3, r3, #4
 1833 004c 3A68     		ldr	r2, [r7]
 1834 004e 1344     		add	r3, r3, r2
 1835 0050 FA89     		ldrh	r2, [r7, #14]	@ movhi
 1836 0052 D2B2     		uxtb	r2, r2
 1837 0054 1A70     		strb	r2, [r3]
2775:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_CHK_ADDR(1u + size)] = HI8(checksum);
 1838              		.loc 1 2775 0
 1839 0056 BB88     		ldrh	r3, [r7, #4]
 1840 0058 0533     		adds	r3, r3, #5
 1841 005a 3A68     		ldr	r2, [r7]
 1842 005c 1344     		add	r3, r3, r2
 1843 005e FA89     		ldrh	r2, [r7, #14]
 1844 0060 120A     		lsrs	r2, r2, #8
 1845 0062 92B2     		uxth	r2, r2
 1846 0064 D2B2     		uxtb	r2, r2
 1847 0066 1A70     		strb	r2, [r3]
2776:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_EOP_ADDR(size)]     = Bootloader_EOP;
 1848              		.loc 1 2776 0
 1849 0068 BB88     		ldrh	r3, [r7, #4]
 1850 006a 0633     		adds	r3, r3, #6
 1851 006c 3A68     		ldr	r2, [r7]
 1852 006e 1344     		add	r3, r3, r2
 1853 0070 1722     		movs	r2, #23
 1854 0072 1A70     		strb	r2, [r3]
2777:Generated_Source\PSoC5/Bootloader.c **** 
2778:Generated_Source\PSoC5/Bootloader.c ****     /* Start packet transmit. */
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 83


2779:Generated_Source\PSoC5/Bootloader.c ****     return(CyBtldrCommWrite(buffer, size + Bootloader_MIN_PKT_SIZE, &size, 150u));
 1855              		.loc 1 2779 0
 1856 0074 BB88     		ldrh	r3, [r7, #4]
 1857 0076 0733     		adds	r3, r3, #7
 1858 0078 99B2     		uxth	r1, r3
 1859 007a 3A1D     		adds	r2, r7, #4
 1860 007c 9623     		movs	r3, #150
 1861 007e 3868     		ldr	r0, [r7]
 1862 0080 FFF7FEFF 		bl	UART_CyBtldrCommWrite
 1863 0084 0346     		mov	r3, r0
2780:Generated_Source\PSoC5/Bootloader.c **** }
 1864              		.loc 1 2780 0
 1865 0086 1846     		mov	r0, r3
 1866 0088 1037     		adds	r7, r7, #16
 1867              		.cfi_def_cfa_offset 8
 1868 008a BD46     		mov	sp, r7
 1869              		.cfi_def_cfa_register 13
 1870              		@ sp needed
 1871 008c 80BD     		pop	{r7, pc}
 1872              		.cfi_endproc
 1873              	.LFE73:
 1874              		.size	Bootloader_WritePacket, .-Bootloader_WritePacket
 1875 008e 00BF     		.section	.text.Bootloader_SetFlashByte,"ax",%progbits
 1876              		.align	2
 1877              		.global	Bootloader_SetFlashByte
 1878              		.thumb
 1879              		.thumb_func
 1880              		.type	Bootloader_SetFlashByte, %function
 1881              	Bootloader_SetFlashByte:
 1882              	.LFB74:
2781:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)*/
2782:Generated_Source\PSoC5/Bootloader.c **** 
2783:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
2784:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_SetFlashByte
2785:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
2786:Generated_Source\PSoC5/Bootloader.c **** *
2787:Generated_Source\PSoC5/Bootloader.c **** * \brief
2788:Generated_Source\PSoC5/Bootloader.c **** *  Writes a byte to the specified flash memory location.
2789:Generated_Source\PSoC5/Bootloader.c **** *
2790:Generated_Source\PSoC5/Bootloader.c **** * \param address
2791:Generated_Source\PSoC5/Bootloader.c **** *      The address in flash memory where data will be written.
2792:Generated_Source\PSoC5/Bootloader.c **** * \param runType:
2793:Generated_Source\PSoC5/Bootloader.c **** *      The byte to be written.
2794:Generated_Source\PSoC5/Bootloader.c **** *
2795:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
2796:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_SetFlashByte(uint32 address, uint8 runType) 
2797:Generated_Source\PSoC5/Bootloader.c **** {
 1883              		.loc 1 2797 0
 1884              		.cfi_startproc
 1885              		@ args = 0, pretend = 0, frame = 280
 1886              		@ frame_needed = 1, uses_anonymous_args = 0
 1887 0000 80B5     		push	{r7, lr}
 1888              		.cfi_def_cfa_offset 8
 1889              		.cfi_offset 7, -8
 1890              		.cfi_offset 14, -4
 1891 0002 C6B0     		sub	sp, sp, #280
 1892              		.cfi_def_cfa_offset 288
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 84


 1893 0004 00AF     		add	r7, sp, #0
 1894              		.cfi_def_cfa_register 7
 1895 0006 3B1D     		adds	r3, r7, #4
 1896 0008 1860     		str	r0, [r3]
 1897 000a 0A46     		mov	r2, r1
 1898 000c FB1C     		adds	r3, r7, #3
 1899 000e 1A70     		strb	r2, [r3]
2798:Generated_Source\PSoC5/Bootloader.c ****     uint32 flsAddr = address - CYDEV_FLASH_BASE;
 1900              		.loc 1 2798 0
 1901 0010 3B1D     		adds	r3, r7, #4
 1902 0012 1B68     		ldr	r3, [r3]
 1903 0014 C7F81031 		str	r3, [r7, #272]
2799:Generated_Source\PSoC5/Bootloader.c ****     uint8  rowData[CYDEV_FLS_ROW_SIZE];
2800:Generated_Source\PSoC5/Bootloader.c **** 
2801:Generated_Source\PSoC5/Bootloader.c ****     #if !(CY_PSOC4)
2802:Generated_Source\PSoC5/Bootloader.c ****         uint8 arrayId = ( uint8 )(flsAddr / CYDEV_FLS_SECTOR_SIZE);
 1904              		.loc 1 2802 0
 1905 0018 D7F81031 		ldr	r3, [r7, #272]
 1906 001c 1B0C     		lsrs	r3, r3, #16
 1907 001e 87F80F31 		strb	r3, [r7, #271]
2803:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* !(CY_PSOC4) */
2804:Generated_Source\PSoC5/Bootloader.c **** 
2805:Generated_Source\PSoC5/Bootloader.c ****     #if (CY_PSOC4)
2806:Generated_Source\PSoC5/Bootloader.c ****         uint16 rowNum = ( uint16 )(flsAddr / CYDEV_FLS_ROW_SIZE);
2807:Generated_Source\PSoC5/Bootloader.c ****     #else
2808:Generated_Source\PSoC5/Bootloader.c ****         uint16 rowNum = ( uint16 )((flsAddr % CYDEV_FLS_SECTOR_SIZE) / CYDEV_FLS_ROW_SIZE);
 1908              		.loc 1 2808 0
 1909 0022 D7F81031 		ldr	r3, [r7, #272]
 1910 0026 9BB2     		uxth	r3, r3
 1911 0028 1B0A     		lsrs	r3, r3, #8
 1912 002a A7F80C31 		strh	r3, [r7, #268]	@ movhi
2809:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CY_PSOC4) */
2810:Generated_Source\PSoC5/Bootloader.c **** 
2811:Generated_Source\PSoC5/Bootloader.c ****     uint32 baseAddr = address - (address % CYDEV_FLS_ROW_SIZE);
 1913              		.loc 1 2811 0
 1914 002e 3B1D     		adds	r3, r7, #4
 1915 0030 1B68     		ldr	r3, [r3]
 1916 0032 23F0FF03 		bic	r3, r3, #255
 1917 0036 C7F80831 		str	r3, [r7, #264]
2812:Generated_Source\PSoC5/Bootloader.c ****     uint16 idx;
2813:Generated_Source\PSoC5/Bootloader.c **** 
2814:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 1918              		.loc 1 2814 0
 1919 003a 0023     		movs	r3, #0
 1920 003c A7F81631 		strh	r3, [r7, #278]	@ movhi
 1921 0040 0FE0     		b	.L142
 1922              	.L143:
2815:Generated_Source\PSoC5/Bootloader.c ****     {
2816:Generated_Source\PSoC5/Bootloader.c ****         rowData[idx] = Bootloader_GET_CODE_BYTE(baseAddr + idx);
 1923              		.loc 1 2816 0 discriminator 3
 1924 0042 B7F81631 		ldrh	r3, [r7, #278]
 1925 0046 B7F81611 		ldrh	r1, [r7, #278]
 1926 004a D7F80821 		ldr	r2, [r7, #264]
 1927 004e 0A44     		add	r2, r2, r1
 1928 0050 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 1929 0052 07F10802 		add	r2, r7, #8
 1930 0056 D154     		strb	r1, [r2, r3]
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 85


2814:Generated_Source\PSoC5/Bootloader.c ****     {
 1931              		.loc 1 2814 0 discriminator 3
 1932 0058 B7F81631 		ldrh	r3, [r7, #278]
 1933 005c 0133     		adds	r3, r3, #1
 1934 005e A7F81631 		strh	r3, [r7, #278]	@ movhi
 1935              	.L142:
2814:Generated_Source\PSoC5/Bootloader.c ****     {
 1936              		.loc 1 2814 0 is_stmt 0 discriminator 1
 1937 0062 B7F81631 		ldrh	r3, [r7, #278]
 1938 0066 FF2B     		cmp	r3, #255
 1939 0068 EBD9     		bls	.L143
2817:Generated_Source\PSoC5/Bootloader.c ****     }
2818:Generated_Source\PSoC5/Bootloader.c **** 
2819:Generated_Source\PSoC5/Bootloader.c ****     /* Check flash content to avoid unnecessary write to flash */
2820:Generated_Source\PSoC5/Bootloader.c ****     if (rowData[address % CYDEV_FLS_ROW_SIZE] != runType)
 1940              		.loc 1 2820 0 is_stmt 1
 1941 006a 3B1D     		adds	r3, r7, #4
 1942 006c 1B68     		ldr	r3, [r3]
 1943 006e DBB2     		uxtb	r3, r3
 1944 0070 07F10802 		add	r2, r7, #8
 1945 0074 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 1946 0076 FA1C     		adds	r2, r7, #3
 1947 0078 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1948 007a 9A42     		cmp	r2, r3
 1949 007c 12D0     		beq	.L145
2821:Generated_Source\PSoC5/Bootloader.c ****     {
2822:Generated_Source\PSoC5/Bootloader.c ****         rowData[address % CYDEV_FLS_ROW_SIZE] = runType;
 1950              		.loc 1 2822 0
 1951 007e 3B1D     		adds	r3, r7, #4
 1952 0080 1B68     		ldr	r3, [r3]
 1953 0082 DBB2     		uxtb	r3, r3
 1954 0084 07F10802 		add	r2, r7, #8
 1955 0088 F91C     		adds	r1, r7, #3
 1956 008a 0978     		ldrb	r1, [r1]
 1957 008c D154     		strb	r1, [r2, r3]
2823:Generated_Source\PSoC5/Bootloader.c **** 
2824:Generated_Source\PSoC5/Bootloader.c ****         #if(CY_PSOC4)
2825:Generated_Source\PSoC5/Bootloader.c ****             (void) CySysFlashWriteRow((uint32) rowNum, rowData);
2826:Generated_Source\PSoC5/Bootloader.c ****         #else
2827:Generated_Source\PSoC5/Bootloader.c ****             (void) CyWriteRowData(arrayId, rowNum, rowData);
 1958              		.loc 1 2827 0
 1959 008e 07F10802 		add	r2, r7, #8
 1960 0092 B7F80C11 		ldrh	r1, [r7, #268]
 1961 0096 97F80F31 		ldrb	r3, [r7, #271]	@ zero_extendqisi2
 1962 009a 1846     		mov	r0, r3
 1963 009c FFF7FEFF 		bl	CyWriteRowData
2828:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (CY_PSOC4) */
2829:Generated_Source\PSoC5/Bootloader.c **** 
2830:Generated_Source\PSoC5/Bootloader.c ****         #if(CY_PSOC5)
2831:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2832:Generated_Source\PSoC5/Bootloader.c ****             * When writing to flash, data in the instruction cache can become stale.
2833:Generated_Source\PSoC5/Bootloader.c ****             * Therefore, the cache data does not correlate to the data just written to
2834:Generated_Source\PSoC5/Bootloader.c ****             * flash. A call to CyFlushCache() is required to invalidate the data in the
2835:Generated_Source\PSoC5/Bootloader.c ****             * cache and force fresh information to be loaded from flash.
2836:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2837:Generated_Source\PSoC5/Bootloader.c ****             CyFlushCache();
 1964              		.loc 1 2837 0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 86


 1965 00a0 FFF7FEFF 		bl	CyFlushCache
 1966              	.L145:
2838:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (CY_PSOC5) */
2839:Generated_Source\PSoC5/Bootloader.c ****     }
2840:Generated_Source\PSoC5/Bootloader.c **** }
 1967              		.loc 1 2840 0
 1968 00a4 00BF     		nop
 1969 00a6 07F58C77 		add	r7, r7, #280
 1970              		.cfi_def_cfa_offset 8
 1971 00aa BD46     		mov	sp, r7
 1972              		.cfi_def_cfa_register 13
 1973              		@ sp needed
 1974 00ac 80BD     		pop	{r7, pc}
 1975              		.cfi_endproc
 1976              	.LFE74:
 1977              		.size	Bootloader_SetFlashByte, .-Bootloader_SetFlashByte
 1978 00ae 00BF     		.section	.text.Bootloader_GetMetadata,"ax",%progbits
 1979              		.align	2
 1980              		.global	Bootloader_GetMetadata
 1981              		.thumb
 1982              		.thumb_func
 1983              		.type	Bootloader_GetMetadata, %function
 1984              	Bootloader_GetMetadata:
 1985              	.LFB75:
2841:Generated_Source\PSoC5/Bootloader.c **** 
2842:Generated_Source\PSoC5/Bootloader.c **** 
2843:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
2844:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetMetadata
2845:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
2846:Generated_Source\PSoC5/Bootloader.c **** *
2847:Generated_Source\PSoC5/Bootloader.c **** * \brief
2848:Generated_Source\PSoC5/Bootloader.c **** *    Returns the value of the specified field of the metadata section.
2849:Generated_Source\PSoC5/Bootloader.c **** *
2850:Generated_Source\PSoC5/Bootloader.c **** * \param field \ref group_metadataFields
2851:Generated_Source\PSoC5/Bootloader.c **** *    Identifies the specific field of metadata.
2852:Generated_Source\PSoC5/Bootloader.c **** *
2853:Generated_Source\PSoC5/Bootloader.c **** * \param appId
2854:Generated_Source\PSoC5/Bootloader.c **** *    The number of the Bootloadable/Combination application. Should be 0 for 
2855:Generated_Source\PSoC5/Bootloader.c **** *    the normal bootloader and 0 or 1 for the Dual-application bootloader.
2856:Generated_Source\PSoC5/Bootloader.c **** *
2857:Generated_Source\PSoC5/Bootloader.c **** * \return
2858:Generated_Source\PSoC5/Bootloader.c **** *    The value of the specified field of the specified application.
2859:Generated_Source\PSoC5/Bootloader.c **** *
2860:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
2861:Generated_Source\PSoC5/Bootloader.c **** uint32 Bootloader_GetMetadata(uint8 field, uint8 appId)
2862:Generated_Source\PSoC5/Bootloader.c **** {
 1986              		.loc 1 2862 0
 1987              		.cfi_startproc
 1988              		@ args = 0, pretend = 0, frame = 24
 1989              		@ frame_needed = 1, uses_anonymous_args = 0
 1990 0000 80B5     		push	{r7, lr}
 1991              		.cfi_def_cfa_offset 8
 1992              		.cfi_offset 7, -8
 1993              		.cfi_offset 14, -4
 1994 0002 86B0     		sub	sp, sp, #24
 1995              		.cfi_def_cfa_offset 32
 1996 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 87


 1997              		.cfi_def_cfa_register 7
 1998 0006 0346     		mov	r3, r0
 1999 0008 0A46     		mov	r2, r1
 2000 000a FB71     		strb	r3, [r7, #7]
 2001 000c 1346     		mov	r3, r2
 2002 000e BB71     		strb	r3, [r7, #6]
2863:Generated_Source\PSoC5/Bootloader.c ****     uint32 fieldPtr;
2864:Generated_Source\PSoC5/Bootloader.c ****     uint8  fieldSize = 2u;
 2003              		.loc 1 2864 0
 2004 0010 0223     		movs	r3, #2
 2005 0012 FB74     		strb	r3, [r7, #19]
2865:Generated_Source\PSoC5/Bootloader.c ****     uint32 result = 0u;
 2006              		.loc 1 2865 0
 2007 0014 0023     		movs	r3, #0
 2008 0016 FB60     		str	r3, [r7, #12]
2866:Generated_Source\PSoC5/Bootloader.c **** 
2867:Generated_Source\PSoC5/Bootloader.c ****     switch (field)
 2009              		.loc 1 2867 0
 2010 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2011 001a 013B     		subs	r3, r3, #1
 2012 001c 0B2B     		cmp	r3, #11
 2013 001e 00F2AF80 		bhi	.L147
 2014 0022 01A2     		adr	r2, .L149
 2015 0024 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2016              		.p2align 2
 2017              	.L149:
 2018 0028 59000000 		.word	.L148+1
 2019 002c 73000000 		.word	.L150+1
 2020 0030 8D000000 		.word	.L151+1
 2021 0034 A3000000 		.word	.L152+1
 2022 0038 BD000000 		.word	.L153+1
 2023 003c D7000000 		.word	.L154+1
 2024 0040 07010000 		.word	.L155+1
 2025 0044 F1000000 		.word	.L156+1
 2026 0048 1D010000 		.word	.L157+1
 2027 004c 33010000 		.word	.L158+1
 2028 0050 4D010000 		.word	.L159+1
 2029 0054 67010000 		.word	.L160+1
 2030              		.p2align 1
 2031              	.L148:
2868:Generated_Source\PSoC5/Bootloader.c ****     {
2869:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_CHECKSUM:
2870:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_CHECKSUM_OFFSET(appId);
 2032              		.loc 1 2870 0
 2033 0058 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2034 005a 1346     		mov	r3, r2
 2035 005c 1B06     		lsls	r3, r3, #24
 2036 005e 9B1A     		subs	r3, r3, r2
 2037 0060 1B02     		lsls	r3, r3, #8
 2038 0062 03F57F33 		add	r3, r3, #261120
 2039 0066 03F57073 		add	r3, r3, #960
 2040 006a 7B61     		str	r3, [r7, #20]
2871:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2041              		.loc 1 2871 0
 2042 006c 0123     		movs	r3, #1
 2043 006e FB74     		strb	r3, [r7, #19]
2872:Generated_Source\PSoC5/Bootloader.c ****         break;   
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 88


 2044              		.loc 1 2872 0
 2045 0070 8CE0     		b	.L161
 2046              	.L150:
2873:Generated_Source\PSoC5/Bootloader.c **** 
2874:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_ADDR:
2875:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_ADDR_OFFSET(appId);
 2047              		.loc 1 2875 0
 2048 0072 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2049 0074 1346     		mov	r3, r2
 2050 0076 1B06     		lsls	r3, r3, #24
 2051 0078 9B1A     		subs	r3, r3, r2
 2052 007a 1B02     		lsls	r3, r3, #8
 2053 007c 03F57F33 		add	r3, r3, #261120
 2054 0080 03F2C133 		addw	r3, r3, #961
 2055 0084 7B61     		str	r3, [r7, #20]
2876:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC3)
2877:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 2056              		.loc 1 2877 0
 2057 0086 0423     		movs	r3, #4
 2058 0088 FB74     		strb	r3, [r7, #19]
2878:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC3) */
2879:Generated_Source\PSoC5/Bootloader.c ****         break;
 2059              		.loc 1 2879 0
 2060 008a 7FE0     		b	.L161
 2061              	.L151:
2880:Generated_Source\PSoC5/Bootloader.c **** 
2881:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDR_LAST_ROW:
2882:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDR_LAST_ROW_OFFSET(appId);
 2062              		.loc 1 2882 0
 2063 008c BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2064 008e 1346     		mov	r3, r2
 2065 0090 1B06     		lsls	r3, r3, #24
 2066 0092 9B1A     		subs	r3, r3, r2
 2067 0094 1B02     		lsls	r3, r3, #8
 2068 0096 03F57F33 		add	r3, r3, #261120
 2069 009a 03F2C533 		addw	r3, r3, #965
 2070 009e 7B61     		str	r3, [r7, #20]
2883:Generated_Source\PSoC5/Bootloader.c ****         break;
 2071              		.loc 1 2883 0
 2072 00a0 74E0     		b	.L161
 2073              	.L152:
2884:Generated_Source\PSoC5/Bootloader.c **** 
2885:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_LENGTH:
2886:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_LENGTH_OFFSET(appId);
 2074              		.loc 1 2886 0
 2075 00a2 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2076 00a4 1346     		mov	r3, r2
 2077 00a6 1B06     		lsls	r3, r3, #24
 2078 00a8 9B1A     		subs	r3, r3, r2
 2079 00aa 1B02     		lsls	r3, r3, #8
 2080 00ac 03F57F33 		add	r3, r3, #261120
 2081 00b0 03F2C933 		addw	r3, r3, #969
 2082 00b4 7B61     		str	r3, [r7, #20]
2887:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC3)
2888:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 2083              		.loc 1 2888 0
 2084 00b6 0423     		movs	r3, #4
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 89


 2085 00b8 FB74     		strb	r3, [r7, #19]
2889:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC3) */
2890:Generated_Source\PSoC5/Bootloader.c ****         break;
 2086              		.loc 1 2890 0
 2087 00ba 67E0     		b	.L161
 2088              	.L153:
2891:Generated_Source\PSoC5/Bootloader.c **** 
2892:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_ACTIVE:
2893:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_ACTIVE_OFFSET(appId);
 2089              		.loc 1 2893 0
 2090 00bc BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2091 00be 1346     		mov	r3, r2
 2092 00c0 1B06     		lsls	r3, r3, #24
 2093 00c2 9B1A     		subs	r3, r3, r2
 2094 00c4 1B02     		lsls	r3, r3, #8
 2095 00c6 03F57F33 		add	r3, r3, #261120
 2096 00ca 03F57473 		add	r3, r3, #976
 2097 00ce 7B61     		str	r3, [r7, #20]
2894:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2098              		.loc 1 2894 0
 2099 00d0 0123     		movs	r3, #1
 2100 00d2 FB74     		strb	r3, [r7, #19]
2895:Generated_Source\PSoC5/Bootloader.c ****         break;
 2101              		.loc 1 2895 0
 2102 00d4 5AE0     		b	.L161
 2103              	.L154:
2896:Generated_Source\PSoC5/Bootloader.c **** 
2897:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_STATUS:
2898:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_VERIFIED_OFFSET(appId);
 2104              		.loc 1 2898 0
 2105 00d6 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2106 00d8 1346     		mov	r3, r2
 2107 00da 1B06     		lsls	r3, r3, #24
 2108 00dc 9B1A     		subs	r3, r3, r2
 2109 00de 1B02     		lsls	r3, r3, #8
 2110 00e0 03F57F33 		add	r3, r3, #261120
 2111 00e4 03F2D133 		addw	r3, r3, #977
 2112 00e8 7B61     		str	r3, [r7, #20]
2899:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2113              		.loc 1 2899 0
 2114 00ea 0123     		movs	r3, #1
 2115 00ec FB74     		strb	r3, [r7, #19]
2900:Generated_Source\PSoC5/Bootloader.c ****         break;
 2116              		.loc 1 2900 0
 2117 00ee 4DE0     		b	.L161
 2118              	.L156:
2901:Generated_Source\PSoC5/Bootloader.c **** 
2902:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_VERSION:
2903:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_VERSION_OFFSET(appId);
 2119              		.loc 1 2903 0
 2120 00f0 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2121 00f2 1346     		mov	r3, r2
 2122 00f4 1B06     		lsls	r3, r3, #24
 2123 00f6 9B1A     		subs	r3, r3, r2
 2124 00f8 1B02     		lsls	r3, r3, #8
 2125 00fa 03F57F33 		add	r3, r3, #261120
 2126 00fe 03F2D633 		addw	r3, r3, #982
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 90


 2127 0102 7B61     		str	r3, [r7, #20]
2904:Generated_Source\PSoC5/Bootloader.c ****         break;
 2128              		.loc 1 2904 0
 2129 0104 42E0     		b	.L161
 2130              	.L155:
2905:Generated_Source\PSoC5/Bootloader.c **** 
2906:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDR_APP_VERSION:
2907:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDR_APP_VERSION_OFFSET(appId);
 2131              		.loc 1 2907 0
 2132 0106 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2133 0108 1346     		mov	r3, r2
 2134 010a 1B06     		lsls	r3, r3, #24
 2135 010c 9B1A     		subs	r3, r3, r2
 2136 010e 1B02     		lsls	r3, r3, #8
 2137 0110 03F57F33 		add	r3, r3, #261120
 2138 0114 03F2D233 		addw	r3, r3, #978
 2139 0118 7B61     		str	r3, [r7, #20]
2908:Generated_Source\PSoC5/Bootloader.c ****         break;
 2140              		.loc 1 2908 0
 2141 011a 37E0     		b	.L161
 2142              	.L157:
2909:Generated_Source\PSoC5/Bootloader.c **** 
2910:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_ID:
2911:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_ID_OFFSET(appId);
 2143              		.loc 1 2911 0
 2144 011c BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2145 011e 1346     		mov	r3, r2
 2146 0120 1B06     		lsls	r3, r3, #24
 2147 0122 9B1A     		subs	r3, r3, r2
 2148 0124 1B02     		lsls	r3, r3, #8
 2149 0126 03F57F33 		add	r3, r3, #261120
 2150 012a 03F57573 		add	r3, r3, #980
 2151 012e 7B61     		str	r3, [r7, #20]
2912:Generated_Source\PSoC5/Bootloader.c ****         break;
 2152              		.loc 1 2912 0
 2153 0130 2CE0     		b	.L161
 2154              	.L158:
2913:Generated_Source\PSoC5/Bootloader.c **** 
2914:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_CUST_ID:
2915:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_CUST_ID_OFFSET(appId);
 2155              		.loc 1 2915 0
 2156 0132 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2157 0134 1346     		mov	r3, r2
 2158 0136 1B06     		lsls	r3, r3, #24
 2159 0138 9B1A     		subs	r3, r3, r2
 2160 013a 1B02     		lsls	r3, r3, #8
 2161 013c 03F57F33 		add	r3, r3, #261120
 2162 0140 03F57673 		add	r3, r3, #984
 2163 0144 7B61     		str	r3, [r7, #20]
2916:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 2164              		.loc 1 2916 0
 2165 0146 0423     		movs	r3, #4
 2166 0148 FB74     		strb	r3, [r7, #19]
2917:Generated_Source\PSoC5/Bootloader.c ****         break;
 2167              		.loc 1 2917 0
 2168 014a 1FE0     		b	.L161
 2169              	.L159:
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 91


2918:Generated_Source\PSoC5/Bootloader.c ****         
2919:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_COPY_FLAG:
2920:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr = Bootloader_MD_BTLDB_COPY_FLAG_OFFSET(appId);
 2170              		.loc 1 2920 0
 2171 014c BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2172 014e 1346     		mov	r3, r2
 2173 0150 1B06     		lsls	r3, r3, #24
 2174 0152 9B1A     		subs	r3, r3, r2
 2175 0154 1B02     		lsls	r3, r3, #8
 2176 0156 03F57F33 		add	r3, r3, #261120
 2177 015a 03F57773 		add	r3, r3, #988
 2178 015e 7B61     		str	r3, [r7, #20]
2921:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2179              		.loc 1 2921 0
 2180 0160 0123     		movs	r3, #1
 2181 0162 FB74     		strb	r3, [r7, #19]
2922:Generated_Source\PSoC5/Bootloader.c ****         break;        
 2182              		.loc 1 2922 0
 2183 0164 12E0     		b	.L161
 2184              	.L160:
2923:Generated_Source\PSoC5/Bootloader.c **** 
2924:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_USER_DATA:
2925:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr = Bootloader_MD_BTLDB_USER_DATA_OFFSET(appId);
 2185              		.loc 1 2925 0
 2186 0166 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2187 0168 1346     		mov	r3, r2
 2188 016a 1B06     		lsls	r3, r3, #24
 2189 016c 9B1A     		subs	r3, r3, r2
 2190 016e 1B02     		lsls	r3, r3, #8
 2191 0170 03F57F33 		add	r3, r3, #261120
 2192 0174 03F57873 		add	r3, r3, #992
 2193 0178 7B61     		str	r3, [r7, #20]
2926:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 2194              		.loc 1 2926 0
 2195 017a 0423     		movs	r3, #4
 2196 017c FB74     		strb	r3, [r7, #19]
2927:Generated_Source\PSoC5/Bootloader.c ****         break;        
 2197              		.loc 1 2927 0
 2198 017e 05E0     		b	.L161
 2199              	.L147:
2928:Generated_Source\PSoC5/Bootloader.c **** 
2929:Generated_Source\PSoC5/Bootloader.c ****     default:
2930:Generated_Source\PSoC5/Bootloader.c ****         /* Should never be here */
2931:Generated_Source\PSoC5/Bootloader.c ****         CYASSERT(0u != 0u);
 2200              		.loc 1 2931 0
 2201 0180 0020     		movs	r0, #0
 2202 0182 FFF7FEFF 		bl	CyHalt
2932:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = 0u;
 2203              		.loc 1 2932 0
 2204 0186 0023     		movs	r3, #0
 2205 0188 7B61     		str	r3, [r7, #20]
2933:Generated_Source\PSoC5/Bootloader.c ****         break;
 2206              		.loc 1 2933 0
 2207 018a 00BF     		nop
 2208              	.L161:
2934:Generated_Source\PSoC5/Bootloader.c ****     }
2935:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 92


2936:Generated_Source\PSoC5/Bootloader.c **** 
2937:Generated_Source\PSoC5/Bootloader.c ****     if (1u == fieldSize)
 2209              		.loc 1 2937 0
 2210 018c FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2211 018e 012B     		cmp	r3, #1
 2212 0190 03D1     		bne	.L162
2938:Generated_Source\PSoC5/Bootloader.c ****     {
2939:Generated_Source\PSoC5/Bootloader.c ****         result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)fieldPtr);
 2213              		.loc 1 2939 0
 2214 0192 7B69     		ldr	r3, [r7, #20]
 2215 0194 1B78     		ldrb	r3, [r3]
 2216 0196 DBB2     		uxtb	r3, r3
 2217 0198 FB60     		str	r3, [r7, #12]
 2218              	.L162:
2940:Generated_Source\PSoC5/Bootloader.c ****     }
2941:Generated_Source\PSoC5/Bootloader.c **** 
2942:Generated_Source\PSoC5/Bootloader.c ****     #if(CY_PSOC3)   /* Big-endian */
2943:Generated_Source\PSoC5/Bootloader.c **** 
2944:Generated_Source\PSoC5/Bootloader.c ****         if (2u == fieldSize)
2945:Generated_Source\PSoC5/Bootloader.c ****         {
2946:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u));
2947:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     )) <<  8u;
2948:Generated_Source\PSoC5/Bootloader.c ****         }
2949:Generated_Source\PSoC5/Bootloader.c **** 
2950:Generated_Source\PSoC5/Bootloader.c ****         if (4u == fieldSize)
2951:Generated_Source\PSoC5/Bootloader.c ****         {
2952:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 3u));
2953:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 2u)) <<  8u;
2954:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u)) << 16u;
2955:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     )) << 24u;
2956:Generated_Source\PSoC5/Bootloader.c ****         }
2957:Generated_Source\PSoC5/Bootloader.c **** 
2958:Generated_Source\PSoC5/Bootloader.c ****     #else   /* PSoC 4 and PSoC 5: Little-endian */
2959:Generated_Source\PSoC5/Bootloader.c **** 
2960:Generated_Source\PSoC5/Bootloader.c ****         if (2u == fieldSize)
 2219              		.loc 1 2960 0
 2220 019a FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2221 019c 022B     		cmp	r3, #2
 2222 019e 0BD1     		bne	.L163
2961:Generated_Source\PSoC5/Bootloader.c ****         {
2962:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *) (fieldPtr     ));
 2223              		.loc 1 2962 0
 2224 01a0 7B69     		ldr	r3, [r7, #20]
 2225 01a2 1B78     		ldrb	r3, [r3]
 2226 01a4 DBB2     		uxtb	r3, r3
 2227 01a6 FB60     		str	r3, [r7, #12]
2963:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *) (fieldPtr + 1u)) <<  8u;
 2228              		.loc 1 2963 0
 2229 01a8 7B69     		ldr	r3, [r7, #20]
 2230 01aa 0133     		adds	r3, r3, #1
 2231 01ac 1B78     		ldrb	r3, [r3]
 2232 01ae DBB2     		uxtb	r3, r3
 2233 01b0 1B02     		lsls	r3, r3, #8
 2234 01b2 FA68     		ldr	r2, [r7, #12]
 2235 01b4 1343     		orrs	r3, r3, r2
 2236 01b6 FB60     		str	r3, [r7, #12]
 2237              	.L163:
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 93


2964:Generated_Source\PSoC5/Bootloader.c ****         }
2965:Generated_Source\PSoC5/Bootloader.c **** 
2966:Generated_Source\PSoC5/Bootloader.c ****         if (4u == fieldSize)
 2238              		.loc 1 2966 0
 2239 01b8 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2240 01ba 042B     		cmp	r3, #4
 2241 01bc 1BD1     		bne	.L164
2967:Generated_Source\PSoC5/Bootloader.c ****         {
2968:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     ));
 2242              		.loc 1 2968 0
 2243 01be 7B69     		ldr	r3, [r7, #20]
 2244 01c0 1B78     		ldrb	r3, [r3]
 2245 01c2 DBB2     		uxtb	r3, r3
 2246 01c4 FB60     		str	r3, [r7, #12]
2969:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u)) <<  8u;
 2247              		.loc 1 2969 0
 2248 01c6 7B69     		ldr	r3, [r7, #20]
 2249 01c8 0133     		adds	r3, r3, #1
 2250 01ca 1B78     		ldrb	r3, [r3]
 2251 01cc DBB2     		uxtb	r3, r3
 2252 01ce 1B02     		lsls	r3, r3, #8
 2253 01d0 FA68     		ldr	r2, [r7, #12]
 2254 01d2 1343     		orrs	r3, r3, r2
 2255 01d4 FB60     		str	r3, [r7, #12]
2970:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 2u)) << 16u;
 2256              		.loc 1 2970 0
 2257 01d6 7B69     		ldr	r3, [r7, #20]
 2258 01d8 0233     		adds	r3, r3, #2
 2259 01da 1B78     		ldrb	r3, [r3]
 2260 01dc DBB2     		uxtb	r3, r3
 2261 01de 1B04     		lsls	r3, r3, #16
 2262 01e0 FA68     		ldr	r2, [r7, #12]
 2263 01e2 1343     		orrs	r3, r3, r2
 2264 01e4 FB60     		str	r3, [r7, #12]
2971:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 3u)) << 24u;
 2265              		.loc 1 2971 0
 2266 01e6 7B69     		ldr	r3, [r7, #20]
 2267 01e8 0333     		adds	r3, r3, #3
 2268 01ea 1B78     		ldrb	r3, [r3]
 2269 01ec DBB2     		uxtb	r3, r3
 2270 01ee 1B06     		lsls	r3, r3, #24
 2271 01f0 FA68     		ldr	r2, [r7, #12]
 2272 01f2 1343     		orrs	r3, r3, r2
 2273 01f4 FB60     		str	r3, [r7, #12]
 2274              	.L164:
2972:Generated_Source\PSoC5/Bootloader.c ****         }
2973:Generated_Source\PSoC5/Bootloader.c **** 
2974:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (CY_PSOC3) */
2975:Generated_Source\PSoC5/Bootloader.c **** 
2976:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 2275              		.loc 1 2976 0
 2276 01f6 FB68     		ldr	r3, [r7, #12]
2977:Generated_Source\PSoC5/Bootloader.c **** }
 2277              		.loc 1 2977 0
 2278 01f8 1846     		mov	r0, r3
 2279 01fa 1837     		adds	r7, r7, #24
 2280              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 94


 2281 01fc BD46     		mov	sp, r7
 2282              		.cfi_def_cfa_register 13
 2283              		@ sp needed
 2284 01fe 80BD     		pop	{r7, pc}
 2285              		.cfi_endproc
 2286              	.LFE75:
 2287              		.size	Bootloader_GetMetadata, .-Bootloader_GetMetadata
 2288              		.text
 2289              	.Letext0:
 2290              		.file 2 "c:\\program files (x86)\\cypress\\psoc creator\\4.4\\psoc creator\\import\\gnu\\arm\\5.4.
 2291              		.file 3 "c:\\program files (x86)\\cypress\\psoc creator\\4.4\\psoc creator\\import\\gnu\\arm\\5.4.
 2292              		.file 4 "Generated_Source\\PSoC5\\cytypes.h"
 2293              		.file 5 "Generated_Source\\PSoC5\\Bootloader.h"
 2294              		.file 6 "Generated_Source\\PSoC5\\Bootloader_PVT.h"
 2295              		.file 7 "Generated_Source\\PSoC5/core_cm3.h"
 2296              		.section	.debug_info,"",%progbits
 2297              	.Ldebug_info0:
 2298 0000 CB070000 		.4byte	0x7cb
 2299 0004 0400     		.2byte	0x4
 2300 0006 00000000 		.4byte	.Ldebug_abbrev0
 2301 000a 04       		.byte	0x4
 2302 000b 01       		.uleb128 0x1
 2303 000c 83000000 		.4byte	.LASF97
 2304 0010 0C       		.byte	0xc
 2305 0011 AF030000 		.4byte	.LASF98
 2306 0015 B0040000 		.4byte	.LASF99
 2307 0019 60000000 		.4byte	.Ldebug_ranges0+0x60
 2308 001d 00000000 		.4byte	0
 2309 0021 00000000 		.4byte	.Ldebug_line0
 2310 0025 02       		.uleb128 0x2
 2311 0026 01       		.byte	0x1
 2312 0027 06       		.byte	0x6
 2313 0028 02030000 		.4byte	.LASF0
 2314 002c 02       		.uleb128 0x2
 2315 002d 01       		.byte	0x1
 2316 002e 08       		.byte	0x8
 2317 002f B4020000 		.4byte	.LASF1
 2318 0033 02       		.uleb128 0x2
 2319 0034 02       		.byte	0x2
 2320 0035 05       		.byte	0x5
 2321 0036 4B000000 		.4byte	.LASF2
 2322 003a 02       		.uleb128 0x2
 2323 003b 02       		.byte	0x2
 2324 003c 07       		.byte	0x7
 2325 003d 4D040000 		.4byte	.LASF3
 2326 0041 03       		.uleb128 0x3
 2327 0042 50050000 		.4byte	.LASF9
 2328 0046 02       		.byte	0x2
 2329 0047 3F       		.byte	0x3f
 2330 0048 4C000000 		.4byte	0x4c
 2331 004c 02       		.uleb128 0x2
 2332 004d 04       		.byte	0x4
 2333 004e 05       		.byte	0x5
 2334 004f F6010000 		.4byte	.LASF4
 2335 0053 02       		.uleb128 0x2
 2336 0054 04       		.byte	0x4
 2337 0055 07       		.byte	0x7
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 95


 2338 0056 96040000 		.4byte	.LASF5
 2339 005a 02       		.uleb128 0x2
 2340 005b 08       		.byte	0x8
 2341 005c 05       		.byte	0x5
 2342 005d D1010000 		.4byte	.LASF6
 2343 0061 02       		.uleb128 0x2
 2344 0062 08       		.byte	0x8
 2345 0063 07       		.byte	0x7
 2346 0064 1B030000 		.4byte	.LASF7
 2347 0068 04       		.uleb128 0x4
 2348 0069 04       		.byte	0x4
 2349 006a 05       		.byte	0x5
 2350 006b 696E7400 		.ascii	"int\000"
 2351 006f 02       		.uleb128 0x2
 2352 0070 04       		.byte	0x4
 2353 0071 07       		.byte	0x7
 2354 0072 EC050000 		.4byte	.LASF8
 2355 0076 03       		.uleb128 0x3
 2356 0077 89010000 		.4byte	.LASF10
 2357 007b 03       		.byte	0x3
 2358 007c 2C       		.byte	0x2c
 2359 007d 41000000 		.4byte	0x41
 2360 0081 05       		.uleb128 0x5
 2361 0082 83010000 		.4byte	.LASF11
 2362 0086 04       		.byte	0x4
 2363 0087 E401     		.2byte	0x1e4
 2364 0089 2C000000 		.4byte	0x2c
 2365 008d 05       		.uleb128 0x5
 2366 008e 6B010000 		.4byte	.LASF12
 2367 0092 04       		.byte	0x4
 2368 0093 E501     		.2byte	0x1e5
 2369 0095 3A000000 		.4byte	0x3a
 2370 0099 05       		.uleb128 0x5
 2371 009a 8A040000 		.4byte	.LASF13
 2372 009e 04       		.byte	0x4
 2373 009f E601     		.2byte	0x1e6
 2374 00a1 53000000 		.4byte	0x53
 2375 00a5 02       		.uleb128 0x2
 2376 00a6 04       		.byte	0x4
 2377 00a7 04       		.byte	0x4
 2378 00a8 13000000 		.4byte	.LASF14
 2379 00ac 02       		.uleb128 0x2
 2380 00ad 08       		.byte	0x8
 2381 00ae 04       		.byte	0x4
 2382 00af 22000000 		.4byte	.LASF15
 2383 00b3 02       		.uleb128 0x2
 2384 00b4 01       		.byte	0x1
 2385 00b5 08       		.byte	0x8
 2386 00b6 10040000 		.4byte	.LASF16
 2387 00ba 05       		.uleb128 0x5
 2388 00bb 22040000 		.4byte	.LASF17
 2389 00bf 04       		.byte	0x4
 2390 00c0 8602     		.2byte	0x286
 2391 00c2 53000000 		.4byte	0x53
 2392 00c6 05       		.uleb128 0x5
 2393 00c7 91040000 		.4byte	.LASF18
 2394 00cb 04       		.byte	0x4
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 96


 2395 00cc 8E02     		.2byte	0x28e
 2396 00ce D2000000 		.4byte	0xd2
 2397 00d2 06       		.uleb128 0x6
 2398 00d3 81000000 		.4byte	0x81
 2399 00d7 02       		.uleb128 0x2
 2400 00d8 08       		.byte	0x8
 2401 00d9 04       		.byte	0x4
 2402 00da A2020000 		.4byte	.LASF19
 2403 00de 02       		.uleb128 0x2
 2404 00df 04       		.byte	0x4
 2405 00e0 07       		.byte	0x7
 2406 00e1 5D000000 		.4byte	.LASF20
 2407 00e5 07       		.uleb128 0x7
 2408 00e6 08       		.byte	0x8
 2409 00e7 05       		.byte	0x5
 2410 00e8 50       		.byte	0x50
 2411 00e9 12010000 		.4byte	0x112
 2412 00ed 08       		.uleb128 0x8
 2413 00ee 8C050000 		.4byte	.LASF21
 2414 00f2 05       		.byte	0x5
 2415 00f3 52       		.byte	0x52
 2416 00f4 81000000 		.4byte	0x81
 2417 00f8 00       		.byte	0
 2418 00f9 08       		.uleb128 0x8
 2419 00fa E9010000 		.4byte	.LASF22
 2420 00fe 05       		.byte	0x5
 2421 00ff 53       		.byte	0x53
 2422 0100 8D000000 		.4byte	0x8d
 2423 0104 02       		.byte	0x2
 2424 0105 08       		.uleb128 0x8
 2425 0106 0E030000 		.4byte	.LASF23
 2426 010a 05       		.byte	0x5
 2427 010b 54       		.byte	0x54
 2428 010c 12010000 		.4byte	0x112
 2429 0110 04       		.byte	0x4
 2430 0111 00       		.byte	0
 2431 0112 09       		.uleb128 0x9
 2432 0113 04       		.byte	0x4
 2433 0114 81000000 		.4byte	0x81
 2434 0118 03       		.uleb128 0x3
 2435 0119 5A050000 		.4byte	.LASF24
 2436 011d 05       		.byte	0x5
 2437 011e 55       		.byte	0x55
 2438 011f E5000000 		.4byte	0xe5
 2439 0123 07       		.uleb128 0x7
 2440 0124 0C       		.byte	0xc
 2441 0125 05       		.byte	0x5
 2442 0126 57       		.byte	0x57
 2443 0127 50010000 		.4byte	0x150
 2444 012b 08       		.uleb128 0x8
 2445 012c A8030000 		.4byte	.LASF25
 2446 0130 05       		.byte	0x5
 2447 0131 59       		.byte	0x59
 2448 0132 BA000000 		.4byte	0xba
 2449 0136 00       		.byte	0
 2450 0137 08       		.uleb128 0x8
 2451 0138 E9010000 		.4byte	.LASF22
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 97


 2452 013c 05       		.byte	0x5
 2453 013d 5A       		.byte	0x5a
 2454 013e 8D000000 		.4byte	0x8d
 2455 0142 04       		.byte	0x4
 2456 0143 08       		.uleb128 0x8
 2457 0144 A3010000 		.4byte	.LASF26
 2458 0148 05       		.byte	0x5
 2459 0149 5B       		.byte	0x5b
 2460 014a 12010000 		.4byte	0x112
 2461 014e 08       		.byte	0x8
 2462 014f 00       		.byte	0
 2463 0150 03       		.uleb128 0x3
 2464 0151 D3030000 		.4byte	.LASF27
 2465 0155 05       		.byte	0x5
 2466 0156 5C       		.byte	0x5c
 2467 0157 23010000 		.4byte	0x123
 2468 015b 03       		.uleb128 0x3
 2469 015c 34040000 		.4byte	.LASF28
 2470 0160 05       		.byte	0x5
 2471 0161 60       		.byte	0x60
 2472 0162 66010000 		.4byte	0x166
 2473 0166 09       		.uleb128 0x9
 2474 0167 04       		.byte	0x4
 2475 0168 6C010000 		.4byte	0x16c
 2476 016c 0A       		.uleb128 0xa
 2477 016d 7C010000 		.4byte	0x17c
 2478 0171 0B       		.uleb128 0xb
 2479 0172 7C010000 		.4byte	0x17c
 2480 0176 0B       		.uleb128 0xb
 2481 0177 82010000 		.4byte	0x182
 2482 017b 00       		.byte	0
 2483 017c 09       		.uleb128 0x9
 2484 017d 04       		.byte	0x4
 2485 017e 18010000 		.4byte	0x118
 2486 0182 09       		.uleb128 0x9
 2487 0183 04       		.byte	0x4
 2488 0184 50010000 		.4byte	0x150
 2489 0188 07       		.uleb128 0x7
 2490 0189 08       		.byte	0x8
 2491 018a 06       		.byte	0x6
 2492 018b 16       		.byte	0x16
 2493 018c B5010000 		.4byte	0x1b5
 2494 0190 08       		.uleb128 0x8
 2495 0191 79040000 		.4byte	.LASF29
 2496 0195 06       		.byte	0x6
 2497 0196 18       		.byte	0x18
 2498 0197 99000000 		.4byte	0x99
 2499 019b 00       		.byte	0
 2500 019c 08       		.uleb128 0x8
 2501 019d 94050000 		.4byte	.LASF30
 2502 01a1 06       		.byte	0x6
 2503 01a2 19       		.byte	0x19
 2504 01a3 81000000 		.4byte	0x81
 2505 01a7 04       		.byte	0x4
 2506 01a8 08       		.uleb128 0x8
 2507 01a9 91010000 		.4byte	.LASF31
 2508 01ad 06       		.byte	0x6
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 98


 2509 01ae 1A       		.byte	0x1a
 2510 01af B5010000 		.4byte	0x1b5
 2511 01b3 05       		.byte	0x5
 2512 01b4 00       		.byte	0
 2513 01b5 0C       		.uleb128 0xc
 2514 01b6 81000000 		.4byte	0x81
 2515 01ba C5010000 		.4byte	0x1c5
 2516 01be 0D       		.uleb128 0xd
 2517 01bf DE000000 		.4byte	0xde
 2518 01c3 02       		.byte	0x2
 2519 01c4 00       		.byte	0
 2520 01c5 03       		.uleb128 0x3
 2521 01c6 F9050000 		.4byte	.LASF32
 2522 01ca 06       		.byte	0x6
 2523 01cb 1C       		.byte	0x1c
 2524 01cc 88010000 		.4byte	0x188
 2525 01d0 0E       		.uleb128 0xe
 2526 01d1 E4020000 		.4byte	.LASF78
 2527 01d5 01       		.byte	0x1
 2528 01d6 8A01     		.2byte	0x18a
 2529 01d8 8D000000 		.4byte	0x8d
 2530 01dc 00000000 		.4byte	.LFB63
 2531 01e0 40000000 		.4byte	.LFE63-.LFB63
 2532 01e4 01       		.uleb128 0x1
 2533 01e5 9C       		.byte	0x9c
 2534 01e6 18020000 		.4byte	0x218
 2535 01ea 0F       		.uleb128 0xf
 2536 01eb 83040000 		.4byte	.LASF33
 2537 01ef 01       		.byte	0x1
 2538 01f0 8A01     		.2byte	0x18a
 2539 01f2 18020000 		.4byte	0x218
 2540 01f6 02       		.uleb128 0x2
 2541 01f7 91       		.byte	0x91
 2542 01f8 6C       		.sleb128 -20
 2543 01f9 0F       		.uleb128 0xf
 2544 01fa 0B050000 		.4byte	.LASF34
 2545 01fe 01       		.byte	0x1
 2546 01ff 8A01     		.2byte	0x18a
 2547 0201 8D000000 		.4byte	0x8d
 2548 0205 02       		.uleb128 0x2
 2549 0206 91       		.byte	0x91
 2550 0207 6A       		.sleb128 -22
 2551 0208 10       		.uleb128 0x10
 2552 0209 73756D00 		.ascii	"sum\000"
 2553 020d 01       		.byte	0x1
 2554 020e B901     		.2byte	0x1b9
 2555 0210 8D000000 		.4byte	0x8d
 2556 0214 02       		.uleb128 0x2
 2557 0215 91       		.byte	0x91
 2558 0216 76       		.sleb128 -10
 2559 0217 00       		.byte	0
 2560 0218 09       		.uleb128 0x9
 2561 0219 04       		.byte	0x4
 2562 021a 1E020000 		.4byte	0x21e
 2563 021e 11       		.uleb128 0x11
 2564 021f 81000000 		.4byte	0x81
 2565 0223 12       		.uleb128 0x12
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 99


 2566 0224 86030000 		.4byte	.LASF38
 2567 0228 01       		.byte	0x1
 2568 0229 D201     		.2byte	0x1d2
 2569 022b 00000000 		.4byte	.LFB64
 2570 022f 1C000000 		.4byte	.LFE64-.LFB64
 2571 0233 01       		.uleb128 0x1
 2572 0234 9C       		.byte	0x9c
 2573 0235 49020000 		.4byte	0x249
 2574 0239 0F       		.uleb128 0xf
 2575 023a 15040000 		.4byte	.LASF35
 2576 023e 01       		.byte	0x1
 2577 023f D201     		.2byte	0x1d2
 2578 0241 5B010000 		.4byte	0x15b
 2579 0245 02       		.uleb128 0x2
 2580 0246 91       		.byte	0x91
 2581 0247 74       		.sleb128 -12
 2582 0248 00       		.byte	0
 2583 0249 13       		.uleb128 0x13
 2584 024a 2E050000 		.4byte	.LASF47
 2585 024e 01       		.byte	0x1
 2586 024f 1C02     		.2byte	0x21c
 2587 0251 81000000 		.4byte	0x81
 2588 0255 00000000 		.4byte	.LFB65
 2589 0259 54000000 		.4byte	.LFE65-.LFB65
 2590 025d 01       		.uleb128 0x1
 2591 025e 9C       		.byte	0x9c
 2592 025f A0020000 		.4byte	0x2a0
 2593 0263 0F       		.uleb128 0xf
 2594 0264 19000000 		.4byte	.LASF36
 2595 0268 01       		.byte	0x1
 2596 0269 1C02     		.2byte	0x21c
 2597 026b 99000000 		.4byte	0x99
 2598 026f 02       		.uleb128 0x2
 2599 0270 91       		.byte	0x91
 2600 0271 6C       		.sleb128 -20
 2601 0272 0F       		.uleb128 0xf
 2602 0273 AE020000 		.4byte	.LASF37
 2603 0277 01       		.byte	0x1
 2604 0278 1C02     		.2byte	0x21c
 2605 027a 99000000 		.4byte	0x99
 2606 027e 02       		.uleb128 0x2
 2607 027f 91       		.byte	0x91
 2608 0280 68       		.sleb128 -24
 2609 0281 0F       		.uleb128 0xf
 2610 0282 0B050000 		.4byte	.LASF34
 2611 0286 01       		.byte	0x1
 2612 0287 1C02     		.2byte	0x21c
 2613 0289 99000000 		.4byte	0x99
 2614 028d 02       		.uleb128 0x2
 2615 028e 91       		.byte	0x91
 2616 028f 64       		.sleb128 -28
 2617 0290 10       		.uleb128 0x10
 2618 0291 73756D00 		.ascii	"sum\000"
 2619 0295 01       		.byte	0x1
 2620 0296 1F02     		.2byte	0x21f
 2621 0298 81000000 		.4byte	0x81
 2622 029c 02       		.uleb128 0x2
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 100


 2623 029d 91       		.byte	0x91
 2624 029e 77       		.sleb128 -9
 2625 029f 00       		.byte	0
 2626 02a0 14       		.uleb128 0x14
 2627 02a1 39020000 		.4byte	.LASF39
 2628 02a5 01       		.byte	0x1
 2629 02a6 4C03     		.2byte	0x34c
 2630 02a8 00000000 		.4byte	.LFB66
 2631 02ac 9C000000 		.4byte	.LFE66-.LFB66
 2632 02b0 01       		.uleb128 0x1
 2633 02b1 9C       		.byte	0x9c
 2634 02b2 D5020000 		.4byte	0x2d5
 2635 02b6 15       		.uleb128 0x15
 2636 02b7 68040000 		.4byte	.LASF40
 2637 02bb 01       		.byte	0x1
 2638 02bc 5603     		.2byte	0x356
 2639 02be BA000000 		.4byte	0xba
 2640 02c2 02       		.uleb128 0x2
 2641 02c3 91       		.byte	0x91
 2642 02c4 74       		.sleb128 -12
 2643 02c5 15       		.uleb128 0x15
 2644 02c6 55020000 		.4byte	.LASF41
 2645 02ca 01       		.byte	0x1
 2646 02cb 5903     		.2byte	0x359
 2647 02cd 81000000 		.4byte	0x81
 2648 02d1 02       		.uleb128 0x2
 2649 02d2 91       		.byte	0x91
 2650 02d3 73       		.sleb128 -13
 2651 02d4 00       		.byte	0
 2652 02d5 16       		.uleb128 0x16
 2653 02d6 4E010000 		.4byte	.LASF100
 2654 02da 01       		.byte	0x1
 2655 02db 6C04     		.2byte	0x46c
 2656 02dd 00000000 		.4byte	.LFB67
 2657 02e1 18000000 		.4byte	.LFE67-.LFB67
 2658 02e5 01       		.uleb128 0x1
 2659 02e6 9C       		.byte	0x9c
 2660 02e7 14       		.uleb128 0x14
 2661 02e8 74050000 		.4byte	.LASF42
 2662 02ec 01       		.byte	0x1
 2663 02ed 9104     		.2byte	0x491
 2664 02ef 00000000 		.4byte	.LFB68
 2665 02f3 80000000 		.4byte	.LFE68-.LFB68
 2666 02f7 01       		.uleb128 0x1
 2667 02f8 9C       		.byte	0x9c
 2668 02f9 26030000 		.4byte	0x326
 2669 02fd 0F       		.uleb128 0xf
 2670 02fe 06000000 		.4byte	.LASF43
 2671 0302 01       		.byte	0x1
 2672 0303 9104     		.2byte	0x491
 2673 0305 81000000 		.4byte	0x81
 2674 0309 02       		.uleb128 0x2
 2675 030a 91       		.byte	0x91
 2676 030b 6F       		.sleb128 -17
 2677 030c 17       		.uleb128 0x17
 2678 030d 26000000 		.4byte	.LBB2
 2679 0311 40000000 		.4byte	.LBE2-.LBB2
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 101


 2680 0315 10       		.uleb128 0x10
 2681 0316 69647800 		.ascii	"idx\000"
 2682 031a 01       		.byte	0x1
 2683 031b 9C04     		.2byte	0x49c
 2684 031d 81000000 		.4byte	0x81
 2685 0321 02       		.uleb128 0x2
 2686 0322 91       		.byte	0x91
 2687 0323 77       		.sleb128 -9
 2688 0324 00       		.byte	0
 2689 0325 00       		.byte	0
 2690 0326 14       		.uleb128 0x14
 2691 0327 52030000 		.4byte	.LASF44
 2692 032b 01       		.byte	0x1
 2693 032c C604     		.2byte	0x4c6
 2694 032e 00000000 		.4byte	.LFB69
 2695 0332 4C000000 		.4byte	.LFE69-.LFB69
 2696 0336 01       		.uleb128 0x1
 2697 0337 9C       		.byte	0x9c
 2698 0338 56030000 		.4byte	0x356
 2699 033c 17       		.uleb128 0x17
 2700 033d 14000000 		.4byte	.LBB3
 2701 0341 2C000000 		.4byte	.LBE3-.LBB3
 2702 0345 15       		.uleb128 0x15
 2703 0346 44010000 		.4byte	.LASF45
 2704 034a 01       		.byte	0x1
 2705 034b E204     		.2byte	0x4e2
 2706 034d 81000000 		.4byte	0x81
 2707 0351 02       		.uleb128 0x2
 2708 0352 91       		.byte	0x91
 2709 0353 77       		.sleb128 -9
 2710 0354 00       		.byte	0
 2711 0355 00       		.byte	0
 2712 0356 18       		.uleb128 0x18
 2713 0357 10050000 		.4byte	.LASF51
 2714 035b 01       		.byte	0x1
 2715 035c 1A05     		.2byte	0x51a
 2716 035e 00000000 		.4byte	.LFB70
 2717 0362 04000000 		.4byte	.LFE70-.LFB70
 2718 0366 01       		.uleb128 0x1
 2719 0367 9C       		.byte	0x9c
 2720 0368 7B030000 		.4byte	0x37b
 2721 036c 0F       		.uleb128 0xf
 2722 036d 31000000 		.4byte	.LASF46
 2723 0371 01       		.byte	0x1
 2724 0372 1A05     		.2byte	0x51a
 2725 0374 99000000 		.4byte	0x99
 2726 0378 01       		.uleb128 0x1
 2727 0379 50       		.byte	0x50
 2728 037a 00       		.byte	0
 2729 037b 13       		.uleb128 0x13
 2730 037c B1010000 		.4byte	.LASF48
 2731 0380 01       		.byte	0x1
 2732 0381 4505     		.2byte	0x545
 2733 0383 BA000000 		.4byte	0xba
 2734 0387 00000000 		.4byte	.LFB71
 2735 038b EC000000 		.4byte	.LFE71-.LFB71
 2736 038f 01       		.uleb128 0x1
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 102


 2737 0390 9C       		.byte	0x9c
 2738 0391 FA030000 		.4byte	0x3fa
 2739 0395 0F       		.uleb128 0xf
 2740 0396 06000000 		.4byte	.LASF43
 2741 039a 01       		.byte	0x1
 2742 039b 4505     		.2byte	0x545
 2743 039d 81000000 		.4byte	0x81
 2744 03a1 02       		.uleb128 0x2
 2745 03a2 91       		.byte	0x91
 2746 03a3 5F       		.sleb128 -33
 2747 03a4 10       		.uleb128 0x10
 2748 03a5 69647800 		.ascii	"idx\000"
 2749 03a9 01       		.byte	0x1
 2750 03aa 4805     		.2byte	0x548
 2751 03ac 99000000 		.4byte	0x99
 2752 03b0 02       		.uleb128 0x2
 2753 03b1 91       		.byte	0x91
 2754 03b2 6C       		.sleb128 -20
 2755 03b3 10       		.uleb128 0x10
 2756 03b4 656E6400 		.ascii	"end\000"
 2757 03b8 01       		.byte	0x1
 2758 03b9 4A05     		.2byte	0x54a
 2759 03bb 99000000 		.4byte	0x99
 2760 03bf 02       		.uleb128 0x2
 2761 03c0 91       		.byte	0x91
 2762 03c1 64       		.sleb128 -28
 2763 03c2 15       		.uleb128 0x15
 2764 03c3 00000000 		.4byte	.LASF49
 2765 03c7 01       		.byte	0x1
 2766 03c8 4D05     		.2byte	0x54d
 2767 03ca 81000000 		.4byte	0x81
 2768 03ce 02       		.uleb128 0x2
 2769 03cf 91       		.byte	0x91
 2770 03d0 6B       		.sleb128 -21
 2771 03d1 15       		.uleb128 0x15
 2772 03d2 55020000 		.4byte	.LASF41
 2773 03d6 01       		.byte	0x1
 2774 03d7 4E05     		.2byte	0x54e
 2775 03d9 81000000 		.4byte	0x81
 2776 03dd 02       		.uleb128 0x2
 2777 03de 91       		.byte	0x91
 2778 03df 6A       		.sleb128 -22
 2779 03e0 17       		.uleb128 0x17
 2780 03e1 46000000 		.4byte	.LBB4
 2781 03e5 1E000000 		.4byte	.LBE4-.LBB4
 2782 03e9 15       		.uleb128 0x15
 2783 03ea 28020000 		.4byte	.LASF50
 2784 03ee 01       		.byte	0x1
 2785 03ef 6705     		.2byte	0x567
 2786 03f1 81000000 		.4byte	0x81
 2787 03f5 02       		.uleb128 0x2
 2788 03f6 91       		.byte	0x91
 2789 03f7 63       		.sleb128 -29
 2790 03f8 00       		.byte	0
 2791 03f9 00       		.byte	0
 2792 03fa 19       		.uleb128 0x19
 2793 03fb 6F000000 		.4byte	.LASF52
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 103


 2794 03ff 01       		.byte	0x1
 2795 0400 6206     		.2byte	0x662
 2796 0402 00000000 		.4byte	.LFB72
 2797 0406 78070000 		.4byte	.LFE72-.LFB72
 2798 040a 01       		.uleb128 0x1
 2799 040b 9C       		.byte	0x9c
 2800 040c ED050000 		.4byte	0x5ed
 2801 0410 0F       		.uleb128 0xf
 2802 0411 60040000 		.4byte	.LASF53
 2803 0415 01       		.byte	0x1
 2804 0416 6206     		.2byte	0x662
 2805 0418 81000000 		.4byte	0x81
 2806 041c 03       		.uleb128 0x3
 2807 041d 91       		.byte	0x91
 2808 041e D77A     		.sleb128 -681
 2809 0420 15       		.uleb128 0x15
 2810 0421 4A020000 		.4byte	.LASF54
 2811 0425 01       		.byte	0x1
 2812 0426 6906     		.2byte	0x669
 2813 0428 8D000000 		.4byte	0x8d
 2814 042c 02       		.uleb128 0x2
 2815 042d 91       		.byte	0x91
 2816 042e 50       		.sleb128 -48
 2817 042f 15       		.uleb128 0x15
 2818 0430 71040000 		.4byte	.LASF55
 2819 0434 01       		.byte	0x1
 2820 0435 6A06     		.2byte	0x66a
 2821 0437 8D000000 		.4byte	0x8d
 2822 043b 02       		.uleb128 0x2
 2823 043c 91       		.byte	0x91
 2824 043d 76       		.sleb128 -10
 2825 043e 15       		.uleb128 0x15
 2826 043f 55000000 		.4byte	.LASF56
 2827 0443 01       		.byte	0x1
 2828 0444 6B06     		.2byte	0x66b
 2829 0446 81000000 		.4byte	0x81
 2830 044a 02       		.uleb128 0x2
 2831 044b 91       		.byte	0x91
 2832 044c 75       		.sleb128 -11
 2833 044d 15       		.uleb128 0x15
 2834 044e 32030000 		.4byte	.LASF57
 2835 0452 01       		.byte	0x1
 2836 0453 6C06     		.2byte	0x66c
 2837 0455 8D000000 		.4byte	0x8d
 2838 0459 02       		.uleb128 0x2
 2839 045a 91       		.byte	0x91
 2840 045b 5E       		.sleb128 -34
 2841 045c 15       		.uleb128 0x15
 2842 045d 2B040000 		.4byte	.LASF58
 2843 0461 01       		.byte	0x1
 2844 0462 6D06     		.2byte	0x66d
 2845 0464 BA000000 		.4byte	0xba
 2846 0468 02       		.uleb128 0x2
 2847 0469 91       		.byte	0x91
 2848 046a 60       		.sleb128 -32
 2849 046b 15       		.uleb128 0x15
 2850 046c 29000000 		.4byte	.LASF59
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 104


 2851 0470 01       		.byte	0x1
 2852 0471 6E06     		.2byte	0x66e
 2853 0473 8D000000 		.4byte	0x8d
 2854 0477 02       		.uleb128 0x2
 2855 0478 91       		.byte	0x91
 2856 0479 72       		.sleb128 -14
 2857 047a 15       		.uleb128 0x15
 2858 047b 97020000 		.4byte	.LASF60
 2859 047f 01       		.byte	0x1
 2860 0480 6F06     		.2byte	0x66f
 2861 0482 81000000 		.4byte	0x81
 2862 0486 02       		.uleb128 0x2
 2863 0487 91       		.byte	0x91
 2864 0488 71       		.sleb128 -15
 2865 0489 15       		.uleb128 0x15
 2866 048a 1C010000 		.4byte	.LASF61
 2867 048e 01       		.byte	0x1
 2868 048f 7D06     		.2byte	0x67d
 2869 0491 81000000 		.4byte	0x81
 2870 0495 02       		.uleb128 0x2
 2871 0496 91       		.byte	0x91
 2872 0497 70       		.sleb128 -16
 2873 0498 15       		.uleb128 0x15
 2874 0499 11010000 		.4byte	.LASF62
 2875 049d 01       		.byte	0x1
 2876 049e 7E06     		.2byte	0x67e
 2877 04a0 8D000000 		.4byte	0x8d
 2878 04a4 02       		.uleb128 0x2
 2879 04a5 91       		.byte	0x91
 2880 04a6 6E       		.sleb128 -18
 2881 04a7 15       		.uleb128 0x15
 2882 04a8 EE030000 		.4byte	.LASF63
 2883 04ac 01       		.byte	0x1
 2884 04ad 8106     		.2byte	0x681
 2885 04af ED050000 		.4byte	0x5ed
 2886 04b3 03       		.uleb128 0x3
 2887 04b4 91       		.byte	0x91
 2888 04b5 A47D     		.sleb128 -348
 2889 04b7 15       		.uleb128 0x15
 2890 04b8 D9020000 		.4byte	.LASF64
 2891 04bc 01       		.byte	0x1
 2892 04bd 8206     		.2byte	0x682
 2893 04bf ED050000 		.4byte	0x5ed
 2894 04c3 03       		.uleb128 0x3
 2895 04c4 91       		.byte	0x91
 2896 04c5 F87A     		.sleb128 -648
 2897 04c7 17       		.uleb128 0x17
 2898 04c8 5C010000 		.4byte	.LBB5
 2899 04cc E0050000 		.4byte	.LBE5-.LBB5
 2900 04d0 15       		.uleb128 0x15
 2901 04d1 41000000 		.4byte	.LASF65
 2902 04d5 01       		.byte	0x1
 2903 04d6 E906     		.2byte	0x6e9
 2904 04d8 81000000 		.4byte	0x81
 2905 04dc 02       		.uleb128 0x2
 2906 04dd 91       		.byte	0x91
 2907 04de 5D       		.sleb128 -35
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 105


 2908 04df 1A       		.uleb128 0x1a
 2909 04e0 06020000 		.4byte	.LBB6
 2910 04e4 7E000000 		.4byte	.LBE6-.LBB6
 2911 04e8 0B050000 		.4byte	0x50b
 2912 04ec 15       		.uleb128 0x15
 2913 04ed 66000000 		.4byte	.LASF66
 2914 04f1 01       		.byte	0x1
 2915 04f2 A707     		.2byte	0x7a7
 2916 04f4 8D000000 		.4byte	0x8d
 2917 04f8 02       		.uleb128 0x2
 2918 04f9 91       		.byte	0x91
 2919 04fa 6C       		.sleb128 -20
 2920 04fb 15       		.uleb128 0x15
 2921 04fc 16020000 		.4byte	.LASF67
 2922 0500 01       		.byte	0x1
 2923 0501 A807     		.2byte	0x7a8
 2924 0503 81000000 		.4byte	0x81
 2925 0507 02       		.uleb128 0x2
 2926 0508 91       		.byte	0x91
 2927 0509 5C       		.sleb128 -36
 2928 050a 00       		.byte	0
 2929 050b 1B       		.uleb128 0x1b
 2930 050c 00000000 		.4byte	.Ldebug_ranges0+0
 2931 0510 48050000 		.4byte	0x548
 2932 0514 15       		.uleb128 0x15
 2933 0515 45050000 		.4byte	.LASF68
 2934 0519 01       		.byte	0x1
 2935 051a 3108     		.2byte	0x831
 2936 051c 8D000000 		.4byte	0x8d
 2937 0520 02       		.uleb128 0x2
 2938 0521 91       		.byte	0x91
 2939 0522 6A       		.sleb128 -22
 2940 0523 1C       		.uleb128 0x1c
 2941 0524 18000000 		.4byte	.Ldebug_ranges0+0x18
 2942 0528 10       		.uleb128 0x10
 2943 0529 726F7700 		.ascii	"row\000"
 2944 052d 01       		.byte	0x1
 2945 052e 5908     		.2byte	0x859
 2946 0530 8D000000 		.4byte	0x8d
 2947 0534 02       		.uleb128 0x2
 2948 0535 91       		.byte	0x91
 2949 0536 5A       		.sleb128 -38
 2950 0537 15       		.uleb128 0x15
 2951 0538 CD050000 		.4byte	.LASF69
 2952 053c 01       		.byte	0x1
 2953 053d 5A08     		.2byte	0x85a
 2954 053f 8D000000 		.4byte	0x8d
 2955 0543 02       		.uleb128 0x2
 2956 0544 91       		.byte	0x91
 2957 0545 68       		.sleb128 -24
 2958 0546 00       		.byte	0
 2959 0547 00       		.byte	0
 2960 0548 1A       		.uleb128 0x1a
 2961 0549 8A040000 		.4byte	.LBB10
 2962 054d 3A000000 		.4byte	.LBE10-.LBB10
 2963 0551 66050000 		.4byte	0x566
 2964 0555 15       		.uleb128 0x15
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 106


 2965 0556 2F010000 		.4byte	.LASF70
 2966 055a 01       		.byte	0x1
 2967 055b A209     		.2byte	0x9a2
 2968 055d C5010000 		.4byte	0x1c5
 2969 0561 03       		.uleb128 0x3
 2970 0562 91       		.byte	0x91
 2971 0563 F07A     		.sleb128 -656
 2972 0565 00       		.byte	0
 2973 0566 1B       		.uleb128 0x1b
 2974 0567 30000000 		.4byte	.Ldebug_ranges0+0x30
 2975 056b C5050000 		.4byte	0x5c5
 2976 056f 15       		.uleb128 0x15
 2977 0570 78020000 		.4byte	.LASF71
 2978 0574 01       		.byte	0x1
 2979 0575 E309     		.2byte	0x9e3
 2980 0577 8D000000 		.4byte	0x8d
 2981 057b 02       		.uleb128 0x2
 2982 057c 91       		.byte	0x91
 2983 057d 58       		.sleb128 -40
 2984 057e 15       		.uleb128 0x15
 2985 057f DF010000 		.4byte	.LASF72
 2986 0583 01       		.byte	0x1
 2987 0584 E609     		.2byte	0x9e6
 2988 0586 8D000000 		.4byte	0x8d
 2989 058a 02       		.uleb128 0x2
 2990 058b 91       		.byte	0x91
 2991 058c 52       		.sleb128 -46
 2992 058d 15       		.uleb128 0x15
 2993 058e A8040000 		.4byte	.LASF73
 2994 0592 01       		.byte	0x1
 2995 0593 E909     		.2byte	0x9e9
 2996 0595 99000000 		.4byte	0x99
 2997 0599 02       		.uleb128 0x2
 2998 059a 91       		.byte	0x91
 2999 059b 54       		.sleb128 -44
 3000 059c 15       		.uleb128 0x15
 3001 059d 7A010000 		.4byte	.LASF74
 3002 05a1 01       		.byte	0x1
 3003 05a2 EA09     		.2byte	0x9ea
 3004 05a4 81000000 		.4byte	0x81
 3005 05a8 02       		.uleb128 0x2
 3006 05a9 91       		.byte	0x91
 3007 05aa 67       		.sleb128 -25
 3008 05ab 17       		.uleb128 0x17
 3009 05ac A0050000 		.4byte	.LBB12
 3010 05b0 48000000 		.4byte	.LBE12-.LBB12
 3011 05b4 15       		.uleb128 0x15
 3012 05b5 30020000 		.4byte	.LASF75
 3013 05b9 01       		.byte	0x1
 3014 05ba 2B0A     		.2byte	0xa2b
 3015 05bc 8D000000 		.4byte	0x8d
 3016 05c0 02       		.uleb128 0x2
 3017 05c1 91       		.byte	0x91
 3018 05c2 64       		.sleb128 -28
 3019 05c3 00       		.byte	0
 3020 05c4 00       		.byte	0
 3021 05c5 1C       		.uleb128 0x1c
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 107


 3022 05c6 48000000 		.4byte	.Ldebug_ranges0+0x48
 3023 05ca 15       		.uleb128 0x15
 3024 05cb 64020000 		.4byte	.LASF76
 3025 05cf 01       		.byte	0x1
 3026 05d0 860A     		.2byte	0xa86
 3027 05d2 18010000 		.4byte	0x118
 3028 05d6 03       		.uleb128 0x3
 3029 05d7 91       		.byte	0x91
 3030 05d8 E87A     		.sleb128 -664
 3031 05da 15       		.uleb128 0x15
 3032 05db FB030000 		.4byte	.LASF77
 3033 05df 01       		.byte	0x1
 3034 05e0 870A     		.2byte	0xa87
 3035 05e2 50010000 		.4byte	0x150
 3036 05e6 03       		.uleb128 0x3
 3037 05e7 91       		.byte	0x91
 3038 05e8 DC7A     		.sleb128 -676
 3039 05ea 00       		.byte	0
 3040 05eb 00       		.byte	0
 3041 05ec 00       		.byte	0
 3042 05ed 0C       		.uleb128 0xc
 3043 05ee 81000000 		.4byte	0x81
 3044 05f2 FE050000 		.4byte	0x5fe
 3045 05f6 1D       		.uleb128 0x1d
 3046 05f7 DE000000 		.4byte	0xde
 3047 05fb 2B01     		.2byte	0x12b
 3048 05fd 00       		.byte	0
 3049 05fe 1E       		.uleb128 0x1e
 3050 05ff FF010000 		.4byte	.LASF79
 3051 0603 01       		.byte	0x1
 3052 0604 C80A     		.2byte	0xac8
 3053 0606 BA000000 		.4byte	0xba
 3054 060a 00000000 		.4byte	.LFB73
 3055 060e 8E000000 		.4byte	.LFE73-.LFB73
 3056 0612 01       		.uleb128 0x1
 3057 0613 9C       		.byte	0x9c
 3058 0614 55060000 		.4byte	0x655
 3059 0618 0F       		.uleb128 0xf
 3060 0619 A8030000 		.4byte	.LASF25
 3061 061d 01       		.byte	0x1
 3062 061e C80A     		.2byte	0xac8
 3063 0620 81000000 		.4byte	0x81
 3064 0624 02       		.uleb128 0x2
 3065 0625 91       		.byte	0x91
 3066 0626 6F       		.sleb128 -17
 3067 0627 0F       		.uleb128 0xf
 3068 0628 83040000 		.4byte	.LASF33
 3069 062c 01       		.byte	0x1
 3070 062d C80A     		.2byte	0xac8
 3071 062f 12010000 		.4byte	0x112
 3072 0633 02       		.uleb128 0x2
 3073 0634 91       		.byte	0x91
 3074 0635 68       		.sleb128 -24
 3075 0636 0F       		.uleb128 0xf
 3076 0637 0B050000 		.4byte	.LASF34
 3077 063b 01       		.byte	0x1
 3078 063c C80A     		.2byte	0xac8
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 108


 3079 063e 8D000000 		.4byte	0x8d
 3080 0642 02       		.uleb128 0x2
 3081 0643 91       		.byte	0x91
 3082 0644 6C       		.sleb128 -20
 3083 0645 15       		.uleb128 0x15
 3084 0646 7A010000 		.4byte	.LASF74
 3085 064a 01       		.byte	0x1
 3086 064b CB0A     		.2byte	0xacb
 3087 064d 8D000000 		.4byte	0x8d
 3088 0651 02       		.uleb128 0x2
 3089 0652 91       		.byte	0x91
 3090 0653 76       		.sleb128 -10
 3091 0654 00       		.byte	0
 3092 0655 14       		.uleb128 0x14
 3093 0656 7F020000 		.4byte	.LASF80
 3094 065a 01       		.byte	0x1
 3095 065b EC0A     		.2byte	0xaec
 3096 065d 00000000 		.4byte	.LFB74
 3097 0661 AE000000 		.4byte	.LFE74-.LFB74
 3098 0665 01       		.uleb128 0x1
 3099 0666 9C       		.byte	0x9c
 3100 0667 E7060000 		.4byte	0x6e7
 3101 066b 0F       		.uleb128 0xf
 3102 066c 72010000 		.4byte	.LASF81
 3103 0670 01       		.byte	0x1
 3104 0671 EC0A     		.2byte	0xaec
 3105 0673 99000000 		.4byte	0x99
 3106 0677 03       		.uleb128 0x3
 3107 0678 91       		.byte	0x91
 3108 0679 E47D     		.sleb128 -284
 3109 067b 0F       		.uleb128 0xf
 3110 067c 3C010000 		.4byte	.LASF82
 3111 0680 01       		.byte	0x1
 3112 0681 EC0A     		.2byte	0xaec
 3113 0683 81000000 		.4byte	0x81
 3114 0687 03       		.uleb128 0x3
 3115 0688 91       		.byte	0x91
 3116 0689 E37D     		.sleb128 -285
 3117 068b 15       		.uleb128 0x15
 3118 068c EF040000 		.4byte	.LASF83
 3119 0690 01       		.byte	0x1
 3120 0691 EE0A     		.2byte	0xaee
 3121 0693 99000000 		.4byte	0x99
 3122 0697 02       		.uleb128 0x2
 3123 0698 91       		.byte	0x91
 3124 0699 70       		.sleb128 -16
 3125 069a 15       		.uleb128 0x15
 3126 069b 39000000 		.4byte	.LASF84
 3127 069f 01       		.byte	0x1
 3128 06a0 EF0A     		.2byte	0xaef
 3129 06a2 E7060000 		.4byte	0x6e7
 3130 06a6 03       		.uleb128 0x3
 3131 06a7 91       		.byte	0x91
 3132 06a8 E87D     		.sleb128 -280
 3133 06aa 15       		.uleb128 0x15
 3134 06ab 84050000 		.4byte	.LASF85
 3135 06af 01       		.byte	0x1
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 109


 3136 06b0 F20A     		.2byte	0xaf2
 3137 06b2 81000000 		.4byte	0x81
 3138 06b6 02       		.uleb128 0x2
 3139 06b7 91       		.byte	0x91
 3140 06b8 6F       		.sleb128 -17
 3141 06b9 15       		.uleb128 0x15
 3142 06ba 78020000 		.4byte	.LASF71
 3143 06be 01       		.byte	0x1
 3144 06bf F80A     		.2byte	0xaf8
 3145 06c1 8D000000 		.4byte	0x8d
 3146 06c5 02       		.uleb128 0x2
 3147 06c6 91       		.byte	0x91
 3148 06c7 6C       		.sleb128 -20
 3149 06c8 15       		.uleb128 0x15
 3150 06c9 19000000 		.4byte	.LASF36
 3151 06cd 01       		.byte	0x1
 3152 06ce FB0A     		.2byte	0xafb
 3153 06d0 99000000 		.4byte	0x99
 3154 06d4 02       		.uleb128 0x2
 3155 06d5 91       		.byte	0x91
 3156 06d6 68       		.sleb128 -24
 3157 06d7 10       		.uleb128 0x10
 3158 06d8 69647800 		.ascii	"idx\000"
 3159 06dc 01       		.byte	0x1
 3160 06dd FC0A     		.2byte	0xafc
 3161 06df 8D000000 		.4byte	0x8d
 3162 06e3 02       		.uleb128 0x2
 3163 06e4 91       		.byte	0x91
 3164 06e5 76       		.sleb128 -10
 3165 06e6 00       		.byte	0
 3166 06e7 0C       		.uleb128 0xc
 3167 06e8 81000000 		.4byte	0x81
 3168 06ec F7060000 		.4byte	0x6f7
 3169 06f0 0D       		.uleb128 0xd
 3170 06f1 DE000000 		.4byte	0xde
 3171 06f5 FF       		.byte	0xff
 3172 06f6 00       		.byte	0
 3173 06f7 13       		.uleb128 0x13
 3174 06f8 C2020000 		.4byte	.LASF86
 3175 06fc 01       		.byte	0x1
 3176 06fd 2D0B     		.2byte	0xb2d
 3177 06ff 99000000 		.4byte	0x99
 3178 0703 00000000 		.4byte	.LFB75
 3179 0707 00020000 		.4byte	.LFE75-.LFB75
 3180 070b 01       		.uleb128 0x1
 3181 070c 9C       		.byte	0x9c
 3182 070d 5D070000 		.4byte	0x75d
 3183 0711 0F       		.uleb128 0xf
 3184 0712 66030000 		.4byte	.LASF87
 3185 0716 01       		.byte	0x1
 3186 0717 2D0B     		.2byte	0xb2d
 3187 0719 81000000 		.4byte	0x81
 3188 071d 02       		.uleb128 0x2
 3189 071e 91       		.byte	0x91
 3190 071f 67       		.sleb128 -25
 3191 0720 0F       		.uleb128 0xf
 3192 0721 06000000 		.4byte	.LASF43
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 110


 3193 0725 01       		.byte	0x1
 3194 0726 2D0B     		.2byte	0xb2d
 3195 0728 81000000 		.4byte	0x81
 3196 072c 02       		.uleb128 0x2
 3197 072d 91       		.byte	0x91
 3198 072e 66       		.sleb128 -26
 3199 072f 15       		.uleb128 0x15
 3200 0730 E3050000 		.4byte	.LASF88
 3201 0734 01       		.byte	0x1
 3202 0735 2F0B     		.2byte	0xb2f
 3203 0737 99000000 		.4byte	0x99
 3204 073b 02       		.uleb128 0x2
 3205 073c 91       		.byte	0x91
 3206 073d 74       		.sleb128 -12
 3207 073e 15       		.uleb128 0x15
 3208 073f 9E030000 		.4byte	.LASF89
 3209 0743 01       		.byte	0x1
 3210 0744 300B     		.2byte	0xb30
 3211 0746 81000000 		.4byte	0x81
 3212 074a 02       		.uleb128 0x2
 3213 074b 91       		.byte	0x91
 3214 074c 73       		.sleb128 -13
 3215 074d 15       		.uleb128 0x15
 3216 074e 0C000000 		.4byte	.LASF90
 3217 0752 01       		.byte	0x1
 3218 0753 310B     		.2byte	0xb31
 3219 0755 99000000 		.4byte	0x99
 3220 0759 02       		.uleb128 0x2
 3221 075a 91       		.byte	0x91
 3222 075b 6C       		.sleb128 -20
 3223 075c 00       		.byte	0
 3224 075d 1F       		.uleb128 0x1f
 3225 075e F7040000 		.4byte	.LASF91
 3226 0762 01       		.byte	0x1
 3227 0763 72       		.byte	0x72
 3228 0764 5B010000 		.4byte	0x15b
 3229 0768 05       		.uleb128 0x5
 3230 0769 03       		.byte	0x3
 3231 076a 00000000 		.4byte	Bootloader_callback
 3232 076e 20       		.uleb128 0x20
 3233 076f 3E030000 		.4byte	.LASF92
 3234 0773 01       		.byte	0x1
 3235 0774 2E       		.byte	0x2e
 3236 0775 1E020000 		.4byte	0x21e
 3237 0779 05       		.uleb128 0x5
 3238 077a 03       		.byte	0x3
 3239 077b 00000000 		.4byte	Bootloader_Checksum
 3240 077f 20       		.uleb128 0x20
 3241 0780 6C030000 		.4byte	.LASF93
 3242 0784 01       		.byte	0x1
 3243 0785 32       		.byte	0x32
 3244 0786 18020000 		.4byte	0x218
 3245 078a 05       		.uleb128 0x5
 3246 078b 03       		.byte	0x3
 3247 078c 00000000 		.4byte	Bootloader_ChecksumAccess
 3248 0790 20       		.uleb128 0x20
 3249 0791 9D050000 		.4byte	.LASF94
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 111


 3250 0795 01       		.byte	0x1
 3251 0796 36       		.byte	0x36
 3252 0797 A1070000 		.4byte	0x7a1
 3253 079b 05       		.uleb128 0x5
 3254 079c 03       		.byte	0x3
 3255 079d 00000000 		.4byte	Bootloader_SizeBytes
 3256 07a1 11       		.uleb128 0x11
 3257 07a2 99000000 		.4byte	0x99
 3258 07a6 20       		.uleb128 0x20
 3259 07a7 B2050000 		.4byte	.LASF95
 3260 07ab 01       		.byte	0x1
 3261 07ac 3E       		.byte	0x3e
 3262 07ad B7070000 		.4byte	0x7b7
 3263 07b1 05       		.uleb128 0x5
 3264 07b2 03       		.byte	0x3
 3265 07b3 00000000 		.4byte	Bootloader_SizeBytesAccess
 3266 07b7 09       		.uleb128 0x9
 3267 07b8 04       		.byte	0x4
 3268 07b9 A1070000 		.4byte	0x7a1
 3269 07bd 21       		.uleb128 0x21
 3270 07be D6050000 		.4byte	.LASF96
 3271 07c2 07       		.byte	0x7
 3272 07c3 1207     		.2byte	0x712
 3273 07c5 C9070000 		.4byte	0x7c9
 3274 07c9 06       		.uleb128 0x6
 3275 07ca 76000000 		.4byte	0x76
 3276 07ce 00       		.byte	0
 3277              		.section	.debug_abbrev,"",%progbits
 3278              	.Ldebug_abbrev0:
 3279 0000 01       		.uleb128 0x1
 3280 0001 11       		.uleb128 0x11
 3281 0002 01       		.byte	0x1
 3282 0003 25       		.uleb128 0x25
 3283 0004 0E       		.uleb128 0xe
 3284 0005 13       		.uleb128 0x13
 3285 0006 0B       		.uleb128 0xb
 3286 0007 03       		.uleb128 0x3
 3287 0008 0E       		.uleb128 0xe
 3288 0009 1B       		.uleb128 0x1b
 3289 000a 0E       		.uleb128 0xe
 3290 000b 55       		.uleb128 0x55
 3291 000c 17       		.uleb128 0x17
 3292 000d 11       		.uleb128 0x11
 3293 000e 01       		.uleb128 0x1
 3294 000f 10       		.uleb128 0x10
 3295 0010 17       		.uleb128 0x17
 3296 0011 00       		.byte	0
 3297 0012 00       		.byte	0
 3298 0013 02       		.uleb128 0x2
 3299 0014 24       		.uleb128 0x24
 3300 0015 00       		.byte	0
 3301 0016 0B       		.uleb128 0xb
 3302 0017 0B       		.uleb128 0xb
 3303 0018 3E       		.uleb128 0x3e
 3304 0019 0B       		.uleb128 0xb
 3305 001a 03       		.uleb128 0x3
 3306 001b 0E       		.uleb128 0xe
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 112


 3307 001c 00       		.byte	0
 3308 001d 00       		.byte	0
 3309 001e 03       		.uleb128 0x3
 3310 001f 16       		.uleb128 0x16
 3311 0020 00       		.byte	0
 3312 0021 03       		.uleb128 0x3
 3313 0022 0E       		.uleb128 0xe
 3314 0023 3A       		.uleb128 0x3a
 3315 0024 0B       		.uleb128 0xb
 3316 0025 3B       		.uleb128 0x3b
 3317 0026 0B       		.uleb128 0xb
 3318 0027 49       		.uleb128 0x49
 3319 0028 13       		.uleb128 0x13
 3320 0029 00       		.byte	0
 3321 002a 00       		.byte	0
 3322 002b 04       		.uleb128 0x4
 3323 002c 24       		.uleb128 0x24
 3324 002d 00       		.byte	0
 3325 002e 0B       		.uleb128 0xb
 3326 002f 0B       		.uleb128 0xb
 3327 0030 3E       		.uleb128 0x3e
 3328 0031 0B       		.uleb128 0xb
 3329 0032 03       		.uleb128 0x3
 3330 0033 08       		.uleb128 0x8
 3331 0034 00       		.byte	0
 3332 0035 00       		.byte	0
 3333 0036 05       		.uleb128 0x5
 3334 0037 16       		.uleb128 0x16
 3335 0038 00       		.byte	0
 3336 0039 03       		.uleb128 0x3
 3337 003a 0E       		.uleb128 0xe
 3338 003b 3A       		.uleb128 0x3a
 3339 003c 0B       		.uleb128 0xb
 3340 003d 3B       		.uleb128 0x3b
 3341 003e 05       		.uleb128 0x5
 3342 003f 49       		.uleb128 0x49
 3343 0040 13       		.uleb128 0x13
 3344 0041 00       		.byte	0
 3345 0042 00       		.byte	0
 3346 0043 06       		.uleb128 0x6
 3347 0044 35       		.uleb128 0x35
 3348 0045 00       		.byte	0
 3349 0046 49       		.uleb128 0x49
 3350 0047 13       		.uleb128 0x13
 3351 0048 00       		.byte	0
 3352 0049 00       		.byte	0
 3353 004a 07       		.uleb128 0x7
 3354 004b 13       		.uleb128 0x13
 3355 004c 01       		.byte	0x1
 3356 004d 0B       		.uleb128 0xb
 3357 004e 0B       		.uleb128 0xb
 3358 004f 3A       		.uleb128 0x3a
 3359 0050 0B       		.uleb128 0xb
 3360 0051 3B       		.uleb128 0x3b
 3361 0052 0B       		.uleb128 0xb
 3362 0053 01       		.uleb128 0x1
 3363 0054 13       		.uleb128 0x13
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 113


 3364 0055 00       		.byte	0
 3365 0056 00       		.byte	0
 3366 0057 08       		.uleb128 0x8
 3367 0058 0D       		.uleb128 0xd
 3368 0059 00       		.byte	0
 3369 005a 03       		.uleb128 0x3
 3370 005b 0E       		.uleb128 0xe
 3371 005c 3A       		.uleb128 0x3a
 3372 005d 0B       		.uleb128 0xb
 3373 005e 3B       		.uleb128 0x3b
 3374 005f 0B       		.uleb128 0xb
 3375 0060 49       		.uleb128 0x49
 3376 0061 13       		.uleb128 0x13
 3377 0062 38       		.uleb128 0x38
 3378 0063 0B       		.uleb128 0xb
 3379 0064 00       		.byte	0
 3380 0065 00       		.byte	0
 3381 0066 09       		.uleb128 0x9
 3382 0067 0F       		.uleb128 0xf
 3383 0068 00       		.byte	0
 3384 0069 0B       		.uleb128 0xb
 3385 006a 0B       		.uleb128 0xb
 3386 006b 49       		.uleb128 0x49
 3387 006c 13       		.uleb128 0x13
 3388 006d 00       		.byte	0
 3389 006e 00       		.byte	0
 3390 006f 0A       		.uleb128 0xa
 3391 0070 15       		.uleb128 0x15
 3392 0071 01       		.byte	0x1
 3393 0072 27       		.uleb128 0x27
 3394 0073 19       		.uleb128 0x19
 3395 0074 01       		.uleb128 0x1
 3396 0075 13       		.uleb128 0x13
 3397 0076 00       		.byte	0
 3398 0077 00       		.byte	0
 3399 0078 0B       		.uleb128 0xb
 3400 0079 05       		.uleb128 0x5
 3401 007a 00       		.byte	0
 3402 007b 49       		.uleb128 0x49
 3403 007c 13       		.uleb128 0x13
 3404 007d 00       		.byte	0
 3405 007e 00       		.byte	0
 3406 007f 0C       		.uleb128 0xc
 3407 0080 01       		.uleb128 0x1
 3408 0081 01       		.byte	0x1
 3409 0082 49       		.uleb128 0x49
 3410 0083 13       		.uleb128 0x13
 3411 0084 01       		.uleb128 0x1
 3412 0085 13       		.uleb128 0x13
 3413 0086 00       		.byte	0
 3414 0087 00       		.byte	0
 3415 0088 0D       		.uleb128 0xd
 3416 0089 21       		.uleb128 0x21
 3417 008a 00       		.byte	0
 3418 008b 49       		.uleb128 0x49
 3419 008c 13       		.uleb128 0x13
 3420 008d 2F       		.uleb128 0x2f
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 114


 3421 008e 0B       		.uleb128 0xb
 3422 008f 00       		.byte	0
 3423 0090 00       		.byte	0
 3424 0091 0E       		.uleb128 0xe
 3425 0092 2E       		.uleb128 0x2e
 3426 0093 01       		.byte	0x1
 3427 0094 03       		.uleb128 0x3
 3428 0095 0E       		.uleb128 0xe
 3429 0096 3A       		.uleb128 0x3a
 3430 0097 0B       		.uleb128 0xb
 3431 0098 3B       		.uleb128 0x3b
 3432 0099 05       		.uleb128 0x5
 3433 009a 27       		.uleb128 0x27
 3434 009b 19       		.uleb128 0x19
 3435 009c 49       		.uleb128 0x49
 3436 009d 13       		.uleb128 0x13
 3437 009e 11       		.uleb128 0x11
 3438 009f 01       		.uleb128 0x1
 3439 00a0 12       		.uleb128 0x12
 3440 00a1 06       		.uleb128 0x6
 3441 00a2 40       		.uleb128 0x40
 3442 00a3 18       		.uleb128 0x18
 3443 00a4 9742     		.uleb128 0x2117
 3444 00a6 19       		.uleb128 0x19
 3445 00a7 01       		.uleb128 0x1
 3446 00a8 13       		.uleb128 0x13
 3447 00a9 00       		.byte	0
 3448 00aa 00       		.byte	0
 3449 00ab 0F       		.uleb128 0xf
 3450 00ac 05       		.uleb128 0x5
 3451 00ad 00       		.byte	0
 3452 00ae 03       		.uleb128 0x3
 3453 00af 0E       		.uleb128 0xe
 3454 00b0 3A       		.uleb128 0x3a
 3455 00b1 0B       		.uleb128 0xb
 3456 00b2 3B       		.uleb128 0x3b
 3457 00b3 05       		.uleb128 0x5
 3458 00b4 49       		.uleb128 0x49
 3459 00b5 13       		.uleb128 0x13
 3460 00b6 02       		.uleb128 0x2
 3461 00b7 18       		.uleb128 0x18
 3462 00b8 00       		.byte	0
 3463 00b9 00       		.byte	0
 3464 00ba 10       		.uleb128 0x10
 3465 00bb 34       		.uleb128 0x34
 3466 00bc 00       		.byte	0
 3467 00bd 03       		.uleb128 0x3
 3468 00be 08       		.uleb128 0x8
 3469 00bf 3A       		.uleb128 0x3a
 3470 00c0 0B       		.uleb128 0xb
 3471 00c1 3B       		.uleb128 0x3b
 3472 00c2 05       		.uleb128 0x5
 3473 00c3 49       		.uleb128 0x49
 3474 00c4 13       		.uleb128 0x13
 3475 00c5 02       		.uleb128 0x2
 3476 00c6 18       		.uleb128 0x18
 3477 00c7 00       		.byte	0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 115


 3478 00c8 00       		.byte	0
 3479 00c9 11       		.uleb128 0x11
 3480 00ca 26       		.uleb128 0x26
 3481 00cb 00       		.byte	0
 3482 00cc 49       		.uleb128 0x49
 3483 00cd 13       		.uleb128 0x13
 3484 00ce 00       		.byte	0
 3485 00cf 00       		.byte	0
 3486 00d0 12       		.uleb128 0x12
 3487 00d1 2E       		.uleb128 0x2e
 3488 00d2 01       		.byte	0x1
 3489 00d3 3F       		.uleb128 0x3f
 3490 00d4 19       		.uleb128 0x19
 3491 00d5 03       		.uleb128 0x3
 3492 00d6 0E       		.uleb128 0xe
 3493 00d7 3A       		.uleb128 0x3a
 3494 00d8 0B       		.uleb128 0xb
 3495 00d9 3B       		.uleb128 0x3b
 3496 00da 05       		.uleb128 0x5
 3497 00db 27       		.uleb128 0x27
 3498 00dc 19       		.uleb128 0x19
 3499 00dd 11       		.uleb128 0x11
 3500 00de 01       		.uleb128 0x1
 3501 00df 12       		.uleb128 0x12
 3502 00e0 06       		.uleb128 0x6
 3503 00e1 40       		.uleb128 0x40
 3504 00e2 18       		.uleb128 0x18
 3505 00e3 9742     		.uleb128 0x2117
 3506 00e5 19       		.uleb128 0x19
 3507 00e6 01       		.uleb128 0x1
 3508 00e7 13       		.uleb128 0x13
 3509 00e8 00       		.byte	0
 3510 00e9 00       		.byte	0
 3511 00ea 13       		.uleb128 0x13
 3512 00eb 2E       		.uleb128 0x2e
 3513 00ec 01       		.byte	0x1
 3514 00ed 3F       		.uleb128 0x3f
 3515 00ee 19       		.uleb128 0x19
 3516 00ef 03       		.uleb128 0x3
 3517 00f0 0E       		.uleb128 0xe
 3518 00f1 3A       		.uleb128 0x3a
 3519 00f2 0B       		.uleb128 0xb
 3520 00f3 3B       		.uleb128 0x3b
 3521 00f4 05       		.uleb128 0x5
 3522 00f5 27       		.uleb128 0x27
 3523 00f6 19       		.uleb128 0x19
 3524 00f7 49       		.uleb128 0x49
 3525 00f8 13       		.uleb128 0x13
 3526 00f9 11       		.uleb128 0x11
 3527 00fa 01       		.uleb128 0x1
 3528 00fb 12       		.uleb128 0x12
 3529 00fc 06       		.uleb128 0x6
 3530 00fd 40       		.uleb128 0x40
 3531 00fe 18       		.uleb128 0x18
 3532 00ff 9642     		.uleb128 0x2116
 3533 0101 19       		.uleb128 0x19
 3534 0102 01       		.uleb128 0x1
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 116


 3535 0103 13       		.uleb128 0x13
 3536 0104 00       		.byte	0
 3537 0105 00       		.byte	0
 3538 0106 14       		.uleb128 0x14
 3539 0107 2E       		.uleb128 0x2e
 3540 0108 01       		.byte	0x1
 3541 0109 3F       		.uleb128 0x3f
 3542 010a 19       		.uleb128 0x19
 3543 010b 03       		.uleb128 0x3
 3544 010c 0E       		.uleb128 0xe
 3545 010d 3A       		.uleb128 0x3a
 3546 010e 0B       		.uleb128 0xb
 3547 010f 3B       		.uleb128 0x3b
 3548 0110 05       		.uleb128 0x5
 3549 0111 27       		.uleb128 0x27
 3550 0112 19       		.uleb128 0x19
 3551 0113 11       		.uleb128 0x11
 3552 0114 01       		.uleb128 0x1
 3553 0115 12       		.uleb128 0x12
 3554 0116 06       		.uleb128 0x6
 3555 0117 40       		.uleb128 0x40
 3556 0118 18       		.uleb128 0x18
 3557 0119 9642     		.uleb128 0x2116
 3558 011b 19       		.uleb128 0x19
 3559 011c 01       		.uleb128 0x1
 3560 011d 13       		.uleb128 0x13
 3561 011e 00       		.byte	0
 3562 011f 00       		.byte	0
 3563 0120 15       		.uleb128 0x15
 3564 0121 34       		.uleb128 0x34
 3565 0122 00       		.byte	0
 3566 0123 03       		.uleb128 0x3
 3567 0124 0E       		.uleb128 0xe
 3568 0125 3A       		.uleb128 0x3a
 3569 0126 0B       		.uleb128 0xb
 3570 0127 3B       		.uleb128 0x3b
 3571 0128 05       		.uleb128 0x5
 3572 0129 49       		.uleb128 0x49
 3573 012a 13       		.uleb128 0x13
 3574 012b 02       		.uleb128 0x2
 3575 012c 18       		.uleb128 0x18
 3576 012d 00       		.byte	0
 3577 012e 00       		.byte	0
 3578 012f 16       		.uleb128 0x16
 3579 0130 2E       		.uleb128 0x2e
 3580 0131 00       		.byte	0
 3581 0132 03       		.uleb128 0x3
 3582 0133 0E       		.uleb128 0xe
 3583 0134 3A       		.uleb128 0x3a
 3584 0135 0B       		.uleb128 0xb
 3585 0136 3B       		.uleb128 0x3b
 3586 0137 05       		.uleb128 0x5
 3587 0138 27       		.uleb128 0x27
 3588 0139 19       		.uleb128 0x19
 3589 013a 11       		.uleb128 0x11
 3590 013b 01       		.uleb128 0x1
 3591 013c 12       		.uleb128 0x12
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 117


 3592 013d 06       		.uleb128 0x6
 3593 013e 40       		.uleb128 0x40
 3594 013f 18       		.uleb128 0x18
 3595 0140 9642     		.uleb128 0x2116
 3596 0142 19       		.uleb128 0x19
 3597 0143 00       		.byte	0
 3598 0144 00       		.byte	0
 3599 0145 17       		.uleb128 0x17
 3600 0146 0B       		.uleb128 0xb
 3601 0147 01       		.byte	0x1
 3602 0148 11       		.uleb128 0x11
 3603 0149 01       		.uleb128 0x1
 3604 014a 12       		.uleb128 0x12
 3605 014b 06       		.uleb128 0x6
 3606 014c 00       		.byte	0
 3607 014d 00       		.byte	0
 3608 014e 18       		.uleb128 0x18
 3609 014f 2E       		.uleb128 0x2e
 3610 0150 01       		.byte	0x1
 3611 0151 03       		.uleb128 0x3
 3612 0152 0E       		.uleb128 0xe
 3613 0153 3A       		.uleb128 0x3a
 3614 0154 0B       		.uleb128 0xb
 3615 0155 3B       		.uleb128 0x3b
 3616 0156 05       		.uleb128 0x5
 3617 0157 27       		.uleb128 0x27
 3618 0158 19       		.uleb128 0x19
 3619 0159 11       		.uleb128 0x11
 3620 015a 01       		.uleb128 0x1
 3621 015b 12       		.uleb128 0x12
 3622 015c 06       		.uleb128 0x6
 3623 015d 40       		.uleb128 0x40
 3624 015e 18       		.uleb128 0x18
 3625 015f 9742     		.uleb128 0x2117
 3626 0161 19       		.uleb128 0x19
 3627 0162 01       		.uleb128 0x1
 3628 0163 13       		.uleb128 0x13
 3629 0164 00       		.byte	0
 3630 0165 00       		.byte	0
 3631 0166 19       		.uleb128 0x19
 3632 0167 2E       		.uleb128 0x2e
 3633 0168 01       		.byte	0x1
 3634 0169 03       		.uleb128 0x3
 3635 016a 0E       		.uleb128 0xe
 3636 016b 3A       		.uleb128 0x3a
 3637 016c 0B       		.uleb128 0xb
 3638 016d 3B       		.uleb128 0x3b
 3639 016e 05       		.uleb128 0x5
 3640 016f 27       		.uleb128 0x27
 3641 0170 19       		.uleb128 0x19
 3642 0171 11       		.uleb128 0x11
 3643 0172 01       		.uleb128 0x1
 3644 0173 12       		.uleb128 0x12
 3645 0174 06       		.uleb128 0x6
 3646 0175 40       		.uleb128 0x40
 3647 0176 18       		.uleb128 0x18
 3648 0177 9642     		.uleb128 0x2116
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 118


 3649 0179 19       		.uleb128 0x19
 3650 017a 01       		.uleb128 0x1
 3651 017b 13       		.uleb128 0x13
 3652 017c 00       		.byte	0
 3653 017d 00       		.byte	0
 3654 017e 1A       		.uleb128 0x1a
 3655 017f 0B       		.uleb128 0xb
 3656 0180 01       		.byte	0x1
 3657 0181 11       		.uleb128 0x11
 3658 0182 01       		.uleb128 0x1
 3659 0183 12       		.uleb128 0x12
 3660 0184 06       		.uleb128 0x6
 3661 0185 01       		.uleb128 0x1
 3662 0186 13       		.uleb128 0x13
 3663 0187 00       		.byte	0
 3664 0188 00       		.byte	0
 3665 0189 1B       		.uleb128 0x1b
 3666 018a 0B       		.uleb128 0xb
 3667 018b 01       		.byte	0x1
 3668 018c 55       		.uleb128 0x55
 3669 018d 17       		.uleb128 0x17
 3670 018e 01       		.uleb128 0x1
 3671 018f 13       		.uleb128 0x13
 3672 0190 00       		.byte	0
 3673 0191 00       		.byte	0
 3674 0192 1C       		.uleb128 0x1c
 3675 0193 0B       		.uleb128 0xb
 3676 0194 01       		.byte	0x1
 3677 0195 55       		.uleb128 0x55
 3678 0196 17       		.uleb128 0x17
 3679 0197 00       		.byte	0
 3680 0198 00       		.byte	0
 3681 0199 1D       		.uleb128 0x1d
 3682 019a 21       		.uleb128 0x21
 3683 019b 00       		.byte	0
 3684 019c 49       		.uleb128 0x49
 3685 019d 13       		.uleb128 0x13
 3686 019e 2F       		.uleb128 0x2f
 3687 019f 05       		.uleb128 0x5
 3688 01a0 00       		.byte	0
 3689 01a1 00       		.byte	0
 3690 01a2 1E       		.uleb128 0x1e
 3691 01a3 2E       		.uleb128 0x2e
 3692 01a4 01       		.byte	0x1
 3693 01a5 03       		.uleb128 0x3
 3694 01a6 0E       		.uleb128 0xe
 3695 01a7 3A       		.uleb128 0x3a
 3696 01a8 0B       		.uleb128 0xb
 3697 01a9 3B       		.uleb128 0x3b
 3698 01aa 05       		.uleb128 0x5
 3699 01ab 27       		.uleb128 0x27
 3700 01ac 19       		.uleb128 0x19
 3701 01ad 49       		.uleb128 0x49
 3702 01ae 13       		.uleb128 0x13
 3703 01af 11       		.uleb128 0x11
 3704 01b0 01       		.uleb128 0x1
 3705 01b1 12       		.uleb128 0x12
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 119


 3706 01b2 06       		.uleb128 0x6
 3707 01b3 40       		.uleb128 0x40
 3708 01b4 18       		.uleb128 0x18
 3709 01b5 9642     		.uleb128 0x2116
 3710 01b7 19       		.uleb128 0x19
 3711 01b8 01       		.uleb128 0x1
 3712 01b9 13       		.uleb128 0x13
 3713 01ba 00       		.byte	0
 3714 01bb 00       		.byte	0
 3715 01bc 1F       		.uleb128 0x1f
 3716 01bd 34       		.uleb128 0x34
 3717 01be 00       		.byte	0
 3718 01bf 03       		.uleb128 0x3
 3719 01c0 0E       		.uleb128 0xe
 3720 01c1 3A       		.uleb128 0x3a
 3721 01c2 0B       		.uleb128 0xb
 3722 01c3 3B       		.uleb128 0x3b
 3723 01c4 0B       		.uleb128 0xb
 3724 01c5 49       		.uleb128 0x49
 3725 01c6 13       		.uleb128 0x13
 3726 01c7 02       		.uleb128 0x2
 3727 01c8 18       		.uleb128 0x18
 3728 01c9 00       		.byte	0
 3729 01ca 00       		.byte	0
 3730 01cb 20       		.uleb128 0x20
 3731 01cc 34       		.uleb128 0x34
 3732 01cd 00       		.byte	0
 3733 01ce 03       		.uleb128 0x3
 3734 01cf 0E       		.uleb128 0xe
 3735 01d0 3A       		.uleb128 0x3a
 3736 01d1 0B       		.uleb128 0xb
 3737 01d2 3B       		.uleb128 0x3b
 3738 01d3 0B       		.uleb128 0xb
 3739 01d4 49       		.uleb128 0x49
 3740 01d5 13       		.uleb128 0x13
 3741 01d6 3F       		.uleb128 0x3f
 3742 01d7 19       		.uleb128 0x19
 3743 01d8 02       		.uleb128 0x2
 3744 01d9 18       		.uleb128 0x18
 3745 01da 00       		.byte	0
 3746 01db 00       		.byte	0
 3747 01dc 21       		.uleb128 0x21
 3748 01dd 34       		.uleb128 0x34
 3749 01de 00       		.byte	0
 3750 01df 03       		.uleb128 0x3
 3751 01e0 0E       		.uleb128 0xe
 3752 01e1 3A       		.uleb128 0x3a
 3753 01e2 0B       		.uleb128 0xb
 3754 01e3 3B       		.uleb128 0x3b
 3755 01e4 05       		.uleb128 0x5
 3756 01e5 49       		.uleb128 0x49
 3757 01e6 13       		.uleb128 0x13
 3758 01e7 3F       		.uleb128 0x3f
 3759 01e8 19       		.uleb128 0x19
 3760 01e9 3C       		.uleb128 0x3c
 3761 01ea 19       		.uleb128 0x19
 3762 01eb 00       		.byte	0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 120


 3763 01ec 00       		.byte	0
 3764 01ed 00       		.byte	0
 3765              		.section	.debug_aranges,"",%progbits
 3766 0000 7C000000 		.4byte	0x7c
 3767 0004 0200     		.2byte	0x2
 3768 0006 00000000 		.4byte	.Ldebug_info0
 3769 000a 04       		.byte	0x4
 3770 000b 00       		.byte	0
 3771 000c 0000     		.2byte	0
 3772 000e 0000     		.2byte	0
 3773 0010 00000000 		.4byte	.LFB63
 3774 0014 40000000 		.4byte	.LFE63-.LFB63
 3775 0018 00000000 		.4byte	.LFB64
 3776 001c 1C000000 		.4byte	.LFE64-.LFB64
 3777 0020 00000000 		.4byte	.LFB65
 3778 0024 54000000 		.4byte	.LFE65-.LFB65
 3779 0028 00000000 		.4byte	.LFB66
 3780 002c 9C000000 		.4byte	.LFE66-.LFB66
 3781 0030 00000000 		.4byte	.LFB67
 3782 0034 18000000 		.4byte	.LFE67-.LFB67
 3783 0038 00000000 		.4byte	.LFB68
 3784 003c 80000000 		.4byte	.LFE68-.LFB68
 3785 0040 00000000 		.4byte	.LFB69
 3786 0044 4C000000 		.4byte	.LFE69-.LFB69
 3787 0048 00000000 		.4byte	.LFB70
 3788 004c 04000000 		.4byte	.LFE70-.LFB70
 3789 0050 00000000 		.4byte	.LFB71
 3790 0054 EC000000 		.4byte	.LFE71-.LFB71
 3791 0058 00000000 		.4byte	.LFB72
 3792 005c 78070000 		.4byte	.LFE72-.LFB72
 3793 0060 00000000 		.4byte	.LFB73
 3794 0064 8E000000 		.4byte	.LFE73-.LFB73
 3795 0068 00000000 		.4byte	.LFB74
 3796 006c AE000000 		.4byte	.LFE74-.LFB74
 3797 0070 00000000 		.4byte	.LFB75
 3798 0074 00020000 		.4byte	.LFE75-.LFB75
 3799 0078 00000000 		.4byte	0
 3800 007c 00000000 		.4byte	0
 3801              		.section	.debug_ranges,"",%progbits
 3802              	.Ldebug_ranges0:
 3803 0000 E8020000 		.4byte	.LBB7
 3804 0004 1C040000 		.4byte	.LBE7
 3805 0008 26070000 		.4byte	.LBB15
 3806 000c 2A070000 		.4byte	.LBE15
 3807 0010 00000000 		.4byte	0
 3808 0014 00000000 		.4byte	0
 3809 0018 54030000 		.4byte	.LBB8
 3810 001c 0E040000 		.4byte	.LBE8
 3811 0020 26070000 		.4byte	.LBB9
 3812 0024 2A070000 		.4byte	.LBE9
 3813 0028 00000000 		.4byte	0
 3814 002c 00000000 		.4byte	0
 3815 0030 E2040000 		.4byte	.LBB11
 3816 0034 46060000 		.4byte	.LBE11
 3817 0038 36070000 		.4byte	.LBB16
 3818 003c 3C070000 		.4byte	.LBE16
 3819 0040 00000000 		.4byte	0
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 121


 3820 0044 00000000 		.4byte	0
 3821 0048 74060000 		.4byte	.LBB13
 3822 004c 02070000 		.4byte	.LBE13
 3823 0050 04070000 		.4byte	.LBB14
 3824 0054 0E070000 		.4byte	.LBE14
 3825 0058 00000000 		.4byte	0
 3826 005c 00000000 		.4byte	0
 3827 0060 00000000 		.4byte	.LFB63
 3828 0064 40000000 		.4byte	.LFE63
 3829 0068 00000000 		.4byte	.LFB64
 3830 006c 1C000000 		.4byte	.LFE64
 3831 0070 00000000 		.4byte	.LFB65
 3832 0074 54000000 		.4byte	.LFE65
 3833 0078 00000000 		.4byte	.LFB66
 3834 007c 9C000000 		.4byte	.LFE66
 3835 0080 00000000 		.4byte	.LFB67
 3836 0084 18000000 		.4byte	.LFE67
 3837 0088 00000000 		.4byte	.LFB68
 3838 008c 80000000 		.4byte	.LFE68
 3839 0090 00000000 		.4byte	.LFB69
 3840 0094 4C000000 		.4byte	.LFE69
 3841 0098 00000000 		.4byte	.LFB70
 3842 009c 04000000 		.4byte	.LFE70
 3843 00a0 00000000 		.4byte	.LFB71
 3844 00a4 EC000000 		.4byte	.LFE71
 3845 00a8 00000000 		.4byte	.LFB72
 3846 00ac 78070000 		.4byte	.LFE72
 3847 00b0 00000000 		.4byte	.LFB73
 3848 00b4 8E000000 		.4byte	.LFE73
 3849 00b8 00000000 		.4byte	.LFB74
 3850 00bc AE000000 		.4byte	.LFE74
 3851 00c0 00000000 		.4byte	.LFB75
 3852 00c4 00020000 		.4byte	.LFE75
 3853 00c8 00000000 		.4byte	0
 3854 00cc 00000000 		.4byte	0
 3855              		.section	.debug_line,"",%progbits
 3856              	.Ldebug_line0:
 3857 0000 86050000 		.section	.debug_str,"MS",%progbits,1
 3857      02007601 
 3857      00000201 
 3857      FB0E0D00 
 3857      01010101 
 3858              	.LASF49:
 3859 0000 76616C69 		.ascii	"valid\000"
 3859      6400
 3860              	.LASF43:
 3861 0006 61707049 		.ascii	"appId\000"
 3861      6400
 3862              	.LASF90:
 3863 000c 72657375 		.ascii	"result\000"
 3863      6C7400
 3864              	.LASF14:
 3865 0013 666C6F61 		.ascii	"float\000"
 3865      7400
 3866              	.LASF36:
 3867 0019 62617365 		.ascii	"baseAddr\000"
 3867      41646472 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 122


 3867      00
 3868              	.LASF15:
 3869 0022 646F7562 		.ascii	"double\000"
 3869      6C6500
 3870              	.LASF59:
 3871 0029 706B7453 		.ascii	"pktSize\000"
 3871      697A6500 
 3872              	.LASF46:
 3873 0031 61707041 		.ascii	"appAddr\000"
 3873      64647200 
 3874              	.LASF84:
 3875 0039 726F7744 		.ascii	"rowData\000"
 3875      61746100 
 3876              	.LASF65:
 3877 0041 62746C64 		.ascii	"btldrData\000"
 3877      72446174 
 3877      6100
 3878              	.LASF2:
 3879 004b 73686F72 		.ascii	"short int\000"
 3879      7420696E 
 3879      7400
 3880              	.LASF56:
 3881 0055 61636B43 		.ascii	"ackCode\000"
 3881      6F646500 
 3882              	.LASF20:
 3883 005d 73697A65 		.ascii	"sizetype\000"
 3883      74797065 
 3883      00
 3884              	.LASF66:
 3885 0066 73746172 		.ascii	"startRow\000"
 3885      74526F77 
 3885      00
 3886              	.LASF52:
 3887 006f 426F6F74 		.ascii	"Bootloader_HostLink\000"
 3887      6C6F6164 
 3887      65725F48 
 3887      6F73744C 
 3887      696E6B00 
 3888              	.LASF97:
 3889 0083 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 3889      43313120 
 3889      352E342E 
 3889      31203230 
 3889      31363036 
 3890 00b6 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m3 -mthumb -g -O"
 3890      20726576 
 3890      6973696F 
 3890      6E203233 
 3890      37373135 
 3891 00e9 30202D66 		.ascii	"0 -ffunction-sections -ffat-lto-objects\000"
 3891      66756E63 
 3891      74696F6E 
 3891      2D736563 
 3891      74696F6E 
 3892              	.LASF62:
 3893 0111 64617461 		.ascii	"dataOffset\000"
 3893      4F666673 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 123


 3893      657400
 3894              	.LASF61:
 3895 011c 636F6D6D 		.ascii	"communicationState\000"
 3895      756E6963 
 3895      6174696F 
 3895      6E537461 
 3895      746500
 3896              	.LASF70:
 3897 012f 42746C64 		.ascii	"BtldrVersion\000"
 3897      72566572 
 3897      73696F6E 
 3897      00
 3898              	.LASF82:
 3899 013c 72756E54 		.ascii	"runType\000"
 3899      79706500 
 3900              	.LASF45:
 3901 0144 61637469 		.ascii	"activeApp\000"
 3901      76654170 
 3901      7000
 3902              	.LASF100:
 3903 014e 426F6F74 		.ascii	"Bootloader_LaunchApplication\000"
 3903      6C6F6164 
 3903      65725F4C 
 3903      61756E63 
 3903      68417070 
 3904              	.LASF12:
 3905 016b 75696E74 		.ascii	"uint16\000"
 3905      313600
 3906              	.LASF81:
 3907 0172 61646472 		.ascii	"address\000"
 3907      65737300 
 3908              	.LASF74:
 3909 017a 63686563 		.ascii	"checksum\000"
 3909      6B73756D 
 3909      00
 3910              	.LASF11:
 3911 0183 75696E74 		.ascii	"uint8\000"
 3911      3800
 3912              	.LASF10:
 3913 0189 696E7433 		.ascii	"int32_t\000"
 3913      325F7400 
 3914              	.LASF31:
 3915 0191 426F6F74 		.ascii	"BootLoaderVersion\000"
 3915      4C6F6164 
 3915      65725665 
 3915      7273696F 
 3915      6E00
 3916              	.LASF26:
 3917 01a3 704F7574 		.ascii	"pOutputBuffer\000"
 3917      70757442 
 3917      75666665 
 3917      7200
 3918              	.LASF48:
 3919 01b1 426F6F74 		.ascii	"Bootloader_ValidateBootloadable\000"
 3919      6C6F6164 
 3919      65725F56 
 3919      616C6964 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 124


 3919      61746542 
 3920              	.LASF6:
 3921 01d1 6C6F6E67 		.ascii	"long long int\000"
 3921      206C6F6E 
 3921      6720696E 
 3921      7400
 3922              	.LASF72:
 3923 01df 746D7052 		.ascii	"tmpRowNum\000"
 3923      6F774E75 
 3923      6D00
 3924              	.LASF22:
 3925 01e9 7061636B 		.ascii	"packetLength\000"
 3925      65744C65 
 3925      6E677468 
 3925      00
 3926              	.LASF4:
 3927 01f6 6C6F6E67 		.ascii	"long int\000"
 3927      20696E74 
 3927      00
 3928              	.LASF79:
 3929 01ff 426F6F74 		.ascii	"Bootloader_WritePacket\000"
 3929      6C6F6164 
 3929      65725F57 
 3929      72697465 
 3929      5061636B 
 3930              	.LASF67:
 3931 0216 61727261 		.ascii	"arrayIdBtlderEnds\000"
 3931      79496442 
 3931      746C6465 
 3931      72456E64 
 3931      7300
 3932              	.LASF50:
 3933 0228 63757242 		.ascii	"curByte\000"
 3933      79746500 
 3934              	.LASF75:
 3935 0230 746D7049 		.ascii	"tmpIndex\000"
 3935      6E646578 
 3935      00
 3936              	.LASF39:
 3937 0239 426F6F74 		.ascii	"Bootloader_Start\000"
 3937      6C6F6164 
 3937      65725F53 
 3937      74617274 
 3937      00
 3938              	.LASF54:
 3939 024a 6E756D62 		.ascii	"numberRead\000"
 3939      65725265 
 3939      616400
 3940              	.LASF41:
 3941 0255 63616C63 		.ascii	"calcedChecksum\000"
 3941      65644368 
 3941      65636B73 
 3941      756D00
 3942              	.LASF76:
 3943 0264 426F6F74 		.ascii	"Bootloader_inPacket\000"
 3943      6C6F6164 
 3943      65725F69 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 125


 3943      6E506163 
 3943      6B657400 
 3944              	.LASF71:
 3945 0278 726F774E 		.ascii	"rowNum\000"
 3945      756D00
 3946              	.LASF80:
 3947 027f 426F6F74 		.ascii	"Bootloader_SetFlashByte\000"
 3947      6C6F6164 
 3947      65725F53 
 3947      6574466C 
 3947      61736842 
 3948              	.LASF60:
 3949 0297 74696D65 		.ascii	"timeOutCnt\000"
 3949      4F757443 
 3949      6E7400
 3950              	.LASF19:
 3951 02a2 6C6F6E67 		.ascii	"long double\000"
 3951      20646F75 
 3951      626C6500 
 3952              	.LASF37:
 3953 02ae 73746172 		.ascii	"start\000"
 3953      7400
 3954              	.LASF1:
 3955 02b4 756E7369 		.ascii	"unsigned char\000"
 3955      676E6564 
 3955      20636861 
 3955      7200
 3956              	.LASF86:
 3957 02c2 426F6F74 		.ascii	"Bootloader_GetMetadata\000"
 3957      6C6F6164 
 3957      65725F47 
 3957      65744D65 
 3957      74616461 
 3958              	.LASF64:
 3959 02d9 64617461 		.ascii	"dataBuffer\000"
 3959      42756666 
 3959      657200
 3960              	.LASF78:
 3961 02e4 426F6F74 		.ascii	"Bootloader_CalcPacketChecksum\000"
 3961      6C6F6164 
 3961      65725F43 
 3961      616C6350 
 3961      61636B65 
 3962              	.LASF0:
 3963 0302 7369676E 		.ascii	"signed char\000"
 3963      65642063 
 3963      68617200 
 3964              	.LASF23:
 3965 030e 70496E70 		.ascii	"pInputBuffer\000"
 3965      75744275 
 3965      66666572 
 3965      00
 3966              	.LASF7:
 3967 031b 6C6F6E67 		.ascii	"long long unsigned int\000"
 3967      206C6F6E 
 3967      6720756E 
 3967      7369676E 
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 126


 3967      65642069 
 3968              	.LASF57:
 3969 0332 706B7443 		.ascii	"pktChecksum\000"
 3969      6865636B 
 3969      73756D00 
 3970              	.LASF92:
 3971 033e 426F6F74 		.ascii	"Bootloader_Checksum\000"
 3971      6C6F6164 
 3971      65725F43 
 3971      6865636B 
 3971      73756D00 
 3972              	.LASF44:
 3973 0352 43794274 		.ascii	"CyBtldr_CheckLaunch\000"
 3973      6C64725F 
 3973      43686563 
 3973      6B4C6175 
 3973      6E636800 
 3974              	.LASF87:
 3975 0366 6669656C 		.ascii	"field\000"
 3975      6400
 3976              	.LASF93:
 3977 036c 426F6F74 		.ascii	"Bootloader_ChecksumAccess\000"
 3977      6C6F6164 
 3977      65725F43 
 3977      6865636B 
 3977      73756D41 
 3978              	.LASF38:
 3979 0386 426F6F74 		.ascii	"Bootloader_InitCallback\000"
 3979      6C6F6164 
 3979      65725F49 
 3979      6E697443 
 3979      616C6C62 
 3980              	.LASF89:
 3981 039e 6669656C 		.ascii	"fieldSize\000"
 3981      6453697A 
 3981      6500
 3982              	.LASF25:
 3983 03a8 73746174 		.ascii	"status\000"
 3983      757300
 3984              	.LASF98:
 3985 03af 47656E65 		.ascii	"Generated_Source\\PSoC5\\Bootloader.c\000"
 3985      72617465 
 3985      645F536F 
 3985      75726365 
 3985      5C50536F 
 3986              	.LASF27:
 3987 03d3 426F6F74 		.ascii	"Bootloader_out_packet_type\000"
 3987      6C6F6164 
 3987      65725F6F 
 3987      75745F70 
 3987      61636B65 
 3988              	.LASF63:
 3989 03ee 7061636B 		.ascii	"packetBuffer\000"
 3989      65744275 
 3989      66666572 
 3989      00
 3990              	.LASF77:
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 127


 3991 03fb 426F6F74 		.ascii	"Bootloader_outPacket\000"
 3991      6C6F6164 
 3991      65725F6F 
 3991      75745061 
 3991      636B6574 
 3992              	.LASF16:
 3993 0410 63686172 		.ascii	"char\000"
 3993      00
 3994              	.LASF35:
 3995 0415 75736572 		.ascii	"userCallback\000"
 3995      43616C6C 
 3995      6261636B 
 3995      00
 3996              	.LASF17:
 3997 0422 63797374 		.ascii	"cystatus\000"
 3997      61747573 
 3997      00
 3998              	.LASF58:
 3999 042b 72656164 		.ascii	"readStat\000"
 3999      53746174 
 3999      00
 4000              	.LASF28:
 4001 0434 426F6F74 		.ascii	"Bootloader_callback_type\000"
 4001      6C6F6164 
 4001      65725F63 
 4001      616C6C62 
 4001      61636B5F 
 4002              	.LASF3:
 4003 044d 73686F72 		.ascii	"short unsigned int\000"
 4003      7420756E 
 4003      7369676E 
 4003      65642069 
 4003      6E7400
 4004              	.LASF53:
 4005 0460 74696D65 		.ascii	"timeOut\000"
 4005      4F757400 
 4006              	.LASF40:
 4007 0468 76616C69 		.ascii	"validApp\000"
 4007      64417070 
 4007      00
 4008              	.LASF55:
 4009 0471 72737053 		.ascii	"rspSize\000"
 4009      697A6500 
 4010              	.LASF29:
 4011 0479 53696C69 		.ascii	"SiliconId\000"
 4011      636F6E49 
 4011      6400
 4012              	.LASF33:
 4013 0483 62756666 		.ascii	"buffer\000"
 4013      657200
 4014              	.LASF13:
 4015 048a 75696E74 		.ascii	"uint32\000"
 4015      333200
 4016              	.LASF18:
 4017 0491 72656738 		.ascii	"reg8\000"
 4017      00
 4018              	.LASF5:
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 128


 4019 0496 6C6F6E67 		.ascii	"long unsigned int\000"
 4019      20756E73 
 4019      69676E65 
 4019      6420696E 
 4019      7400
 4020              	.LASF73:
 4021 04a8 726F7741 		.ascii	"rowAddr\000"
 4021      64647200 
 4022              	.LASF99:
 4023 04b0 443A5C57 		.ascii	"D:\\Work\\PSoC_Projects\\CY8CKIT-059\\CY8CKIT-059_B"
 4023      6F726B5C 
 4023      50536F43 
 4023      5F50726F 
 4023      6A656374 
 4024 04df 6F6F746C 		.ascii	"ootloader.cydsn\000"
 4024      6F616465 
 4024      722E6379 
 4024      64736E00 
 4025              	.LASF83:
 4026 04ef 666C7341 		.ascii	"flsAddr\000"
 4026      64647200 
 4027              	.LASF91:
 4028 04f7 426F6F74 		.ascii	"Bootloader_callback\000"
 4028      6C6F6164 
 4028      65725F63 
 4028      616C6C62 
 4028      61636B00 
 4029              	.LASF34:
 4030 050b 73697A65 		.ascii	"size\000"
 4030      00
 4031              	.LASF51:
 4032 0510 426F6F74 		.ascii	"Bootloader_LaunchBootloadable\000"
 4032      6C6F6164 
 4032      65725F4C 
 4032      61756E63 
 4032      68426F6F 
 4033              	.LASF47:
 4034 052e 426F6F74 		.ascii	"Bootloader_Calc8BitSum\000"
 4034      6C6F6164 
 4034      65725F43 
 4034      616C6338 
 4034      42697453 
 4035              	.LASF68:
 4036 0545 75707065 		.ascii	"upperRange\000"
 4036      7252616E 
 4036      676500
 4037              	.LASF9:
 4038 0550 5F5F696E 		.ascii	"__int32_t\000"
 4038      7433325F 
 4038      7400
 4039              	.LASF24:
 4040 055a 426F6F74 		.ascii	"Bootloader_in_packet_type\000"
 4040      6C6F6164 
 4040      65725F69 
 4040      6E5F7061 
 4040      636B6574 
 4041              	.LASF42:
ARM GAS  C:\Users\jobaek\AppData\Local\Temp\ccG7Gfbb.s 			page 129


 4042 0574 426F6F74 		.ascii	"Bootloader_Exit\000"
 4042      6C6F6164 
 4042      65725F45 
 4042      78697400 
 4043              	.LASF85:
 4044 0584 61727261 		.ascii	"arrayId\000"
 4044      79496400 
 4045              	.LASF21:
 4046 058c 636F6D6D 		.ascii	"command\000"
 4046      616E6400 
 4047              	.LASF30:
 4048 0594 52657669 		.ascii	"Revision\000"
 4048      73696F6E 
 4048      00
 4049              	.LASF94:
 4050 059d 426F6F74 		.ascii	"Bootloader_SizeBytes\000"
 4050      6C6F6164 
 4050      65725F53 
 4050      697A6542 
 4050      79746573 
 4051              	.LASF95:
 4052 05b2 426F6F74 		.ascii	"Bootloader_SizeBytesAccess\000"
 4052      6C6F6164 
 4052      65725F53 
 4052      697A6542 
 4052      79746573 
 4053              	.LASF69:
 4054 05cd 66697273 		.ascii	"firstRow\000"
 4054      74526F77 
 4054      00
 4055              	.LASF96:
 4056 05d6 49544D5F 		.ascii	"ITM_RxBuffer\000"
 4056      52784275 
 4056      66666572 
 4056      00
 4057              	.LASF88:
 4058 05e3 6669656C 		.ascii	"fieldPtr\000"
 4058      64507472 
 4058      00
 4059              	.LASF8:
 4060 05ec 756E7369 		.ascii	"unsigned int\000"
 4060      676E6564 
 4060      20696E74 
 4060      00
 4061              	.LASF32:
 4062 05f9 426F6F74 		.ascii	"Bootloader_ENTER\000"
 4062      6C6F6164 
 4062      65725F45 
 4062      4E544552 
 4062      00
 4063              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
